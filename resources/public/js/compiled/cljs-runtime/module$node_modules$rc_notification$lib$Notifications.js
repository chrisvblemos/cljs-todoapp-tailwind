shadow$provide.module$node_modules$rc_notification$lib$Notifications=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=
void 0;var _objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},
a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),_reactDom=require("module$node_modules$react_dom$index"),_NoticeList=global(require("module$node_modules$rc_notification$lib$NoticeList"));require=React.forwardRef(function(props,ref){var _props$prefixCls=
props.prefixCls,prefixCls=void 0===_props$prefixCls?"rc-notification":_props$prefixCls;_props$prefixCls=props.container;var motion=props.motion,maxCount=props.maxCount,className=props.className,style=props.style,onAllRemoved=props.onAllRemoved,stack=props.stack,renderNotifications=props.renderNotifications;props=React.useState([]);props=(0,_slicedToArray2.default)(props,2);var configList=props[0],setConfigList=props[1],onNoticeClose=function(key){var _config$onClose,config=configList.find(function(item){return item.key===
key});null===config||void 0===config||null===(_config$onClose=config.onClose)||void 0===_config$onClose||_config$onClose.call(config);setConfigList(function(list){return list.filter(function(item){return item.key!==key})})};React.useImperativeHandle(ref,function(){return{open:function(config){setConfigList(function(list){var clone=(0,_toConsumableArray2.default)(list),index=clone.findIndex(function(item){return item.key===config.key}),innerConfig=(0,_objectSpread2.default)({},config);if(0<=index){var _list$index;
innerConfig.times=((null===(_list$index=list[index])||void 0===_list$index?void 0:_list$index.times)||0)+1;clone[index]=innerConfig}else innerConfig.times=0,clone.push(innerConfig);0<maxCount&&clone.length>maxCount&&(clone=clone.slice(-maxCount));return clone})},close:function(key){onNoticeClose(key)},destroy:function(){setConfigList([])}}});ref=React.useState({});ref=(0,_slicedToArray2.default)(ref,2);var placements=ref[0],setPlacements=ref[1];React.useEffect(function(){var nextPlacements={};configList.forEach(function(config){var _config$placement=
config.placement;if(_config$placement=void 0===_config$placement?"topRight":_config$placement)nextPlacements[_config$placement]=nextPlacements[_config$placement]||[],nextPlacements[_config$placement].push(config)});Object.keys(placements).forEach(function(placement){nextPlacements[placement]=nextPlacements[placement]||[]});setPlacements(nextPlacements)},[configList]);var onAllNoticeRemoved=function(placement){setPlacements(function(originPlacements){originPlacements=(0,_objectSpread2.default)({},
originPlacements);(originPlacements[placement]||[]).length||delete originPlacements[placement];return originPlacements})},emptyRef=React.useRef(!1);React.useEffect(function(){0<Object.keys(placements).length?emptyRef.current=!0:emptyRef.current&&(null===onAllRemoved||void 0===onAllRemoved||onAllRemoved(),emptyRef.current=!1)},[placements]);if(!_props$prefixCls)return null;ref=Object.keys(placements);return(0,_reactDom.createPortal)(React.createElement(React.Fragment,null,ref.map(function(placement){var list=
React.createElement(_NoticeList.default,{key:placement,configList:placements[placement],placement,prefixCls,className:null===className||void 0===className?void 0:className(placement),style:null===style||void 0===style?void 0:style(placement),motion,onNoticeClose,onAllNoticeRemoved,stack});return renderNotifications?renderNotifications(list,{prefixCls,key:placement}):list})),_props$prefixCls)});require.displayName="Notifications";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_notification$lib$Notifications.js.map
