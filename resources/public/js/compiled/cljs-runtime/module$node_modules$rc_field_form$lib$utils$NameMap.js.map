{
"version":3,
"file":"module$node_modules$rc_field_form$lib$utils$NameMap.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/rc-field-form/lib/utils/NameMap.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_field_form$lib$utils$NameMap\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar SPLIT = '__@field_split__';\n\n/**\n * Convert name path into string to fast the fetch speed of Map.\n */\nfunction normalize(namePath) {\n  return namePath.map(function (cell) {\n    return \"\".concat((0, _typeof2.default)(cell), \":\").concat(cell);\n  })\n  // Magic split\n  .join(SPLIT);\n}\n\n/**\n * NameMap like a `Map` but accepts `string[]` as key.\n */\nvar NameMap = /*#__PURE__*/function () {\n  function NameMap() {\n    (0, _classCallCheck2.default)(this, NameMap);\n    (0, _defineProperty2.default)(this, \"kvs\", new Map());\n  }\n  (0, _createClass2.default)(NameMap, [{\n    key: \"set\",\n    value: function set(key, value) {\n      this.kvs.set(normalize(key), value);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return this.kvs.get(normalize(key));\n    }\n  }, {\n    key: \"update\",\n    value: function update(key, updater) {\n      var origin = this.get(key);\n      var next = updater(origin);\n      if (!next) {\n        this.delete(key);\n      } else {\n        this.set(key, next);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      this.kvs.delete(normalize(key));\n    }\n\n    // Since we only use this in test, let simply realize this\n  }, {\n    key: \"map\",\n    value: function map(callback) {\n      return (0, _toConsumableArray2.default)(this.kvs.entries()).map(function (_ref) {\n        var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n        var cells = key.split(SPLIT);\n        return callback({\n          key: cells.map(function (cell) {\n            var _cell$match = cell.match(/^([^:]*):(.*)$/),\n              _cell$match2 = (0, _slicedToArray2.default)(_cell$match, 3),\n              type = _cell$match2[1],\n              unit = _cell$match2[2];\n            return type === 'number' ? Number(unit) : unit;\n          }),\n          value: value\n        });\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var json = {};\n      this.map(function (_ref3) {\n        var key = _ref3.key,\n          value = _ref3.value;\n        json[key.join('.')] = value;\n        return null;\n      });\n      return json;\n    }\n  }]);\n  return NameMap;\n}();\nvar _default = exports.default = NameMap;\n};"],
"names":["shadow$provide","global","require","module","exports","normalize","namePath","map","cell","concat","_typeof2","default","join","SPLIT","_interopRequireDefault","Object","defineProperty","value","_slicedToArray2","_toConsumableArray2","_classCallCheck2","_createClass2","_defineProperty2","NameMap","Map","key","set","kvs","get","update","updater","origin","next","delete","_delete","callback","entries","_ref","_ref2","cells","split","_cell$match","match","_cell$match2","unit","type","Number","toJSON","json","_ref3"]
}
