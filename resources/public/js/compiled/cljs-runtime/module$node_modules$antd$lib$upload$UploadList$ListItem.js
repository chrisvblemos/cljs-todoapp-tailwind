shadow$provide.module$node_modules$antd$lib$upload$UploadList$ListItem=function(global,require,module,exports){"use client";global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var React=module(require("module$node_modules$react$index")),_DeleteOutlined=global(require("module$node_modules$$ant_design$icons$DeleteOutlined")),
_DownloadOutlined=global(require("module$node_modules$$ant_design$icons$DownloadOutlined")),_EyeOutlined=global(require("module$node_modules$$ant_design$icons$EyeOutlined")),_classnames=global(require("module$node_modules$classnames$index")),_rcMotion=global(require("module$node_modules$rc_motion$lib$index")),_configProvider=require("module$node_modules$antd$lib$config_provider$index"),_progress=global(require("module$node_modules$antd$lib$progress$index")),_tooltip=global(require("module$node_modules$antd$lib$tooltip$index"));
require=React.forwardRef((_ref,ref)=>{let {prefixCls,className,style,locale,listType,file,items,progress:progressProps,iconRender,actionIconRender,itemRender,isImgUrl,showPreviewIcon,showRemoveIcon,showDownloadIcon,previewIcon:customPreviewIcon,removeIcon:customRemoveIcon,downloadIcon:customDownloadIcon,extra:customExtra,onPreview,onDownload,onClose}=_ref;var _a,_b;const {status}=file,[mergedStatus,setMergedStatus]=React.useState(status);React.useEffect(()=>{"removed"!==status&&setMergedStatus(status)},
[status]);const [showProgress,setShowProgress]=React.useState(!1);React.useEffect(()=>{const timer=setTimeout(()=>{setShowProgress(!0)},300);return()=>{clearTimeout(timer)}},[]);var iconNode=iconRender(file);_ref=React.createElement("div",{className:`${prefixCls}-icon`},iconNode);if("picture"===listType||"picture-card"===listType||"picture-circle"===listType)"uploading"===mergedStatus||!file.thumbUrl&&!file.url?(_ref=(0,_classnames.default)(`${prefixCls}-list-item-thumbnail`,{[`${prefixCls}-list-item-file`]:"uploading"!==
mergedStatus}),_ref=React.createElement("div",{className:_ref},iconNode)):(_ref=(null===isImgUrl||void 0===isImgUrl?0:isImgUrl(file))?React.createElement("img",{src:file.thumbUrl||file.url,alt:file.name,className:`${prefixCls}-list-item-image`,crossOrigin:file.crossOrigin}):iconNode,iconNode=(0,_classnames.default)(`${prefixCls}-list-item-thumbnail`,{[`${prefixCls}-list-item-file`]:isImgUrl&&!isImgUrl(file)}),_ref=React.createElement("a",{className:iconNode,onClick:e=>onPreview(file,e),href:file.url||
file.thumbUrl,target:"_blank",rel:"noopener noreferrer"},_ref));iconNode=(0,_classnames.default)(`${prefixCls}-list-item`,`${prefixCls}-list-item-${mergedStatus}`);var linkProps="string"===typeof file.linkProps?JSON.parse(file.linkProps):file.linkProps,removeIcon=("function"===typeof showRemoveIcon?showRemoveIcon(file):showRemoveIcon)?actionIconRender(("function"===typeof customRemoveIcon?customRemoveIcon(file):customRemoveIcon)||React.createElement(_DeleteOutlined.default,null),()=>onClose(file),
prefixCls,locale.removeFile,!0):null,downloadIcon=("function"===typeof showDownloadIcon?showDownloadIcon(file):showDownloadIcon)&&"done"===mergedStatus?actionIconRender(("function"===typeof customDownloadIcon?customDownloadIcon(file):customDownloadIcon)||React.createElement(_DownloadOutlined.default,null),()=>onDownload(file),prefixCls,locale.downloadFile):null;const downloadOrDelete="picture-card"!==listType&&"picture-circle"!==listType&&React.createElement("span",{key:"download-delete",className:(0,_classnames.default)(`${prefixCls}-list-item-actions`,
{picture:"picture"===listType})},downloadIcon,removeIcon);var extraContent="function"===typeof customExtra?customExtra(file):customExtra;extraContent=extraContent&&React.createElement("span",{className:`${prefixCls}-list-item-extra`},extraContent);const listItemNameClass=(0,_classnames.default)(`${prefixCls}-list-item-name`);linkProps=file.url?React.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:listItemNameClass,title:file.name},linkProps,{href:file.url,
onClick:e=>onPreview(file,e)}),file.name,extraContent):React.createElement("span",{key:"view",className:listItemNameClass,onClick:e=>onPreview(file,e),title:file.name},file.name,extraContent);extraContent=("function"===typeof showPreviewIcon?showPreviewIcon(file):showPreviewIcon)&&(file.url||file.thumbUrl)?React.createElement("a",{href:file.url||file.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:e=>onPreview(file,e),title:locale.previewFile},"function"===typeof customPreviewIcon?customPreviewIcon(file):
customPreviewIcon||React.createElement(_EyeOutlined.default,null)):null;removeIcon=("picture-card"===listType||"picture-circle"===listType)&&"uploading"!==mergedStatus&&React.createElement("span",{className:`${prefixCls}-list-item-actions`},extraContent,"done"===mergedStatus&&downloadIcon,removeIcon);({getPrefixCls:downloadIcon}=React.useContext(_configProvider.ConfigContext));downloadIcon=downloadIcon();_ref=React.createElement("div",{className:iconNode},_ref,linkProps,downloadOrDelete,removeIcon,
showProgress&&React.createElement(_rcMotion.default,{motionName:`${downloadIcon}-fade`,visible:"uploading"===mergedStatus,motionDeadline:2E3},_ref2=>{({className:_ref2}=_ref2);const loadingProgress="percent"in file?React.createElement(_progress.default,Object.assign({},progressProps,{type:"line",percent:file.percent,"aria-label":file["aria-label"],"aria-labelledby":file["aria-labelledby"]})):null;return React.createElement("div",{className:(0,_classnames.default)(`${prefixCls}-list-item-progress`,
_ref2)},loadingProgress)}));iconNode=file.response&&"string"===typeof file.response?file.response:(null===(_a=file.error)||void 0===_a?void 0:_a.statusText)||(null===(_b=file.error)||void 0===_b?void 0:_b.message)||locale.uploadError;_a="error"===mergedStatus?React.createElement(_tooltip.default,{title:iconNode,getPopupContainer:node=>node.parentNode},_ref):_ref;return React.createElement("div",{className:(0,_classnames.default)(`${prefixCls}-list-item-container`,className),style,ref},itemRender?
itemRender(_a,file,items,{download:onDownload.bind(null,file),preview:onPreview.bind(null,file),remove:onClose.bind(null,file)}):_a)});exports.default=require}
//# sourceMappingURL=module$node_modules$antd$lib$upload$UploadList$ListItem.js.map
