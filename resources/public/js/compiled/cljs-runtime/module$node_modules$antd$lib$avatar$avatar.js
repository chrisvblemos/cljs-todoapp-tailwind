shadow$provide.module$node_modules$antd$lib$avatar$avatar=function(global,require,module,exports){"use client";global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var React=module(require("module$node_modules$react$index")),_classnames=global(require("module$node_modules$classnames$index")),
_rcResizeObserver=global(require("module$node_modules$rc_resize_observer$lib$index")),_ref=require("module$node_modules$rc_util$lib$ref"),_responsiveObserver=require("module$node_modules$antd$lib$_util$responsiveObserver"),_warning=require("module$node_modules$antd$lib$_util$warning"),_configProvider=require("module$node_modules$antd$lib$config_provider$index"),_useCSSVarCls=global(require("module$node_modules$antd$lib$config_provider$hooks$useCSSVarCls")),_useSize=global(require("module$node_modules$antd$lib$config_provider$hooks$useSize")),
_useBreakpoint=global(require("module$node_modules$antd$lib$grid$hooks$useBreakpoint")),_AvatarContext=global(require("module$node_modules$antd$lib$avatar$AvatarContext")),_style=global(require("module$node_modules$antd$lib$avatar$style$index")),__rest=function(s,e){var t={},p;for(p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&
Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};require=React.forwardRef((props,ref)=>{const [scale,setScale]=React.useState(1),[mounted,setMounted]=React.useState(!1),[isImgExist,setIsImgExist]=React.useState(!0),avatarNodeRef=React.useRef(null),avatarChildrenRef=React.useRef(null);ref=(0,_ref.composeRef)(ref,avatarNodeRef);const {getPrefixCls,avatar}=React.useContext(_configProvider.ConfigContext),avatarCtx=React.useContext(_AvatarContext.default);var setScaleParam=
()=>{if(avatarChildrenRef.current&&avatarNodeRef.current){var childrenWidth=avatarChildrenRef.current.offsetWidth,nodeWidth=avatarNodeRef.current.offsetWidth;if(0!==childrenWidth&&0!==nodeWidth){const {gap=4}=props;2*gap<nodeWidth&&setScale(nodeWidth-2*gap<childrenWidth?(nodeWidth-2*gap)/childrenWidth:1)}}};React.useEffect(()=>{setMounted(!0)},[]);React.useEffect(()=>{setIsImgExist(!0);setScale(1)},[props.src]);React.useEffect(setScaleParam,[props.gap]);var handleImgLoadError=()=>{const {onError}=
props;!1!==(null===onError||void 0===onError?void 0:onError())&&setIsImgExist(!1)};const {prefixCls:customizePrefixCls,shape,size:customSize,src,srcSet,icon,className,rootClassName,alt,draggable,children,crossOrigin}=props,others=__rest(props,"prefixCls shape size src srcSet icon className rootClassName alt draggable children crossOrigin".split(" ")),size=(0,_useSize.default)(ctxSize=>{var _a,_b;return null!==(_b=null!==(_a=null!==customSize&&void 0!==customSize?customSize:null===avatarCtx||void 0===
avatarCtx?void 0:avatarCtx.size)&&void 0!==_a?_a:ctxSize)&&void 0!==_b?_b:"default"});var needResponsive=Object.keys("object"===typeof size?size||{}:{}).some(key=>"xs sm md lg xl xxl".split(" ").includes(key));const screens=(0,_useBreakpoint.default)(needResponsive);needResponsive=React.useMemo(()=>{if("object"!==typeof size)return{};var currentBreakpoint=_responsiveObserver.responsiveArray.find(screen=>screens[screen]);return(currentBreakpoint=size[currentBreakpoint])?{width:currentBreakpoint,height:currentBreakpoint,
fontSize:currentBreakpoint&&(icon||children)?currentBreakpoint/2:18}:{}},[screens,size]);(0,_warning.devUseWarning)("Avatar")(!("string"===typeof icon&&2<icon.length),"breaking",`\`icon\` is using ReactNode instead of string naming in v4. Please check \`${icon}\` at https://ant.design/components/icon`);const prefixCls=getPrefixCls("avatar",customizePrefixCls);var rootCls=(0,_useCSSVarCls.default)(prefixCls);const [wrapCSSVar,hashId,cssVarCls]=(0,_style.default)(prefixCls,rootCls);var sizeCls=(0,_classnames.default)({[`${prefixCls}-lg`]:"large"===
size,[`${prefixCls}-sm`]:"small"===size});const hasImageElement=React.isValidElement(src);rootCls=(0,_classnames.default)(prefixCls,sizeCls,null===avatar||void 0===avatar?void 0:avatar.className,`${prefixCls}-${shape||(null===avatarCtx||void 0===avatarCtx?void 0:avatarCtx.shape)||"circle"}`,{[`${prefixCls}-image`]:hasImageElement||src&&isImgExist,[`${prefixCls}-icon`]:!!icon},cssVarCls,rootCls,className,rootClassName,hashId);sizeCls="number"===typeof size?{width:size,height:size,fontSize:icon?size/
2:18}:{};"string"===typeof src&&isImgExist?setScaleParam=React.createElement("img",{src,draggable,srcSet,onError:handleImgLoadError,alt,crossOrigin}):hasImageElement?setScaleParam=src:icon?setScaleParam=icon:mounted||1!==scale?(handleImgLoadError=`scale(${scale})`,setScaleParam=React.createElement(_rcResizeObserver.default,{onResize:setScaleParam},React.createElement("span",{className:`${prefixCls}-string`,ref:avatarChildrenRef,style:Object.assign({},{msTransform:handleImgLoadError,WebkitTransform:handleImgLoadError,
transform:handleImgLoadError})},children))):setScaleParam=React.createElement("span",{className:`${prefixCls}-string`,style:{opacity:0},ref:avatarChildrenRef},children);delete others.onError;delete others.gap;return wrapCSSVar(React.createElement("span",Object.assign({},others,{style:Object.assign(Object.assign(Object.assign(Object.assign({},sizeCls),needResponsive),null===avatar||void 0===avatar?void 0:avatar.style),others.style),className:rootCls,ref}),setScaleParam))});require.displayName="Avatar";
exports.default=require}
//# sourceMappingURL=module$node_modules$antd$lib$avatar$avatar.js.map
