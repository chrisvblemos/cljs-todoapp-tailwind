{
"version":3,
"file":"module$node_modules$$rc_component$trigger$lib$hooks$useWatch.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAA,4DAAA,CAAiF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGrHC,MAAAA,CAAyBH,OAAA,CAAQ,kEAAR,CAAwDI,CAAAA,OACrFC,OAAOC,CAAAA,cAAP,CAAsBJ,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CK,MAAO,CAAA,CADoC,CAA7C,CAGAL,QAAQE,CAAAA,OAAR,CAIAI,QAAiB,CAACC,IAAD,CAAOC,MAAP,CAAeC,KAAf,CAAsBC,OAAtB,CAA+BC,QAA/B,CAAyC,CACxD,GAAIC,gBAAiBV,CAAAA,OAArB,EAA8B,QAAS,EAAG,CACxC,GAAIK,IAAJ,EAAYC,MAAZ,EAAsBC,KAAtB,CAA6B,CAG3B,IAAII,iBAAmB,GAAIC,KAAMC,CAAAA,eAAV,EAFHP,MAEG,CAAvB,CACIQ,gBAAkB,GAAIF,KAAMC,CAAAA,eAAV,EAFHN,KAEG,CADtB,CAEIQ,IAAM,GAAIH,KAAMI,CAAAA,MAAV,EAHST,KAGT,CAFV;AAGIU,WAAa,IAAIC,GAAJ,CAAQ,CAACH,GAAD,CAAMI,CAAAA,MAAN,CAAa,GAAIC,mBAAoBpB,CAAAA,OAAxB,EAAiCW,gBAAjC,CAAb,CAAiE,GAAIS,mBAAoBpB,CAAAA,OAAxB,EAAiCc,eAAjC,CAAjE,CAAR,CACjBO,SAASA,aAAY,EAAG,CACtBb,OAAA,EACAC,SAAA,EAFsB,CAIxBQ,UAAWK,CAAAA,OAAX,CAAmB,QAAS,CAACC,QAAD,CAAW,CACrCA,QAASC,CAAAA,gBAAT,CAA0B,QAA1B,CAAoCH,YAApC,CAAkD,CAChDI,QAAS,CAAA,CADuC,CAAlD,CADqC,CAAvC,CAKAV,IAAIS,CAAAA,gBAAJ,CAAqB,QAArB,CAA+BH,YAA/B,CAA6C,CAC3CI,QAAS,CAAA,CADkC,CAA7C,CAKAjB,QAAA,EACA,OAAO,SAAS,EAAG,CACjBS,UAAWK,CAAAA,OAAX,CAAmB,QAAS,CAACC,QAAD,CAAW,CACrCA,QAASG,CAAAA,mBAAT,CAA6B,QAA7B,CAAuCL,YAAvC,CACAN,IAAIW,CAAAA,mBAAJ,CAAwB,QAAxB,CAAkCL,YAAlC,CAFqC,CAAvC,CADiB,CAtBQ,CADW,CAA1C;AA8BG,CAAChB,IAAD,CAAOC,MAAP,CAAeC,KAAf,CA9BH,CADwD,CAH1D,KAAIa,oBAAsBrB,MAAA,CAAuBH,OAAA,CAAQ,8DAAR,CAAvB,CAA1B,CACIc,iBAAmBX,MAAA,CAAuBH,OAAA,CAAQ,uDAAR,CAAvB,CADvB,CAEIgB,MAAQhB,OAAA,CAAQ,oDAAR,CAV6G;",
"sources":["node_modules/@rc-component/trigger/lib/hooks/useWatch.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$rc_component$trigger$lib$hooks$useWatch\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useWatch;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _useLayoutEffect = _interopRequireDefault(require(\"rc-util/lib/hooks/useLayoutEffect\"));\nvar _util = require(\"../util\");\nfunction useWatch(open, target, popup, onAlign, onScroll) {\n  (0, _useLayoutEffect.default)(function () {\n    if (open && target && popup) {\n      var targetElement = target;\n      var popupElement = popup;\n      var targetScrollList = (0, _util.collectScroller)(targetElement);\n      var popupScrollList = (0, _util.collectScroller)(popupElement);\n      var win = (0, _util.getWin)(popupElement);\n      var mergedList = new Set([win].concat((0, _toConsumableArray2.default)(targetScrollList), (0, _toConsumableArray2.default)(popupScrollList)));\n      function notifyScroll() {\n        onAlign();\n        onScroll();\n      }\n      mergedList.forEach(function (scroller) {\n        scroller.addEventListener('scroll', notifyScroll, {\n          passive: true\n        });\n      });\n      win.addEventListener('resize', notifyScroll, {\n        passive: true\n      });\n\n      // First time always do align\n      onAlign();\n      return function () {\n        mergedList.forEach(function (scroller) {\n          scroller.removeEventListener('scroll', notifyScroll);\n          win.removeEventListener('resize', notifyScroll);\n        });\n      };\n    }\n  }, [open, target, popup]);\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","default","Object","defineProperty","value","useWatch","open","target","popup","onAlign","onScroll","_useLayoutEffect","targetScrollList","_util","collectScroller","popupScrollList","win","getWin","mergedList","Set","concat","_toConsumableArray2","notifyScroll","forEach","scroller","addEventListener","passive","removeEventListener"]
}
