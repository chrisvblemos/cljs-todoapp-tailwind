shadow$provide.module$node_modules$rc_image$lib$Operations=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;
var _objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_portal=global(require("module$node_modules$$rc_component$portal$lib$index")),_classnames4=global(require("module$node_modules$classnames$index")),_rcMotion=global(require("module$node_modules$rc_motion$lib$index")),_KeyCode=global(require("module$node_modules$rc_util$lib$KeyCode")),_react=function(e,r){if(!r&&
e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),
_context=require("module$node_modules$rc_image$lib$context");exports.default=function(props){var visible=props.visible,maskTransitionName=props.maskTransitionName,getContainer=props.getContainer,prefixCls=props.prefixCls,rootClassName=props.rootClassName,icons=props.icons,countRender=props.countRender,showSwitch=props.showSwitch,showProgress=props.showProgress,current=props.current,transform=props.transform,count=props.count,scale=props.scale,minScale=props.minScale,maxScale=props.maxScale,closeIcon=
props.closeIcon,onActive=props.onActive,onClose=props.onClose,onZoomIn=props.onZoomIn,onZoomOut=props.onZoomOut,onRotateRight=props.onRotateRight,onRotateLeft=props.onRotateLeft,onFlipX=props.onFlipX,onFlipY=props.onFlipY,onReset=props.onReset,toolbarRender=props.toolbarRender,zIndex=props.zIndex,image=props.image,groupContext=(0,_react.useContext)(_context.PreviewGroupContext);props=icons.rotateLeft;var rotateRight=icons.rotateRight,zoomIn=icons.zoomIn,zoomOut=icons.zoomOut,close=icons.close,left=
icons.left,right=icons.right,flipX=icons.flipX;icons=icons.flipY;var toolClassName="".concat(prefixCls,"-operations-operation");_react.useEffect(function(){var onKeyDown=function(e){e.keyCode===_KeyCode.default.ESC&&onClose()};visible&&window.addEventListener("keydown",onKeyDown);return function(){window.removeEventListener("keydown",onKeyDown)}},[visible]);var handleActive=function(e,offset){e.preventDefault();e.stopPropagation();onActive(offset)},renderOperation=_react.useCallback(function(_ref){var type=
_ref.type,disabled=_ref.disabled,onClick=_ref.onClick;_ref=_ref.icon;return _react.createElement("div",{key:type,className:(0,_classnames4.default)(toolClassName,"".concat(prefixCls,"-operations-operation-").concat(type),(0,_defineProperty2.default)({},"".concat(prefixCls,"-operations-operation-disabled"),!!disabled)),onClick},_ref)},[toolClassName,prefixCls]),switchPrevNode=showSwitch?renderOperation({icon:left,onClick:function(e){return handleActive(e,-1)},type:"prev",disabled:0===current}):void 0,
switchNextNode=showSwitch?renderOperation({icon:right,onClick:function(e){return handleActive(e,1)},type:"next",disabled:current===count-1}):void 0,flipYNode=renderOperation({icon:icons,onClick:onFlipY,type:"flipY"}),flipXNode=renderOperation({icon:flipX,onClick:onFlipX,type:"flipX"}),rotateLeftNode=renderOperation({icon:props,onClick:onRotateLeft,type:"rotateLeft"}),rotateRightNode=renderOperation({icon:rotateRight,onClick:onRotateRight,type:"rotateRight"}),zoomOutNode=renderOperation({icon:zoomOut,
onClick:onZoomOut,type:"zoomOut",disabled:scale<=minScale}),zoomInNode=renderOperation({icon:zoomIn,onClick:onZoomIn,type:"zoomIn",disabled:scale===maxScale}),toolbarNode=_react.createElement("div",{className:"".concat(prefixCls,"-operations")},flipYNode,flipXNode,rotateLeftNode,rotateRightNode,zoomOutNode,zoomInNode);return _react.createElement(_rcMotion.default,{visible,motionName:maskTransitionName},function(_ref2){var className=_ref2.className;_ref2=_ref2.style;return _react.createElement(_portal.default,
{open:!0,getContainer:null!==getContainer&&void 0!==getContainer?getContainer:document.body},_react.createElement("div",{className:(0,_classnames4.default)("".concat(prefixCls,"-operations-wrapper"),className,rootClassName),style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},_ref2),{},{zIndex})},null===closeIcon?null:_react.createElement("button",{className:"".concat(prefixCls,"-close"),onClick:onClose},closeIcon||close),showSwitch&&_react.createElement(_react.Fragment,null,_react.createElement("div",
{className:(0,_classnames4.default)("".concat(prefixCls,"-switch-left"),(0,_defineProperty2.default)({},"".concat(prefixCls,"-switch-left-disabled"),0===current)),onClick:function(e){return handleActive(e,-1)}},left),_react.createElement("div",{className:(0,_classnames4.default)("".concat(prefixCls,"-switch-right"),(0,_defineProperty2.default)({},"".concat(prefixCls,"-switch-right-disabled"),current===count-1)),onClick:function(e){return handleActive(e,1)}},right)),_react.createElement("div",{className:"".concat(prefixCls,
"-footer")},showProgress&&_react.createElement("div",{className:"".concat(prefixCls,"-progress")},countRender?countRender(current+1,count):"".concat(current+1," / ").concat(count)),toolbarRender?toolbarRender(toolbarNode,(0,_objectSpread2.default)((0,_objectSpread2.default)({icons:{prevIcon:switchPrevNode,nextIcon:switchNextNode,flipYIcon:flipYNode,flipXIcon:flipXNode,rotateLeftIcon:rotateLeftNode,rotateRightIcon:rotateRightNode,zoomOutIcon:zoomOutNode,zoomInIcon:zoomInNode},actions:{onActive,onFlipY,
onFlipX,onRotateLeft,onRotateRight,onZoomOut,onZoomIn,onReset,onClose},transform},groupContext?{current,total:count}:{}),{},{image})):toolbarNode)))})}}
//# sourceMappingURL=module$node_modules$rc_image$lib$Operations.js.map
