{
"version":3,
"file":"module$node_modules$$rc_component$portal$lib$useDom.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/@rc-component/portal/lib/useDom.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$rc_component$portal$lib$useDom\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useDom;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _useLayoutEffect = _interopRequireDefault(require(\"rc-util/lib/hooks/useLayoutEffect\"));\nvar _canUseDom = _interopRequireDefault(require(\"rc-util/lib/Dom/canUseDom\"));\nvar _Context = _interopRequireDefault(require(\"./Context\"));\nvar EMPTY_LIST = [];\n\n/**\n * Will add `div` to document. Nest call will keep order\n * @param render Render DOM in document\n */\nfunction useDom(render, debug) {\n  var _React$useState = React.useState(function () {\n      if (!(0, _canUseDom.default)()) {\n        return null;\n      }\n      var defaultEle = document.createElement('div');\n      if (process.env.NODE_ENV !== 'production' && debug) {\n        defaultEle.setAttribute('data-debug', debug);\n      }\n      return defaultEle;\n    }),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 1),\n    ele = _React$useState2[0];\n\n  // ========================== Order ==========================\n  var appendedRef = React.useRef(false);\n  var queueCreate = React.useContext(_Context.default);\n  var _React$useState3 = React.useState(EMPTY_LIST),\n    _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n    queue = _React$useState4[0],\n    setQueue = _React$useState4[1];\n  var mergedQueueCreate = queueCreate || (appendedRef.current ? undefined : function (appendFn) {\n    setQueue(function (origin) {\n      var newQueue = [appendFn].concat((0, _toConsumableArray2.default)(origin));\n      return newQueue;\n    });\n  });\n\n  // =========================== DOM ===========================\n  function append() {\n    if (!ele.parentElement) {\n      document.body.appendChild(ele);\n    }\n    appendedRef.current = true;\n  }\n  function cleanup() {\n    var _ele$parentElement;\n    (_ele$parentElement = ele.parentElement) === null || _ele$parentElement === void 0 ? void 0 : _ele$parentElement.removeChild(ele);\n    appendedRef.current = false;\n  }\n  (0, _useLayoutEffect.default)(function () {\n    if (render) {\n      if (queueCreate) {\n        queueCreate(append);\n      } else {\n        append();\n      }\n    } else {\n      cleanup();\n    }\n    return cleanup;\n  }, [render]);\n  (0, _useLayoutEffect.default)(function () {\n    if (queue.length) {\n      queue.forEach(function (appendFn) {\n        return appendFn();\n      });\n      setQueue(EMPTY_LIST);\n    }\n  }, [queue]);\n  return [ele, mergedQueueCreate];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","value","useDom","render","debug","append","ele","parentElement","document","body","appendChild","appendedRef","current","cleanup","_ele$parentElement","removeChild","_React$useState","React","useState","_canUseDom","defaultEle","createElement","setAttribute","_React$useState2","_slicedToArray2","useRef","queueCreate","useContext","_Context","_React$useState3","EMPTY_LIST","_React$useState4","queue","setQueue","mergedQueueCreate","undefined","appendFn","origin","concat","newQueue","_toConsumableArray2","_useLayoutEffect","length","forEach"]
}
