{
"version":3,
"file":"module$node_modules$$rc_component$trigger$lib$hooks$useWinClick.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/@rc-component/trigger/lib/hooks/useWinClick.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$rc_component$trigger$lib$hooks$useWinClick\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useWinClick;\nvar _shadow = require(\"rc-util/lib/Dom/shadow\");\nvar _warning = require(\"rc-util/lib/warning\");\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _util = require(\"../util\");\nfunction useWinClick(open, clickToHide, targetEle, popupEle, mask, maskClosable, inPopupOrChild, triggerOpen) {\n  var openRef = React.useRef(open);\n  openRef.current = open;\n  var popupPointerDownRef = React.useRef(false);\n\n  // Click to hide is special action since click popup element should not hide\n  React.useEffect(function () {\n    if (clickToHide && popupEle && (!mask || maskClosable)) {\n      var onPointerDown = function onPointerDown() {\n        popupPointerDownRef.current = false;\n      };\n      var onTriggerClose = function onTriggerClose(e) {\n        var _e$composedPath;\n        if (openRef.current && !inPopupOrChild(((_e$composedPath = e.composedPath) === null || _e$composedPath === void 0 || (_e$composedPath = _e$composedPath.call(e)) === null || _e$composedPath === void 0 ? void 0 : _e$composedPath[0]) || e.target) && !popupPointerDownRef.current) {\n          triggerOpen(false);\n        }\n      };\n      var win = (0, _util.getWin)(popupEle);\n      win.addEventListener('pointerdown', onPointerDown, true);\n      win.addEventListener('mousedown', onTriggerClose, true);\n      win.addEventListener('contextmenu', onTriggerClose, true);\n\n      // shadow root\n      var targetShadowRoot = (0, _shadow.getShadowRoot)(targetEle);\n      if (targetShadowRoot) {\n        targetShadowRoot.addEventListener('mousedown', onTriggerClose, true);\n        targetShadowRoot.addEventListener('contextmenu', onTriggerClose, true);\n      }\n\n      // Warning if target and popup not in same root\n      if (process.env.NODE_ENV !== 'production') {\n        var _targetEle$getRootNod, _popupEle$getRootNode;\n        var targetRoot = targetEle === null || targetEle === void 0 || (_targetEle$getRootNod = targetEle.getRootNode) === null || _targetEle$getRootNod === void 0 ? void 0 : _targetEle$getRootNod.call(targetEle);\n        var popupRoot = (_popupEle$getRootNode = popupEle.getRootNode) === null || _popupEle$getRootNode === void 0 ? void 0 : _popupEle$getRootNode.call(popupEle);\n        (0, _warning.warning)(targetRoot === popupRoot, \"trigger element and popup element should in same shadow root.\");\n      }\n      return function () {\n        win.removeEventListener('pointerdown', onPointerDown, true);\n        win.removeEventListener('mousedown', onTriggerClose, true);\n        win.removeEventListener('contextmenu', onTriggerClose, true);\n        if (targetShadowRoot) {\n          targetShadowRoot.removeEventListener('mousedown', onTriggerClose, true);\n          targetShadowRoot.removeEventListener('contextmenu', onTriggerClose, true);\n        }\n      };\n    }\n  }, [clickToHide, targetEle, popupEle, mask, maskClosable]);\n  function onPopupPointerDown() {\n    popupPointerDownRef.current = true;\n  }\n  return onPopupPointerDown;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","default","Object","defineProperty","value","useWinClick","open","clickToHide","targetEle","popupEle","mask","maskClosable","inPopupOrChild","triggerOpen","openRef","React","useRef","current","popupPointerDownRef","useEffect","onPointerDown","onTriggerClose","e","_e$composedPath","composedPath","call","target","win","_util","getWin","addEventListener","targetShadowRoot","_shadow","getShadowRoot","_targetEle$getRootNod","_popupEle$getRootNode","targetRoot","getRootNode","popupRoot","_warning","warning","removeEventListener","onPopupPointerDown"]
}
