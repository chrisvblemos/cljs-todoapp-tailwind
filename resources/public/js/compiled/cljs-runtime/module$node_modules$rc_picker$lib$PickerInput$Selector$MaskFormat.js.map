{
"version":3,
"file":"module$node_modules$rc_picker$lib$PickerInput$Selector$MaskFormat.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/rc-picker/lib/PickerInput/Selector/MaskFormat.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_picker$lib$PickerInput$Selector$MaskFormat\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar FORMAT_KEYS = ['YYYY', 'MM', 'DD', 'HH', 'mm', 'ss', 'SSS'];\n// Use Chinese character to avoid conflict with the mask format\nvar REPLACE_KEY = '\u9867';\nvar MaskFormat = exports.default = /*#__PURE__*/function () {\n  function MaskFormat(format) {\n    (0, _classCallCheck2.default)(this, MaskFormat);\n    (0, _defineProperty2.default)(this, \"format\", void 0);\n    (0, _defineProperty2.default)(this, \"maskFormat\", void 0);\n    (0, _defineProperty2.default)(this, \"cells\", void 0);\n    (0, _defineProperty2.default)(this, \"maskCells\", void 0);\n    this.format = format;\n\n    // Generate mask format\n    var replaceKeys = FORMAT_KEYS.map(function (key) {\n      return \"(\".concat(key, \")\");\n    }).join('|');\n    var replaceReg = new RegExp(replaceKeys, 'g');\n    this.maskFormat = format.replace(replaceReg,\n    // Use Chinese character to avoid user use it in format\n    function (key) {\n      return REPLACE_KEY.repeat(key.length);\n    });\n\n    // Generate cells\n    var cellReg = new RegExp(\"(\".concat(FORMAT_KEYS.join('|'), \")\"));\n    var strCells = (format.split(cellReg) || []).filter(function (str) {\n      return str;\n    });\n    var offset = 0;\n    this.cells = strCells.map(function (text) {\n      var mask = FORMAT_KEYS.includes(text);\n      var start = offset;\n      var end = offset + text.length;\n      offset = end;\n      return {\n        text: text,\n        mask: mask,\n        start: start,\n        end: end\n      };\n    });\n\n    // Mask cells\n    this.maskCells = this.cells.filter(function (cell) {\n      return cell.mask;\n    });\n  }\n  (0, _createClass2.default)(MaskFormat, [{\n    key: \"getSelection\",\n    value: function getSelection(maskCellIndex) {\n      var _ref = this.maskCells[maskCellIndex] || {},\n        start = _ref.start,\n        end = _ref.end;\n      return [start || 0, end || 0];\n    }\n\n    /** Check given text match format */\n  }, {\n    key: \"match\",\n    value: function match(text) {\n      for (var i = 0; i < this.maskFormat.length; i += 1) {\n        var maskChar = this.maskFormat[i];\n        var textChar = text[i];\n        if (!textChar || maskChar !== REPLACE_KEY && maskChar !== textChar) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /** Get mask cell count */\n  }, {\n    key: \"size\",\n    value: function size() {\n      return this.maskCells.length;\n    }\n  }, {\n    key: \"getMaskCellIndex\",\n    value: function getMaskCellIndex(anchorIndex) {\n      var closetDist = Number.MAX_SAFE_INTEGER;\n      var closetIndex = 0;\n      for (var i = 0; i < this.maskCells.length; i += 1) {\n        var _this$maskCells$i = this.maskCells[i],\n          start = _this$maskCells$i.start,\n          end = _this$maskCells$i.end;\n        if (anchorIndex >= start && anchorIndex <= end) {\n          return i;\n        }\n        var dist = Math.min(Math.abs(anchorIndex - start), Math.abs(anchorIndex - end));\n        if (dist < closetDist) {\n          closetDist = dist;\n          closetIndex = i;\n        }\n      }\n      return closetIndex;\n    }\n  }]);\n  return MaskFormat;\n}();\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","default","Object","defineProperty","value","_classCallCheck2","_createClass2","_defineProperty2","FORMAT_KEYS","MaskFormat","format","replaceKeys","map","key","concat","join","maskFormat","replace","replaceReg","RegExp","REPLACE_KEY","repeat","length","cellReg","offset","cells","filter","split","strCells","str","text","mask","includes","start","end","maskCells","cell","getSelection","maskCellIndex","_ref","match","i","maskChar","textChar","size","getMaskCellIndex","anchorIndex","closetDist","Number","MAX_SAFE_INTEGER","closetIndex","_this$maskCells$i","dist","Math","min","abs"]
}
