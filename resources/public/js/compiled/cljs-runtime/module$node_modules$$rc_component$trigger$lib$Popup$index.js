shadow$provide.module$node_modules$$rc_component$trigger$lib$Popup$index=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),
_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_classnames=module(require("module$node_modules$classnames$index")),_rcMotion=module(require("module$node_modules$rc_motion$lib$index")),_rcResizeObserver=module(require("module$node_modules$rc_resize_observer$lib$index")),_useLayoutEffect=module(require("module$node_modules$rc_util$lib$hooks$useLayoutEffect")),_ref2=require("module$node_modules$rc_util$lib$ref"),React=global(require("module$node_modules$react$index")),
_Arrow=module(require("module$node_modules$$rc_component$trigger$lib$Popup$Arrow")),_Mask=module(require("module$node_modules$$rc_component$trigger$lib$Popup$Mask")),_PopupContent=module(require("module$node_modules$$rc_component$trigger$lib$Popup$PopupContent"));require=React.forwardRef(function(props,ref){var popup=props.popup,className=props.className,prefixCls=props.prefixCls,style=props.style,target=props.target,_onVisibleChanged=props.onVisibleChanged,open=props.open,keepDom=props.keepDom,fresh=
props.fresh,onClick=props.onClick,mask=props.mask,arrow=props.arrow,arrowPos=props.arrowPos,align=props.align,motion=props.motion,maskMotion=props.maskMotion,forceRender=props.forceRender,getPopupContainer=props.getPopupContainer,autoDestroy=props.autoDestroy,Portal=props.portal,zIndex=props.zIndex,onMouseEnter=props.onMouseEnter,onMouseLeave=props.onMouseLeave,onPointerEnter=props.onPointerEnter,onPointerDownCapture=props.onPointerDownCapture,ready=props.ready,offsetX=props.offsetX,offsetY=props.offsetY,
offsetR=props.offsetR,offsetB=props.offsetB,onAlign=props.onAlign,onPrepare=props.onPrepare,stretch=props.stretch,targetWidth=props.targetWidth;props=props.targetHeight;var childNode="function"===typeof popup?popup():popup;popup=open||keepDom;var getPopupContainerNeedParams=0<(null===getPopupContainer||void 0===getPopupContainer?void 0:getPopupContainer.length);keepDom=React.useState(!getPopupContainer||!getPopupContainerNeedParams);keepDom=(0,_slicedToArray2.default)(keepDom,2);var show=keepDom[0],
setShow=keepDom[1];(0,_useLayoutEffect.default)(function(){!show&&getPopupContainerNeedParams&&target&&setShow(!0)},[show,getPopupContainerNeedParams,target]);if(!show)return null;var offsetStyle={left:"-1000vw",top:"-1000vh",right:"auto",bottom:"auto"};if(ready||!open){ready=align.points;var _experimental=(keepDom=align.dynamicInset||(null===(_experimental=align._experimental)||void 0===_experimental?void 0:_experimental.dynamicInset))&&"b"===ready[0][0];keepDom&&"r"===ready[0][1]?(offsetStyle.right=
offsetR,offsetStyle.left="auto"):(offsetStyle.left=offsetX,offsetStyle.right="auto");_experimental?(offsetStyle.bottom=offsetB,offsetStyle.top="auto"):(offsetStyle.top=offsetY,offsetStyle.bottom="auto")}var miscStyle={};stretch&&(stretch.includes("height")&&props?miscStyle.height=props:stretch.includes("minHeight")&&props&&(miscStyle.minHeight=props),stretch.includes("width")&&targetWidth?miscStyle.width=targetWidth:stretch.includes("minWidth")&&targetWidth&&(miscStyle.minWidth=targetWidth));open||
(miscStyle.pointerEvents="none");return React.createElement(Portal,{open:forceRender||popup,getContainer:getPopupContainer&&function(){return getPopupContainer(target)},autoDestroy},React.createElement(_Mask.default,{prefixCls,open,zIndex,mask,motion:maskMotion}),React.createElement(_rcResizeObserver.default,{onResize:onAlign,disabled:!open},function(resizeObserverRef){return React.createElement(_rcMotion.default,(0,_extends2.default)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,
forceRender,leavedClassName:"".concat(prefixCls,"-hidden")},motion,{onAppearPrepare:onPrepare,onEnterPrepare:onPrepare,visible:open,onVisibleChanged:function(nextVisible){var _motion$onVisibleChan;null===motion||void 0===motion||null===(_motion$onVisibleChan=motion.onVisibleChanged)||void 0===_motion$onVisibleChan||_motion$onVisibleChan.call(motion,nextVisible);_onVisibleChanged(nextVisible)}}),function(_ref,motionRef){var motionStyle=_ref.style;_ref=(0,_classnames.default)(prefixCls,_ref.className,
className);return React.createElement("div",{ref:(0,_ref2.composeRef)(resizeObserverRef,ref,motionRef),className:_ref,style:(0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({"--arrow-x":"".concat(arrowPos.x||0,"px"),"--arrow-y":"".concat(arrowPos.y||0,"px")},offsetStyle),miscStyle),motionStyle),{},{boxSizing:"border-box",zIndex},style),onMouseEnter,onMouseLeave,onPointerEnter,onClick,onPointerDownCapture},arrow&&React.createElement(_Arrow.default,
{prefixCls,arrow,arrowPos,align}),React.createElement(_PopupContent.default,{cache:!open&&!fresh},childNode))})}))});require.displayName="Popup";exports.default=require}
//# sourceMappingURL=module$node_modules$$rc_component$trigger$lib$Popup$index.js.map
