{
"version":3,
"file":"module$node_modules$rc_picker$lib$PickerInput$Selector$hooks$useInputProps.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/rc-picker/lib/PickerInput/Selector/hooks/useInputProps.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_picker$lib$PickerInput$Selector$hooks$useInputProps\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useInputProps;\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _rcUtil = require(\"rc-util\");\nvar _pickAttrs = _interopRequireDefault(require(\"rc-util/lib/pickAttrs\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _dateUtil = require(\"../../../utils/dateUtil\");\nfunction useInputProps(props, /** Used for SinglePicker */\npostProps) {\n  var format = props.format,\n    maskFormat = props.maskFormat,\n    generateConfig = props.generateConfig,\n    locale = props.locale,\n    preserveInvalidOnBlur = props.preserveInvalidOnBlur,\n    inputReadOnly = props.inputReadOnly,\n    required = props.required,\n    ariaRequired = props['aria-required'],\n    onSubmit = props.onSubmit,\n    _onFocus = props.onFocus,\n    _onBlur = props.onBlur,\n    onInputChange = props.onInputChange,\n    onInvalid = props.onInvalid,\n    open = props.open,\n    onOpenChange = props.onOpenChange,\n    _onKeyDown = props.onKeyDown,\n    _onChange = props.onChange,\n    activeHelp = props.activeHelp,\n    name = props.name,\n    autoComplete = props.autoComplete,\n    id = props.id,\n    value = props.value,\n    invalid = props.invalid,\n    placeholder = props.placeholder,\n    disabled = props.disabled,\n    activeIndex = props.activeIndex,\n    allHelp = props.allHelp,\n    picker = props.picker;\n\n  // ======================== Parser ========================\n  var parseDate = function parseDate(str, formatStr) {\n    var parsed = generateConfig.locale.parse(locale.locale, str, [formatStr]);\n    return parsed && generateConfig.isValidate(parsed) ? parsed : null;\n  };\n\n  // ========================= Text =========================\n  var firstFormat = format[0];\n  var getText = React.useCallback(function (date) {\n    return (0, _dateUtil.formatValue)(date, {\n      locale: locale,\n      format: firstFormat,\n      generateConfig: generateConfig\n    });\n  }, [locale, generateConfig, firstFormat]);\n  var valueTexts = React.useMemo(function () {\n    return value.map(getText);\n  }, [value, getText]);\n\n  // ========================= Size =========================\n  var size = React.useMemo(function () {\n    var defaultSize = picker === 'time' ? 8 : 10;\n    var length = typeof firstFormat === 'function' ? firstFormat(generateConfig.getNow()).length : firstFormat.length;\n    return Math.max(defaultSize, length) + 2;\n  }, [firstFormat, picker, generateConfig]);\n\n  // ======================= Validate =======================\n  var _validateFormat = function validateFormat(text) {\n    for (var i = 0; i < format.length; i += 1) {\n      var singleFormat = format[i];\n\n      // Only support string type\n      if (typeof singleFormat === 'string') {\n        var parsed = parseDate(text, singleFormat);\n        if (parsed) {\n          return parsed;\n        }\n      }\n    }\n    return false;\n  };\n\n  // ======================== Input =========================\n  var getInputProps = function getInputProps(index) {\n    function getProp(propValue) {\n      return index !== undefined ? propValue[index] : propValue;\n    }\n    var pickedAttrs = (0, _pickAttrs.default)(props, {\n      aria: true,\n      data: true\n    });\n    var inputProps = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, pickedAttrs), {}, {\n      // ============== Shared ==============\n      format: maskFormat,\n      validateFormat: function validateFormat(text) {\n        return !!_validateFormat(text);\n      },\n      preserveInvalidOnBlur: preserveInvalidOnBlur,\n      readOnly: inputReadOnly,\n      required: required,\n      'aria-required': ariaRequired,\n      name: name,\n      autoComplete: autoComplete,\n      size: size,\n      // ============= By Index =============\n      id: getProp(id),\n      value: getProp(valueTexts) || '',\n      invalid: getProp(invalid),\n      placeholder: getProp(placeholder),\n      active: activeIndex === index,\n      helped: allHelp || activeHelp && activeIndex === index,\n      disabled: getProp(disabled),\n      onFocus: function onFocus(event) {\n        _onFocus(event, index);\n      },\n      onBlur: function onBlur(event) {\n        // Blur do not trigger close\n        // Since it may focus to the popup panel\n        _onBlur(event, index);\n      },\n      onSubmit: onSubmit,\n      // Get validate text value\n      onChange: function onChange(text) {\n        onInputChange();\n        var parsed = _validateFormat(text);\n        if (parsed) {\n          onInvalid(false, index);\n          _onChange(parsed, index);\n          return;\n        }\n\n        // Tell outer that the value typed is invalid.\n        // If text is empty, it means valid.\n        onInvalid(!!text, index);\n      },\n      onHelp: function onHelp() {\n        onOpenChange(true, {\n          index: index\n        });\n      },\n      onKeyDown: function onKeyDown(event) {\n        var prevented = false;\n        _onKeyDown === null || _onKeyDown === void 0 || _onKeyDown(event, function () {\n          if (process.env.NODE_ENV !== 'production') {\n            (0, _rcUtil.warning)(false, '`preventDefault` callback is deprecated. Please call `event.preventDefault` directly.');\n          }\n          prevented = true;\n        });\n        if (!event.defaultPrevented && !prevented) {\n          switch (event.key) {\n            case 'Escape':\n              onOpenChange(false, {\n                index: index\n              });\n              break;\n            case 'Enter':\n              if (!open) {\n                onOpenChange(true);\n              }\n              break;\n          }\n        }\n      }\n    }, postProps === null || postProps === void 0 ? void 0 : postProps({\n      valueTexts: valueTexts\n    }));\n\n    // ============== Clean Up ==============\n    Object.keys(inputProps).forEach(function (key) {\n      if (inputProps[key] === undefined) {\n        delete inputProps[key];\n      }\n    });\n    return inputProps;\n  };\n  return [getInputProps, getText];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","value","useInputProps","props","postProps","format","maskFormat","generateConfig","locale","preserveInvalidOnBlur","inputReadOnly","required","ariaRequired","onSubmit","_onFocus","onFocus","_onBlur","onBlur","onInputChange","onInvalid","open","onOpenChange","_onKeyDown","onKeyDown","_onChange","onChange","activeHelp","name","autoComplete","id","invalid","placeholder","disabled","activeIndex","allHelp","picker","firstFormat","getText","React","useCallback","date","_dateUtil","formatValue","valueTexts","useMemo","map","size","defaultSize","length","getNow","Math","max","_validateFormat","text","i","singleFormat","parsed","parse","isValidate","getInputProps","index","getProp","propValue","undefined","pickedAttrs","_pickAttrs","aria","data","inputProps","_objectSpread2","validateFormat","readOnly","active","helped","event","onHelp","prevented","_rcUtil","warning","defaultPrevented","key","keys","forEach"]
}
