{
"version":3,
"file":"module$node_modules$rc_table$lib$Cell$useCellRender.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/rc-table/lib/Cell/useCellRender.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_table$lib$Cell$useCellRender\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof3 = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useCellRender;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _useMemo = _interopRequireDefault(require(\"rc-util/lib/hooks/useMemo\"));\nvar _isEqual = _interopRequireDefault(require(\"rc-util/lib/isEqual\"));\nvar _get = _interopRequireDefault(require(\"rc-util/lib/utils/get\"));\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _PerfContext = _interopRequireDefault(require(\"../context/PerfContext\"));\nvar _valueUtil = require(\"../utils/valueUtil\");\nvar _TableContext = require(\"../context/TableContext\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof3(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction isRenderCell(data) {\n  return data && (0, _typeof2.default)(data) === 'object' && !Array.isArray(data) && ! /*#__PURE__*/React.isValidElement(data);\n}\nfunction useCellRender(record, dataIndex, renderIndex, children, render, shouldCellUpdate) {\n  // TODO: Remove this after next major version\n  var perfRecord = React.useContext(_PerfContext.default);\n  var mark = (0, _TableContext.useImmutableMark)();\n\n  // ======================== Render ========================\n  var retData = (0, _useMemo.default)(function () {\n    if ((0, _valueUtil.validateValue)(children)) {\n      return [children];\n    }\n    var path = dataIndex === null || dataIndex === undefined || dataIndex === '' ? [] : Array.isArray(dataIndex) ? dataIndex : [dataIndex];\n    var value = (0, _get.default)(record, path);\n\n    // Customize render node\n    var returnChildNode = value;\n    var returnCellProps = undefined;\n    if (render) {\n      var renderData = render(value, record, renderIndex);\n      if (isRenderCell(renderData)) {\n        if (process.env.NODE_ENV !== 'production') {\n          (0, _warning.default)(false, '`columns.render` return cell props is deprecated with perf issue, please use `onCell` instead.');\n        }\n        returnChildNode = renderData.children;\n        returnCellProps = renderData.props;\n        perfRecord.renderWithProps = true;\n      } else {\n        returnChildNode = renderData;\n      }\n    }\n    return [returnChildNode, returnCellProps];\n  }, [\n  // Force update deps\n  mark,\n  // Normal deps\n  record, children, dataIndex, render, renderIndex], function (prev, next) {\n    if (shouldCellUpdate) {\n      var _prev = (0, _slicedToArray2.default)(prev, 2),\n        prevRecord = _prev[1];\n      var _next = (0, _slicedToArray2.default)(next, 2),\n        nextRecord = _next[1];\n      return shouldCellUpdate(nextRecord, prevRecord);\n    }\n\n    // Legacy mode should always update\n    if (perfRecord.renderWithProps) {\n      return true;\n    }\n    return !(0, _isEqual.default)(prev, next, true);\n  });\n  return retData;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","e","WeakMap","r","t","_interopRequireDefault","_typeof3","Object","defineProperty","value","default","useCellRender","record","dataIndex","renderIndex","children","render","shouldCellUpdate","perfRecord","React","useContext","_PerfContext","mark","_TableContext","useImmutableMark","retData","_useMemo","_valueUtil","validateValue","path","undefined","Array","isArray","_get","returnChildNode","returnCellProps","renderData","_typeof2","isValidElement","_warning","props","renderWithProps","prev","next","prevRecord","_prev","_slicedToArray2","nextRecord","_next","_isEqual","_interopRequireWildcard","__esModule","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set"]
}
