shadow$provide.module$node_modules$rc_drawer$lib$DrawerPopup=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),
_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_classnames=module(require("module$node_modules$classnames$index")),_rcMotion=module(require("module$node_modules$rc_motion$lib$index")),_KeyCode=module(require("module$node_modules$rc_util$lib$KeyCode")),_pickAttrs=module(require("module$node_modules$rc_util$lib$pickAttrs")),React=global(require("module$node_modules$react$index")),
_context=module(require("module$node_modules$rc_drawer$lib$context")),_DrawerPanel=module(require("module$node_modules$rc_drawer$lib$DrawerPanel")),_util=require("module$node_modules$rc_drawer$lib$util"),sentinelStyle={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};require=React.forwardRef(function(props,ref){var _ref,_pushConfig$distance,_pushConfig,prefixCls=props.prefixCls,open=props.open,placement=props.placement,inline=props.inline,push=props.push,forceRender=props.forceRender,
autoFocus=props.autoFocus,keyboard=props.keyboard,drawerClassNames=props.classNames,rootClassName=props.rootClassName,rootStyle=props.rootStyle,zIndex=props.zIndex,className=props.className,id=props.id,style=props.style,motion=props.motion,width=props.width,height=props.height,children=props.children,mask=props.mask,maskClosable=props.maskClosable,maskMotion=props.maskMotion,maskClassName=props.maskClassName,maskStyle=props.maskStyle,afterOpenChange=props.afterOpenChange,onClose=props.onClose,onMouseEnter=
props.onMouseEnter,onMouseOver=props.onMouseOver,onMouseLeave=props.onMouseLeave,onClick=props.onClick,onKeyDown=props.onKeyDown,onKeyUp=props.onKeyUp,styles=props.styles,drawerRender=props.drawerRender,panelRef=React.useRef(),sentinelStartRef=React.useRef(),sentinelEndRef=React.useRef();React.useImperativeHandle(ref,function(){return panelRef.current});React.useEffect(function(){if(open&&autoFocus){var _panelRef$current;null===(_panelRef$current=panelRef.current)||void 0===_panelRef$current||_panelRef$current.focus({preventScroll:!0})}},
[open]);ref=React.useState(!1);var _React$useState2=(0,_slicedToArray2.default)(ref,2);ref=_React$useState2[0];var setPushed=_React$useState2[1],parentContext=React.useContext(_context.default),pushDistance=null!==(_ref=null!==(_pushConfig$distance=null===(_pushConfig="boolean"===typeof push?push?{}:{distance:0}:push||{})||void 0===_pushConfig?void 0:_pushConfig.distance)&&void 0!==_pushConfig$distance?_pushConfig$distance:null===parentContext||void 0===parentContext?void 0:parentContext.pushDistance)&&
void 0!==_ref?_ref:180;_ref=React.useMemo(function(){return{pushDistance,push:function(){setPushed(!0)},pull:function(){setPushed(!1)}}},[pushDistance]);React.useEffect(function(){if(open){var _parentContext$push;null===parentContext||void 0===parentContext||null===(_parentContext$push=parentContext.push)||void 0===_parentContext$push||_parentContext$push.call(parentContext)}else{var _parentContext$pull;null===parentContext||void 0===parentContext||null===(_parentContext$pull=parentContext.pull)||
void 0===_parentContext$pull||_parentContext$pull.call(parentContext)}},[open]);React.useEffect(function(){return function(){var _parentContext$pull2;null===parentContext||void 0===parentContext||null===(_parentContext$pull2=parentContext.pull)||void 0===_parentContext$pull2||_parentContext$pull2.call(parentContext)}},[]);mask=mask&&React.createElement(_rcMotion.default,(0,_extends2.default)({key:"mask"},maskMotion,{visible:open}),function(_ref2,maskRef){var motionMaskClassName=_ref2.className;_ref2=
_ref2.style;return React.createElement("div",{className:(0,_classnames.default)("".concat(prefixCls,"-mask"),motionMaskClassName,null===drawerClassNames||void 0===drawerClassNames?void 0:drawerClassNames.mask,maskClassName),style:(0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({},_ref2),maskStyle),null===styles||void 0===styles?void 0:styles.mask),onClick:maskClosable&&open?onClose:void 0,ref:maskRef})});motion="function"===typeof motion?motion(placement):motion;var wrapperStyle=
{};if(ref&&pushDistance)switch(placement){case "top":wrapperStyle.transform="translateY(".concat(pushDistance,"px)");break;case "bottom":wrapperStyle.transform="translateY(".concat(-pushDistance,"px)");break;case "left":wrapperStyle.transform="translateX(".concat(pushDistance,"px)");break;default:wrapperStyle.transform="translateX(".concat(-pushDistance,"px)")}"left"===placement||"right"===placement?wrapperStyle.width=(0,_util.parseWidthHeight)(width):wrapperStyle.height=(0,_util.parseWidthHeight)(height);
var eventHandlers={onMouseEnter,onMouseOver,onMouseLeave,onClick,onKeyDown,onKeyUp};forceRender=React.createElement(_rcMotion.default,(0,_extends2.default)({key:"panel"},motion,{visible:open,forceRender,onVisibleChanged:function(nextVisible){null===afterOpenChange||void 0===afterOpenChange||afterOpenChange(nextVisible)},removeOnLeave:!1,leavedClassName:"".concat(prefixCls,"-content-wrapper-hidden")}),function(_ref3,motionRef){var motionClassName=_ref3.className;_ref3=_ref3.style;motionRef=React.createElement(_DrawerPanel.default,
(0,_extends2.default)({id,containerRef:motionRef,prefixCls,className:(0,_classnames.default)(className,null===drawerClassNames||void 0===drawerClassNames?void 0:drawerClassNames.content),style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},style),null===styles||void 0===styles?void 0:styles.content)},(0,_pickAttrs.default)(props,{aria:!0}),eventHandlers),children);return React.createElement("div",(0,_extends2.default)({className:(0,_classnames.default)("".concat(prefixCls,"-content-wrapper"),
null===drawerClassNames||void 0===drawerClassNames?void 0:drawerClassNames.wrapper,motionClassName),style:(0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({},wrapperStyle),_ref3),null===styles||void 0===styles?void 0:styles.wrapper)},(0,_pickAttrs.default)(props,{data:!0})),drawerRender?drawerRender(motionRef):motionRef)});rootStyle=(0,_objectSpread2.default)({},rootStyle);zIndex&&(rootStyle.zIndex=zIndex);return React.createElement(_context.default.Provider,{value:_ref},
React.createElement("div",{className:(0,_classnames.default)(prefixCls,"".concat(prefixCls,"-").concat(placement),rootClassName,(0,_defineProperty2.default)((0,_defineProperty2.default)({},"".concat(prefixCls,"-open"),open),"".concat(prefixCls,"-inline"),inline)),style:rootStyle,tabIndex:-1,ref:panelRef,onKeyDown:function(event){var keyCode=event.keyCode,shiftKey=event.shiftKey;switch(keyCode){case _KeyCode.default.TAB:if(keyCode===_KeyCode.default.TAB)if(!shiftKey&&document.activeElement===sentinelEndRef.current){var _sentinelStartRef$cur;
null===(_sentinelStartRef$cur=sentinelStartRef.current)||void 0===_sentinelStartRef$cur||_sentinelStartRef$cur.focus({preventScroll:!0})}else if(shiftKey&&document.activeElement===sentinelStartRef.current){var _sentinelEndRef$curre;null===(_sentinelEndRef$curre=sentinelEndRef.current)||void 0===_sentinelEndRef$curre||_sentinelEndRef$curre.focus({preventScroll:!0})}break;case _KeyCode.default.ESC:onClose&&keyboard&&(event.stopPropagation(),onClose(event))}}},mask,React.createElement("div",{tabIndex:0,
ref:sentinelStartRef,style:sentinelStyle,"aria-hidden":"true","data-sentinel":"start"}),forceRender,React.createElement("div",{tabIndex:0,ref:sentinelEndRef,style:sentinelStyle,"aria-hidden":"true","data-sentinel":"end"})))});require.displayName="DrawerPopup";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_drawer$lib$DrawerPopup.js.map
