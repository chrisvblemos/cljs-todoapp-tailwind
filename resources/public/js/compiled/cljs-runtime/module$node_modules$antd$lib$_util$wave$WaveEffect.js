shadow$provide.module$node_modules$antd$lib$_util$wave$WaveEffect=function(global,require,module,exports){function validateNum(value){return Number.isNaN(value)?0:value}"use client";global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var React=module(require("module$node_modules$react$index")),
_classnames=global(require("module$node_modules$classnames$index")),_rcMotion=global(require("module$node_modules$rc_motion$lib$index")),_raf=global(require("module$node_modules$rc_util$lib$raf")),_ref2=require("module$node_modules$rc_util$lib$ref"),_UnstableContext=require("module$node_modules$antd$lib$config_provider$UnstableContext"),_interface=require("module$node_modules$antd$lib$_util$wave$interface"),_util=require("module$node_modules$antd$lib$_util$wave$util");const WaveEffect=props=>{function syncPos(){const nodeStyle=
getComputedStyle(target);setWaveColor((0,_util.getTargetWaveColor)(target));const isStatic="static"===nodeStyle.position,{borderLeftWidth,borderTopWidth}=nodeStyle;setLeft(isStatic?target.offsetLeft:validateNum(-parseFloat(borderLeftWidth)));setTop(isStatic?target.offsetTop:validateNum(-parseFloat(borderTopWidth)));setWidth(target.offsetWidth);setHeight(target.offsetHeight);const {borderTopLeftRadius,borderTopRightRadius,borderBottomLeftRadius,borderBottomRightRadius}=nodeStyle;setBorderRadius([borderTopLeftRadius,
borderTopRightRadius,borderBottomRightRadius,borderBottomLeftRadius].map(radius=>validateNum(parseFloat(radius))))}const {className,target,component,registerUnmount}=props,divRef=React.useRef(null),unmountRef=React.useRef(null);React.useEffect(()=>{unmountRef.current=registerUnmount()},[]);const [color,setWaveColor]=React.useState(null),[borderRadius,setBorderRadius]=React.useState([]),[left,setLeft]=React.useState(0),[top,setTop]=React.useState(0),[width,setWidth]=React.useState(0),[height,setHeight]=
React.useState(0),[enabled,setEnabled]=React.useState(!1),waveStyle={left,top,width,height,borderRadius:borderRadius.map(radius=>`${radius}px`).join(" ")};color&&(waveStyle["--wave-color"]=color);React.useEffect(()=>{if(target){const id=(0,_raf.default)(()=>{syncPos();setEnabled(!0)});let resizeObserver;"undefined"!==typeof ResizeObserver&&(resizeObserver=new ResizeObserver(syncPos),resizeObserver.observe(target));return()=>{_raf.default.cancel(id);null===resizeObserver||void 0===resizeObserver?void 0:
resizeObserver.disconnect()}}},[]);if(!enabled)return null;const isSmallComponent=("Checkbox"===component||"Radio"===component)&&(null===target||void 0===target?void 0:target.classList.contains(_interface.TARGET_CLS));return React.createElement(_rcMotion.default,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5E3,onAppearEnd:(_,event)=>{var _a,_b;if(event.deadline||"opacity"===event.propertyName){const holder=null===(_a=divRef.current)||void 0===_a?void 0:_a.parentElement;null===
(_b=unmountRef.current)||void 0===_b?void 0:_b.call(unmountRef).then(()=>{null===holder||void 0===holder?void 0:holder.remove()})}return!1}},(_ref,ref)=>{({className:_ref}=_ref);return React.createElement("div",{ref:(0,_ref2.composeRef)(divRef,ref),className:(0,_classnames.default)(className,_ref,{"wave-quick":isSmallComponent}),style:waveStyle})})};exports.default=(target,info)=>{var _a;const {component}=info;if("Checkbox"!==component||null!==(_a=target.querySelector("input"))&&void 0!==_a&&_a.checked){_a=
document.createElement("div");_a.style.position="absolute";_a.style.left="0px";_a.style.top="0px";null===target||void 0===target?void 0:target.insertBefore(_a,null===target||void 0===target?void 0:target.firstChild);var unmountCallback=null;unmountCallback=(0,_UnstableContext.getReactRender)()(React.createElement(WaveEffect,Object.assign({},info,{target,registerUnmount:function(){return unmountCallback}})),_a)}}}
//# sourceMappingURL=module$node_modules$antd$lib$_util$wave$WaveEffect.js.map
