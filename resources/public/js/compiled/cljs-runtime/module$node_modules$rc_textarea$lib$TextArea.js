shadow$provide.module$node_modules$rc_textarea$lib$TextArea=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;
var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_objectWithoutProperties2=global(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),
_classnames=global(require("module$node_modules$classnames$index")),_rcInput=require("module$node_modules$rc_input$lib$index"),_useCount=global(require("module$node_modules$rc_input$lib$hooks$useCount")),_commonUtils=require("module$node_modules$rc_input$lib$utils$commonUtils"),_useMergedState3=global(require("module$node_modules$rc_util$lib$hooks$useMergedState")),_react=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=
_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),_ResizableTextArea=global(require("module$node_modules$rc_textarea$lib$ResizableTextArea")),_excluded="defaultValue value onFocus onBlur onChange allowClear maxLength onCompositionStart onCompositionEnd suffix prefixCls showCount count className style disabled hidden classNames styles onResize onClear onPressEnter readOnly autoSize onKeyDown".split(" ");
require=_react.default.forwardRef(function(_ref,ref){var _countConfig$max,defaultValue=_ref.defaultValue,customValue=_ref.value,onFocus=_ref.onFocus,onBlur=_ref.onBlur,onChange=_ref.onChange,allowClear=_ref.allowClear,maxLength=_ref.maxLength,onCompositionStart=_ref.onCompositionStart,onCompositionEnd=_ref.onCompositionEnd,suffix=_ref.suffix,_ref$prefixCls=_ref.prefixCls;_ref$prefixCls=void 0===_ref$prefixCls?"rc-textarea":_ref$prefixCls;var showCount=_ref.showCount,count=_ref.count,className=_ref.className,
style=_ref.style,disabled=_ref.disabled,hidden=_ref.hidden,classNames=_ref.classNames,styles=_ref.styles,onResize=_ref.onResize,onClear=_ref.onClear,onPressEnter=_ref.onPressEnter,readOnly=_ref.readOnly,autoSize=_ref.autoSize,onKeyDown=_ref.onKeyDown;_ref=(0,_objectWithoutProperties2.default)(_ref,_excluded);defaultValue=(0,_useMergedState3.default)(defaultValue,{value:customValue,defaultValue});defaultValue=(0,_slicedToArray2.default)(defaultValue,2);customValue=defaultValue[0];var setValue=defaultValue[1];
defaultValue=void 0===customValue||null===customValue?"":String(customValue);customValue=_react.default.useState(!1);var _React$useState2=(0,_slicedToArray2.default)(customValue,2);customValue=_React$useState2[0];var setFocused=_React$useState2[1],compositionRef=_react.default.useRef(!1);_React$useState2=_react.default.useState(null);var _React$useState4=(0,_slicedToArray2.default)(_React$useState2,2);_React$useState2=_React$useState4[0];var setTextareaResized=_React$useState4[1],holderRef=(0,_react.useRef)(null),
resizableTextAreaRef=(0,_react.useRef)(null),getTextArea=function(){var _resizableTextAreaRef;return null===(_resizableTextAreaRef=resizableTextAreaRef.current)||void 0===_resizableTextAreaRef?void 0:_resizableTextAreaRef.textArea},focus=function(){getTextArea().focus()};(0,_react.useImperativeHandle)(ref,function(){var _holderRef$current;return{resizableTextArea:resizableTextAreaRef.current,focus,blur:function(){getTextArea().blur()},nativeElement:(null===(_holderRef$current=holderRef.current)||
void 0===_holderRef$current?void 0:_holderRef$current.nativeElement)||getTextArea()}});(0,_react.useEffect)(function(){setFocused(function(prev){return!disabled&&prev})},[disabled]);ref=_react.default.useState(null);ref=(0,_slicedToArray2.default)(ref,2);var selection=ref[0],setSelection=ref[1];_react.default.useEffect(function(){if(selection){var _getTextArea;(_getTextArea=getTextArea()).setSelectionRange.apply(_getTextArea,(0,_toConsumableArray2.default)(selection))}},[selection]);var countConfig=
(0,_useCount.default)(count,showCount);count=null!==(_countConfig$max=countConfig.max)&&void 0!==_countConfig$max?_countConfig$max:maxLength;ref=0<Number(count);_React$useState4=countConfig.strategy(defaultValue);_countConfig$max=!!count&&_React$useState4>count;var triggerChange=function(e,currentValue){var cutValue=currentValue;!compositionRef.current&&countConfig.exceedFormatter&&countConfig.max&&countConfig.strategy(currentValue)>countConfig.max&&(cutValue=countConfig.exceedFormatter(currentValue,
{max:countConfig.max}),currentValue!==cutValue&&setSelection([getTextArea().selectionStart||0,getTextArea().selectionEnd||0]));setValue(cutValue);(0,_commonUtils.resolveOnChange)(e.currentTarget,e,onChange,cutValue)};if(countConfig.show){var dataCount=countConfig.showFormatter?countConfig.showFormatter({value:defaultValue,count:_React$useState4,maxLength:count}):"".concat(_React$useState4).concat(ref?" / ".concat(count):"");suffix=_react.default.createElement(_react.default.Fragment,null,suffix,_react.default.createElement("span",
{className:(0,_classnames.default)("".concat(_ref$prefixCls,"-data-count"),null===classNames||void 0===classNames?void 0:classNames.count),style:null===styles||void 0===styles?void 0:styles.count},dataCount))}count=!autoSize&&!showCount&&!allowClear;return _react.default.createElement(_rcInput.BaseInput,{ref:holderRef,value:defaultValue,allowClear,handleReset:function(e){setValue("");focus();(0,_commonUtils.resolveOnChange)(getTextArea(),e,onChange)},suffix,prefixCls:_ref$prefixCls,classNames:(0,_objectSpread2.default)((0,_objectSpread2.default)({},
classNames),{},{affixWrapper:(0,_classnames.default)(null===classNames||void 0===classNames?void 0:classNames.affixWrapper,(0,_defineProperty2.default)((0,_defineProperty2.default)({},"".concat(_ref$prefixCls,"-show-count"),showCount),"".concat(_ref$prefixCls,"-textarea-allow-clear"),allowClear))}),disabled,focused:customValue,className:(0,_classnames.default)(className,_countConfig$max&&"".concat(_ref$prefixCls,"-out-of-range")),style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},style),
_React$useState2&&!count?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof dataCount?dataCount:void 0}},hidden,readOnly,onClear},_react.default.createElement(_ResizableTextArea.default,(0,_extends2.default)({},_ref,{autoSize,maxLength,onKeyDown:function(e){"Enter"===e.key&&onPressEnter&&onPressEnter(e);null===onKeyDown||void 0===onKeyDown||onKeyDown(e)},onChange:function(e){triggerChange(e,e.target.value)},onFocus:function(e){setFocused(!0);null===onFocus||void 0===onFocus||
onFocus(e)},onBlur:function(e){setFocused(!1);null===onBlur||void 0===onBlur||onBlur(e)},onCompositionStart:function(e){compositionRef.current=!0;null===onCompositionStart||void 0===onCompositionStart||onCompositionStart(e)},onCompositionEnd:function(e){compositionRef.current=!1;triggerChange(e,e.currentTarget.value);null===onCompositionEnd||void 0===onCompositionEnd||onCompositionEnd(e)},className:(0,_classnames.default)(null===classNames||void 0===classNames?void 0:classNames.textarea),style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},
null===styles||void 0===styles?void 0:styles.textarea),{},{resize:null===style||void 0===style?void 0:style.resize}),disabled,prefixCls:_ref$prefixCls,onResize:function(size){var _getTextArea2;null===onResize||void 0===onResize||onResize(size);null!==(_getTextArea2=getTextArea())&&void 0!==_getTextArea2&&_getTextArea2.style.height&&setTextareaResized(!0)},ref:resizableTextAreaRef,readOnly})))});exports.default=require}
//# sourceMappingURL=module$node_modules$rc_textarea$lib$TextArea.js.map
