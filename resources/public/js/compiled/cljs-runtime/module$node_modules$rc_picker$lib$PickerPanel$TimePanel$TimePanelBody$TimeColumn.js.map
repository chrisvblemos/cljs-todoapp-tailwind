{
"version":3,
"file":"module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$TimeColumn.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/rc-picker/lib/PickerPanel/TimePanel/TimePanelBody/TimeColumn.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$TimeColumn\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TimeColumn;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _useLayoutEffect = _interopRequireDefault(require(\"rc-util/lib/hooks/useLayoutEffect\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _context = require(\"../../context\");\nvar _useScrollTo3 = _interopRequireDefault(require(\"./useScrollTo\"));\nvar SCROLL_DELAY = 300;\n// Not use JSON.stringify to avoid dead loop\nfunction flattenUnits(units) {\n  return units.map(function (_ref) {\n    var value = _ref.value,\n      label = _ref.label,\n      disabled = _ref.disabled;\n    return [value, label, disabled].join(',');\n  }).join(';');\n}\nfunction TimeColumn(props) {\n  var units = props.units,\n    value = props.value,\n    optionalValue = props.optionalValue,\n    type = props.type,\n    onChange = props.onChange,\n    onHover = props.onHover,\n    onDblClick = props.onDblClick,\n    changeOnScroll = props.changeOnScroll;\n  var _usePanelContext = (0, _context.usePanelContext)(),\n    prefixCls = _usePanelContext.prefixCls,\n    cellRender = _usePanelContext.cellRender,\n    now = _usePanelContext.now,\n    locale = _usePanelContext.locale;\n  var panelPrefixCls = \"\".concat(prefixCls, \"-time-panel\");\n  var cellPrefixCls = \"\".concat(prefixCls, \"-time-panel-cell\");\n\n  // ========================== Refs ==========================\n  var ulRef = React.useRef(null);\n\n  // ========================= Scroll =========================\n  var checkDelayRef = React.useRef();\n  var clearDelayCheck = function clearDelayCheck() {\n    clearTimeout(checkDelayRef.current);\n  };\n\n  // ========================== Sync ==========================\n  var _useScrollTo = (0, _useScrollTo3.default)(ulRef, value !== null && value !== void 0 ? value : optionalValue),\n    _useScrollTo2 = (0, _slicedToArray2.default)(_useScrollTo, 3),\n    syncScroll = _useScrollTo2[0],\n    stopScroll = _useScrollTo2[1],\n    isScrolling = _useScrollTo2[2];\n\n  // Effect sync value scroll\n  (0, _useLayoutEffect.default)(function () {\n    syncScroll();\n    clearDelayCheck();\n    return function () {\n      stopScroll();\n      clearDelayCheck();\n    };\n  }, [value, optionalValue, flattenUnits(units)]);\n\n  // ========================= Change =========================\n  // Scroll event if sync onScroll\n  var onInternalScroll = function onInternalScroll(event) {\n    clearDelayCheck();\n    var target = event.target;\n    if (!isScrolling() && changeOnScroll) {\n      checkDelayRef.current = setTimeout(function () {\n        var ul = ulRef.current;\n        var firstLiTop = ul.querySelector(\"li\").offsetTop;\n        var liList = Array.from(ul.querySelectorAll(\"li\"));\n        var liTopList = liList.map(function (li) {\n          return li.offsetTop - firstLiTop;\n        });\n        var liDistList = liTopList.map(function (top, index) {\n          if (units[index].disabled) {\n            return Number.MAX_SAFE_INTEGER;\n          }\n          return Math.abs(top - target.scrollTop);\n        });\n\n        // Find min distance index\n        var minDist = Math.min.apply(Math, (0, _toConsumableArray2.default)(liDistList));\n        var minDistIndex = liDistList.findIndex(function (dist) {\n          return dist === minDist;\n        });\n        var targetUnit = units[minDistIndex];\n        if (targetUnit && !targetUnit.disabled) {\n          onChange(targetUnit.value);\n        }\n      }, SCROLL_DELAY);\n    }\n  };\n\n  // ========================= Render =========================\n  var columnPrefixCls = \"\".concat(panelPrefixCls, \"-column\");\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: columnPrefixCls,\n    ref: ulRef,\n    \"data-type\": type,\n    onScroll: onInternalScroll\n  }, units.map(function (_ref2) {\n    var label = _ref2.label,\n      unitValue = _ref2.value,\n      disabled = _ref2.disabled;\n    var inner = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(cellPrefixCls, \"-inner\")\n    }, label);\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: unitValue,\n      className: (0, _classnames.default)(cellPrefixCls, (0, _defineProperty2.default)((0, _defineProperty2.default)({}, \"\".concat(cellPrefixCls, \"-selected\"), value === unitValue), \"\".concat(cellPrefixCls, \"-disabled\"), disabled)),\n      onClick: function onClick() {\n        if (!disabled) {\n          onChange(unitValue);\n        }\n      },\n      onDoubleClick: function onDoubleClick() {\n        if (!disabled && onDblClick) {\n          onDblClick();\n        }\n      },\n      onMouseEnter: function onMouseEnter() {\n        onHover(unitValue);\n      },\n      onMouseLeave: function onMouseLeave() {\n        onHover(null);\n      },\n      \"data-value\": unitValue\n    }, cellRender ? cellRender(unitValue, {\n      prefixCls: prefixCls,\n      originNode: inner,\n      today: now,\n      type: 'time',\n      subType: type,\n      locale: locale\n    }) : inner);\n  }));\n}\n};"],
"names":["shadow$provide","global","require","module","exports","flattenUnits","units","map","_ref","value","label","disabled","join","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","TimeColumn","props","optionalValue","type","onChange","onHover","onDblClick","changeOnScroll","_usePanelContext","_context","usePanelContext","prefixCls","cellRender","now","locale","panelPrefixCls","concat","cellPrefixCls","ulRef","React","useRef","checkDelayRef","_useScrollTo","_useScrollTo3","_useScrollTo2","_slicedToArray2","syncScroll","stopScroll","isScrolling","_useLayoutEffect","clearTimeout","current","columnPrefixCls","createElement","className","ref","onScroll","onInternalScroll","event","target","setTimeout","ul","firstLiTop","querySelector","offsetTop","liDistList","Array","from","liList","querySelectorAll","liTopList","li","top","index","Number","MAX_SAFE_INTEGER","Math","abs","scrollTop","minDist","min","apply","_toConsumableArray2","minDistIndex","findIndex","dist","targetUnit","SCROLL_DELAY","_ref2","unitValue","inner","key","_classnames","_defineProperty2","onClick","onDoubleClick","onMouseEnter","onMouseLeave","originNode","today","subType"]
}
