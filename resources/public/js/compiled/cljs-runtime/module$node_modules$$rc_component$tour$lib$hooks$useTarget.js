shadow$provide.module$node_modules$$rc_component$tour$lib$hooks$useTarget=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(target,open,gap,scrollIntoViewOptions){var _useState=(0,_react.useState)(void 0);_useState=(0,_slicedToArray2.default)(_useState,2);var targetElement=_useState[0],setTargetElement=_useState[1];(0,_useLayoutEffect.default)(function(){var nextElement=
"function"===typeof target?target():target;setTargetElement(nextElement||null)});_useState=(0,_react.useState)(null);_useState=(0,_slicedToArray2.default)(_useState,2);var posInfo=_useState[0],setPosInfo=_useState[1],updatePos=(0,_useEvent.default)(function(){if(targetElement){!(0,_util.isInViewPort)(targetElement)&&open&&targetElement.scrollIntoView(scrollIntoViewOptions);var _targetElement$getBou=targetElement.getBoundingClientRect(),nextPosInfo={left:_targetElement$getBou.left,top:_targetElement$getBou.top,
width:_targetElement$getBou.width,height:_targetElement$getBou.height,radius:0};setPosInfo(function(origin){return JSON.stringify(origin)!==JSON.stringify(nextPosInfo)?nextPosInfo:origin})}else setPosInfo(null)}),getGapOffset=function(index){var _ref;return null!==(_ref=Array.isArray(null===gap||void 0===gap?void 0:gap.offset)?null===gap||void 0===gap?void 0:gap.offset[index]:null===gap||void 0===gap?void 0:gap.offset)&&void 0!==_ref?_ref:6};(0,_useLayoutEffect.default)(function(){updatePos();window.addEventListener("resize",
updatePos);return function(){window.removeEventListener("resize",updatePos)}},[targetElement,open,updatePos]);return[(0,_react.useMemo)(function(){if(!posInfo)return posInfo;var gapOffsetX=getGapOffset(0),gapOffsetY=getGapOffset(1);var JSCompiler_inline_result=null===gap||void 0===gap?void 0:gap.radius;JSCompiler_inline_result="number"===typeof JSCompiler_inline_result&&!Number.isNaN(JSCompiler_inline_result);return{left:posInfo.left-gapOffsetX,top:posInfo.top-gapOffsetY,width:posInfo.width+2*gapOffsetX,
height:posInfo.height+2*gapOffsetY,radius:JSCompiler_inline_result?null===gap||void 0===gap?void 0:gap.radius:2}},[posInfo,gap]),targetElement]};var _slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_useEvent=global(require("module$node_modules$rc_util$lib$hooks$useEvent")),_useLayoutEffect=global(require("module$node_modules$rc_util$lib$hooks$useLayoutEffect")),_react=require("module$node_modules$react$index"),_util=require("module$node_modules$$rc_component$tour$lib$util")}
//# sourceMappingURL=module$node_modules$$rc_component$tour$lib$hooks$useTarget.js.map
