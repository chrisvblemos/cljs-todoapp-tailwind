shadow$provide.module$node_modules$rc_menu$lib$Menu=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&
Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),
_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_objectWithoutProperties2=global(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),_classnames=
global(require("module$node_modules$classnames$index")),_rcOverflow=global(require("module$node_modules$rc_overflow$lib$index")),_useMergedState7=global(require("module$node_modules$rc_util$lib$hooks$useMergedState")),_isEqual=global(require("module$node_modules$rc_util$lib$isEqual")),_warning=global(require("module$node_modules$rc_util$lib$warning")),_react=_interopRequireWildcard(require("module$node_modules$react$index")),_reactDom=require("module$node_modules$react_dom$index"),_IdContext=require("module$node_modules$rc_menu$lib$context$IdContext"),
_MenuContext=global(require("module$node_modules$rc_menu$lib$context$MenuContext")),_PathContext=require("module$node_modules$rc_menu$lib$context$PathContext"),_PrivateContext=global(require("module$node_modules$rc_menu$lib$context$PrivateContext")),_useAccessibility=require("module$node_modules$rc_menu$lib$hooks$useAccessibility"),_useKeyRecords2=_interopRequireWildcard(require("module$node_modules$rc_menu$lib$hooks$useKeyRecords")),_useMemoCallback=global(require("module$node_modules$rc_menu$lib$hooks$useMemoCallback")),
_useUUID=global(require("module$node_modules$rc_menu$lib$hooks$useUUID")),_MenuItem=global(require("module$node_modules$rc_menu$lib$MenuItem")),_SubMenu=global(require("module$node_modules$rc_menu$lib$SubMenu$index")),_nodeUtil=require("module$node_modules$rc_menu$lib$utils$nodeUtil"),_warnUtil=require("module$node_modules$rc_menu$lib$utils$warnUtil"),_excluded="prefixCls rootClassName style className tabIndex items children direction id mode inlineCollapsed disabled disabledOverflow subMenuOpenDelay subMenuCloseDelay forceSubMenuRender defaultOpenKeys openKeys activeKey defaultActiveFirst selectable multiple defaultSelectedKeys selectedKeys onSelect onDeselect inlineIndent motion defaultMotions triggerSubMenuAction builtinPlacements itemIcon expandIcon overflowedIndicator overflowedIndicatorPopupClassName getPopupContainer onClick onOpenChange onKeyDown openAnimation openTransitionName _internalRenderMenuItem _internalRenderSubMenuItem _internalComponents".split(" "),
EMPTY_LIST=[];require=_react.forwardRef(function(props,ref){var _childList$,_ref$prefixCls=props.prefixCls,prefixCls=void 0===_ref$prefixCls?"rc-menu":_ref$prefixCls,rootClassName=props.rootClassName,style=props.style,className=props.className,_ref$tabIndex=props.tabIndex,tabIndex=void 0===_ref$tabIndex?0:_ref$tabIndex,items=props.items,children=props.children,direction=props.direction,id=props.id,_ref$mode=props.mode,mode=void 0===_ref$mode?"vertical":_ref$mode,inlineCollapsed=props.inlineCollapsed,
disabled=props.disabled,disabledOverflow=props.disabledOverflow,_ref$subMenuOpenDelay=props.subMenuOpenDelay,subMenuOpenDelay=void 0===_ref$subMenuOpenDelay?.1:_ref$subMenuOpenDelay,_ref$subMenuCloseDela=props.subMenuCloseDelay,subMenuCloseDelay=void 0===_ref$subMenuCloseDela?.1:_ref$subMenuCloseDela,forceSubMenuRender=props.forceSubMenuRender,defaultOpenKeys=props.defaultOpenKeys,openKeys=props.openKeys,activeKey=props.activeKey,defaultActiveFirst=props.defaultActiveFirst,_ref$selectable=props.selectable,
selectable=void 0===_ref$selectable?!0:_ref$selectable,_ref$multiple=props.multiple,multiple=void 0===_ref$multiple?!1:_ref$multiple,defaultSelectedKeys=props.defaultSelectedKeys,selectedKeys=props.selectedKeys,onSelect=props.onSelect,onDeselect=props.onDeselect,_ref$inlineIndent=props.inlineIndent,inlineIndent=void 0===_ref$inlineIndent?24:_ref$inlineIndent,motion=props.motion,defaultMotions=props.defaultMotions,_ref$triggerSubMenuAc=props.triggerSubMenuAction,triggerSubMenuAction=void 0===_ref$triggerSubMenuAc?
"hover":_ref$triggerSubMenuAc,builtinPlacements=props.builtinPlacements,itemIcon=props.itemIcon,expandIcon=props.expandIcon,_ref$overflowedIndica=props.overflowedIndicator,overflowedIndicator=void 0===_ref$overflowedIndica?"...":_ref$overflowedIndica,overflowedIndicatorPopupClassName=props.overflowedIndicatorPopupClassName,getPopupContainer=props.getPopupContainer,onClick=props.onClick,onOpenChange=props.onOpenChange,onKeyDown=props.onKeyDown,openAnimation=props.openAnimation,openTransitionName=props.openTransitionName,
_internalRenderMenuItem=props._internalRenderMenuItem,_internalRenderSubMenuItem=props._internalRenderSubMenuItem,_internalComponents=props._internalComponents,restProps=(0,_objectWithoutProperties2.default)(props,_excluded),_React$useMemo=_react.useMemo(function(){return[(0,_nodeUtil.parseItems)(children,items,EMPTY_LIST,_internalComponents,prefixCls),(0,_nodeUtil.parseItems)(children,items,EMPTY_LIST,{},prefixCls)]},[children,items,_internalComponents]),_React$useMemo2=(0,_slicedToArray2.default)(_React$useMemo,
2),childList=_React$useMemo2[0],measureChildList=_React$useMemo2[1],_React$useState=_react.useState(!1),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),mounted=_React$useState2[0],setMounted=_React$useState2[1],containerRef=_react.useRef(),uuid=(0,_useUUID.default)(id),isRtl="rtl"===direction;(0,_warning.default)(!openAnimation&&!openTransitionName,"`openAnimation` and `openTransitionName` is removed. Please use `motion` or `defaultMotion` instead.");var _useMergedState=(0,_useMergedState7.default)(defaultOpenKeys,
{value:openKeys,postState:function(keys){return keys||EMPTY_LIST}}),_useMergedState2=(0,_slicedToArray2.default)(_useMergedState,2),mergedOpenKeys=_useMergedState2[0],setMergedOpenKeys=_useMergedState2[1],triggerOpenKeys=function(keys){function doUpdate(){setMergedOpenKeys(keys);null===onOpenChange||void 0===onOpenChange||onOpenChange(keys)}1<arguments.length&&void 0!==arguments[1]&&arguments[1]?(0,_reactDom.flushSync)(doUpdate):doUpdate()},_React$useState3=_react.useState(mergedOpenKeys),_React$useState4=
(0,_slicedToArray2.default)(_React$useState3,2),inlineCacheOpenKeys=_React$useState4[0],setInlineCacheOpenKeys=_React$useState4[1],mountRef=_react.useRef(!1),_React$useMemo3=_react.useMemo(function(){return"inline"!==mode&&"vertical"!==mode||!inlineCollapsed?[mode,!1]:["vertical",inlineCollapsed]},[mode,inlineCollapsed]),_React$useMemo4=(0,_slicedToArray2.default)(_React$useMemo3,2),mergedMode=_React$useMemo4[0],mergedInlineCollapsed=_React$useMemo4[1],isInlineMode="inline"===mergedMode,_React$useState5=
_react.useState(mergedMode),_React$useState6=(0,_slicedToArray2.default)(_React$useState5,2),internalMode=_React$useState6[0],setInternalMode=_React$useState6[1],_React$useState7=_react.useState(mergedInlineCollapsed),_React$useState8=(0,_slicedToArray2.default)(_React$useState7,2),internalInlineCollapsed=_React$useState8[0],setInternalInlineCollapsed=_React$useState8[1];_react.useEffect(function(){setInternalMode(mergedMode);setInternalInlineCollapsed(mergedInlineCollapsed);mountRef.current&&(isInlineMode?
setMergedOpenKeys(inlineCacheOpenKeys):triggerOpenKeys(EMPTY_LIST))},[mergedMode,mergedInlineCollapsed]);var _React$useState9=_react.useState(0),_React$useState10=(0,_slicedToArray2.default)(_React$useState9,2),lastVisibleIndex=_React$useState10[0],setLastVisibleIndex=_React$useState10[1],allVisible=lastVisibleIndex>=childList.length-1||"horizontal"!==internalMode||disabledOverflow;_react.useEffect(function(){isInlineMode&&setInlineCacheOpenKeys(mergedOpenKeys)},[mergedOpenKeys]);_react.useEffect(function(){mountRef.current=
!0;return function(){mountRef.current=!1}},[]);var _useKeyRecords=(0,_useKeyRecords2.default)(),registerPath=_useKeyRecords.registerPath,unregisterPath=_useKeyRecords.unregisterPath,refreshOverflowKeys=_useKeyRecords.refreshOverflowKeys,isSubPathKey=_useKeyRecords.isSubPathKey,getKeyPath=_useKeyRecords.getKeyPath,getKeys=_useKeyRecords.getKeys,getSubPathKeys=_useKeyRecords.getSubPathKeys,registerPathContext=_react.useMemo(function(){return{registerPath,unregisterPath}},[registerPath,unregisterPath]),
pathUserContext=_react.useMemo(function(){return{isSubPathKey}},[isSubPathKey]);_react.useEffect(function(){refreshOverflowKeys(allVisible?EMPTY_LIST:childList.slice(lastVisibleIndex+1).map(function(child){return child.key}))},[lastVisibleIndex,allVisible]);var _useMergedState3=(0,_useMergedState7.default)(activeKey||defaultActiveFirst&&(null===(_childList$=childList[0])||void 0===_childList$?void 0:_childList$.key),{value:activeKey}),_useMergedState4=(0,_slicedToArray2.default)(_useMergedState3,
2),mergedActiveKey=_useMergedState4[0],setMergedActiveKey=_useMergedState4[1],onActive=(0,_useMemoCallback.default)(function(key){setMergedActiveKey(key)}),onInactive=(0,_useMemoCallback.default)(function(){setMergedActiveKey(void 0)});(0,_react.useImperativeHandle)(ref,function(){return{list:containerRef.current,focus:function(options){var _childList$find,keys=getKeys(),_refreshElements=(0,_useAccessibility.refreshElements)(keys,uuid);keys=_refreshElements.key2element;var element2key=_refreshElements.element2key;
_refreshElements=(0,_useAccessibility.getFocusableElements)(containerRef.current,_refreshElements.elements);element2key=null!==mergedActiveKey&&void 0!==mergedActiveKey?mergedActiveKey:_refreshElements[0]?element2key.get(_refreshElements[0]):null===(_childList$find=childList.find(function(node){return!node.props.disabled}))||void 0===_childList$find?void 0:_childList$find.key;_childList$find=keys.get(element2key);if(element2key&&_childList$find){var _elementToFocus$focus;null===_childList$find||void 0===
_childList$find||null===(_elementToFocus$focus=_childList$find.focus)||void 0===_elementToFocus$focus||_elementToFocus$focus.call(_childList$find,options)}}}});var _useMergedState5=(0,_useMergedState7.default)(defaultSelectedKeys||[],{value:selectedKeys,postState:function(keys){return Array.isArray(keys)?keys:null===keys||void 0===keys?EMPTY_LIST:[keys]}}),_useMergedState6=(0,_slicedToArray2.default)(_useMergedState5,2),mergedSelectKeys=_useMergedState6[0],setMergedSelectKeys=_useMergedState6[1],
triggerSelection=function(info){if(selectable){var targetKey=info.key,exist=mergedSelectKeys.includes(targetKey);var newSelectKeys=multiple?exist?mergedSelectKeys.filter(function(key){return key!==targetKey}):[].concat((0,_toConsumableArray2.default)(mergedSelectKeys),[targetKey]):[targetKey];setMergedSelectKeys(newSelectKeys);info=(0,_objectSpread2.default)((0,_objectSpread2.default)({},info),{},{selectedKeys:newSelectKeys});exist?null===onDeselect||void 0===onDeselect||onDeselect(info):null===onSelect||
void 0===onSelect||onSelect(info)}!multiple&&mergedOpenKeys.length&&"inline"!==internalMode&&triggerOpenKeys(EMPTY_LIST)},onInternalClick=(0,_useMemoCallback.default)(function(info){null===onClick||void 0===onClick||onClick((0,_warnUtil.warnItemProp)(info));triggerSelection(info)}),onInternalOpenChange=(0,_useMemoCallback.default)(function(key,open){var newOpenKeys=mergedOpenKeys.filter(function(k){return k!==key});if(open)newOpenKeys.push(key);else if("inline"!==internalMode){var subPathKeys=getSubPathKeys(key);
newOpenKeys=newOpenKeys.filter(function(k){return!subPathKeys.has(k)})}(0,_isEqual.default)(mergedOpenKeys,newOpenKeys,!0)||triggerOpenKeys(newOpenKeys,!0)}),onInternalKeyDown=(0,_useAccessibility.useAccessibility)(internalMode,mergedActiveKey,isRtl,uuid,containerRef,getKeys,getKeyPath,setMergedActiveKey,function(key,open){open=null!==open&&void 0!==open?open:!mergedOpenKeys.includes(key);onInternalOpenChange(key,open)},onKeyDown);_react.useEffect(function(){setMounted(!0)},[]);var privateContext=
_react.useMemo(function(){return{_internalRenderMenuItem,_internalRenderSubMenuItem}},[_internalRenderMenuItem,_internalRenderSubMenuItem]),wrappedChildList="horizontal"!==internalMode||disabledOverflow?childList:childList.map(function(child,index){return _react.createElement(_MenuContext.default,{key:child.key,overflowDisabled:index>lastVisibleIndex},child)}),container=_react.createElement(_rcOverflow.default,(0,_extends2.default)({id,ref:containerRef,prefixCls:"".concat(prefixCls,"-overflow"),component:"ul",
itemComponent:_MenuItem.default,className:(0,_classnames.default)(prefixCls,"".concat(prefixCls,"-root"),"".concat(prefixCls,"-").concat(internalMode),className,(0,_defineProperty2.default)((0,_defineProperty2.default)({},"".concat(prefixCls,"-inline-collapsed"),internalInlineCollapsed),"".concat(prefixCls,"-rtl"),isRtl),rootClassName),dir:direction,style,role:"menu",tabIndex,data:wrappedChildList,renderRawItem:function(node){return node},renderRawRest:function(omitItems){var originOmitItems=(omitItems=
omitItems.length)?childList.slice(-omitItems):null;return _react.createElement(_SubMenu.default,{eventKey:_useKeyRecords2.OVERFLOW_KEY,title:overflowedIndicator,disabled:allVisible,internalPopupClose:0===omitItems,popupClassName:overflowedIndicatorPopupClassName},originOmitItems)},maxCount:"horizontal"!==internalMode||disabledOverflow?_rcOverflow.default.INVALIDATE:_rcOverflow.default.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(newLastIndex){setLastVisibleIndex(newLastIndex)},
onKeyDown:onInternalKeyDown},restProps));return _react.createElement(_PrivateContext.default.Provider,{value:privateContext},_react.createElement(_IdContext.IdContext.Provider,{value:uuid},_react.createElement(_MenuContext.default,{prefixCls,rootClassName,mode:internalMode,openKeys:mergedOpenKeys,rtl:isRtl,disabled,motion:mounted?motion:null,defaultMotions:mounted?defaultMotions:null,activeKey:mergedActiveKey,onActive,onInactive,selectedKeys:mergedSelectKeys,inlineIndent,subMenuOpenDelay,subMenuCloseDelay,
forceSubMenuRender,builtinPlacements,triggerSubMenuAction,getPopupContainer,itemIcon,expandIcon,onItemClick:onInternalClick,onOpenChange:onInternalOpenChange},_react.createElement(_PathContext.PathUserContext.Provider,{value:pathUserContext},container),_react.createElement("div",{style:{display:"none"},"aria-hidden":!0},_react.createElement(_PathContext.PathRegisterContext.Provider,{value:registerPathContext},measureChildList)))))});exports.default=require}
//# sourceMappingURL=module$node_modules$rc_menu$lib$Menu.js.map
