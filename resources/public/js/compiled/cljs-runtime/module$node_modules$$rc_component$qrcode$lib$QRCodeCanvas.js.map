{
"version":3,
"file":"module$node_modules$$rc_component$qrcode$lib$QRCodeCanvas.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/@rc-component/qrcode/lib/QRCodeCanvas.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$rc_component$qrcode$lib$QRCodeCanvas\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QRCodeCanvas = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _useQRCode2 = require(\"./hooks/useQRCode\");\nvar _utils = require(\"./utils\");\nvar _excluded = [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"includeMargin\", \"minVersion\", \"marginSize\", \"style\", \"imageSettings\"];\nvar QRCodeCanvas = exports.QRCodeCanvas = /*#__PURE__*/_react.default.forwardRef(function QRCodeCanvas(props, forwardedRef) {\n  var value = props.value,\n    _props$size = props.size,\n    size = _props$size === void 0 ? _utils.DEFAULT_SIZE : _props$size,\n    _props$level = props.level,\n    level = _props$level === void 0 ? _utils.DEFAULT_LEVEL : _props$level,\n    _props$bgColor = props.bgColor,\n    bgColor = _props$bgColor === void 0 ? _utils.DEFAULT_BACKGROUND_COLOR : _props$bgColor,\n    _props$fgColor = props.fgColor,\n    fgColor = _props$fgColor === void 0 ? _utils.DEFAULT_FRONT_COLOR : _props$fgColor,\n    _props$includeMargin = props.includeMargin,\n    includeMargin = _props$includeMargin === void 0 ? _utils.DEFAULT_NEED_MARGIN : _props$includeMargin,\n    _props$minVersion = props.minVersion,\n    minVersion = _props$minVersion === void 0 ? _utils.DEFAULT_MINVERSION : _props$minVersion,\n    marginSize = props.marginSize,\n    style = props.style,\n    imageSettings = props.imageSettings,\n    otherProps = (0, _objectWithoutProperties2.default)(props, _excluded);\n  var imgSrc = imageSettings === null || imageSettings === void 0 ? void 0 : imageSettings.src;\n  var _canvas = (0, _react.useRef)(null);\n  var _image = (0, _react.useRef)(null);\n  var setCanvasRef = (0, _react.useCallback)(function (node) {\n    _canvas.current = node;\n    if (typeof forwardedRef === 'function') {\n      forwardedRef(node);\n    } else if (forwardedRef) {\n      forwardedRef.current = node;\n    }\n  }, [forwardedRef]);\n  var _useState = (0, _react.useState)(false),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    setIsImageLoaded = _useState2[1];\n  var _useQRCode = (0, _useQRCode2.useQRCode)({\n      value: value,\n      level: level,\n      minVersion: minVersion,\n      includeMargin: includeMargin,\n      marginSize: marginSize,\n      imageSettings: imageSettings,\n      size: size\n    }),\n    margin = _useQRCode.margin,\n    cells = _useQRCode.cells,\n    numCells = _useQRCode.numCells,\n    calculatedImageSettings = _useQRCode.calculatedImageSettings;\n  (0, _react.useEffect)(function () {\n    if (_canvas.current != null) {\n      var canvas = _canvas.current;\n      var ctx = canvas.getContext('2d');\n      if (!ctx) {\n        return;\n      }\n      var cellsToDraw = cells;\n      var image = _image.current;\n      var haveImageToRender = calculatedImageSettings != null && image !== null && image.complete && image.naturalHeight !== 0 && image.naturalWidth !== 0;\n      if (haveImageToRender) {\n        if (calculatedImageSettings.excavation != null) {\n          cellsToDraw = (0, _utils.excavateModules)(cells, calculatedImageSettings.excavation);\n        }\n      }\n      var pixelRatio = window.devicePixelRatio || 1;\n      canvas.height = canvas.width = size * pixelRatio;\n      var scale = size / numCells * pixelRatio;\n      ctx.scale(scale, scale);\n      ctx.fillStyle = bgColor;\n      ctx.fillRect(0, 0, numCells, numCells);\n      ctx.fillStyle = fgColor;\n      if (_utils.isSupportPath2d) {\n        ctx.fill(new Path2D((0, _utils.generatePath)(cellsToDraw, margin)));\n      } else {\n        cells.forEach(function (row, rdx) {\n          row.forEach(function (cell, cdx) {\n            if (cell) {\n              ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n            }\n          });\n        });\n      }\n      if (calculatedImageSettings) {\n        ctx.globalAlpha = calculatedImageSettings.opacity;\n      }\n      if (haveImageToRender) {\n        ctx.drawImage(image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);\n      }\n    }\n  });\n  (0, _react.useEffect)(function () {\n    setIsImageLoaded(false);\n  }, [imgSrc]);\n  var canvasStyle = (0, _objectSpread2.default)({\n    height: size,\n    width: size\n  }, style);\n  var img = null;\n  if (imgSrc != null) {\n    img = /*#__PURE__*/_react.default.createElement(\"img\", {\n      src: imgSrc,\n      key: imgSrc,\n      style: {\n        display: 'none'\n      },\n      onLoad: function onLoad() {\n        setIsImageLoaded(true);\n      },\n      ref: _image\n      // when crossOrigin is not set, the image will be tainted\n      // and the canvas cannot be exported to an image\n      ,\n      crossOrigin: calculatedImageSettings === null || calculatedImageSettings === void 0 ? void 0 : calculatedImageSettings.crossOrigin\n    });\n  }\n  return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"canvas\", (0, _extends2.default)({\n    style: canvasStyle,\n    height: size,\n    width: size,\n    ref: setCanvasRef,\n    role: \"img\"\n  }, otherProps)), img);\n});\nQRCodeCanvas.displayName = 'QRCodeCanvas';\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","default","_interopRequireWildcard","Object","defineProperty","value","QRCodeCanvas","_extends2","_objectSpread2","_slicedToArray2","_objectWithoutProperties2","_react","_useQRCode2","_utils","_excluded","displayName","forwardRef","props","forwardedRef","_props$size","size","DEFAULT_SIZE","_props$level","level","DEFAULT_LEVEL","_props$bgColor","bgColor","DEFAULT_BACKGROUND_COLOR","_props$fgColor","fgColor","DEFAULT_FRONT_COLOR","_props$includeMargin","includeMargin","DEFAULT_NEED_MARGIN","_props$minVersion","minVersion","DEFAULT_MINVERSION","marginSize","style","imageSettings","otherProps","imgSrc","src","_canvas","useRef","_image","setCanvasRef","useCallback","node","current","_useState","useState","setIsImageLoaded","_useState2","_useQRCode","useQRCode","margin","cells","numCells","calculatedImageSettings","useEffect","canvas","ctx","getContext","cellsToDraw","image","haveImageToRender","complete","naturalHeight","naturalWidth","excavation","excavateModules","pixelRatio","window","devicePixelRatio","height","width","scale","fillStyle","fillRect","isSupportPath2d","fill","Path2D","generatePath","forEach","row","rdx","cell","cdx","globalAlpha","opacity","drawImage","x","y","w","h","canvasStyle","img","createElement","key","display","onLoad","ref","crossOrigin","Fragment","role"]
}
