{
"version":3,
"file":"module$node_modules$$rc_component$async_validator$lib$util.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/@rc-component/async-validator/lib/util.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$rc_component$async_validator$lib$util\"] = function(global,require,module,exports) {\nvar process = require('process');\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AsyncValidationError = void 0;\nexports.asyncMap = asyncMap;\nexports.complementError = complementError;\nexports.convertFieldsError = convertFieldsError;\nexports.deepMerge = deepMerge;\nexports.format = format;\nexports.isEmptyObject = isEmptyObject;\nexports.isEmptyValue = isEmptyValue;\nexports.warning = void 0;\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\nvar _wrapNativeSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/wrapNativeSuper\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n/* eslint no-console:0 */\n\nvar formatRegExp = /%[sdj%]/g;\nvar warning = exports.warning = function warning() {};\n\n// don't print warning message when in production env or node runtime\nif (typeof process !== 'undefined' && process.env && process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && typeof document !== 'undefined') {\n  exports.warning = warning = function warning(type, errors) {\n    if (typeof console !== 'undefined' && console.warn && typeof ASYNC_VALIDATOR_NO_WARNING === 'undefined') {\n      if (errors.every(function (e) {\n        return typeof e === 'string';\n      })) {\n        console.warn(type, errors);\n      }\n    }\n  };\n}\nfunction convertFieldsError(errors) {\n  if (!errors || !errors.length) return null;\n  var fields = {};\n  errors.forEach(function (error) {\n    var field = error.field;\n    fields[field] = fields[field] || [];\n    fields[field].push(error);\n  });\n  return fields;\n}\nfunction format(template) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  var i = 0;\n  var len = args.length;\n  if (typeof template === 'function') {\n    // eslint-disable-next-line prefer-spread\n    return template.apply(null, args);\n  }\n  if (typeof template === 'string') {\n    var str = template.replace(formatRegExp, function (x) {\n      if (x === '%%') {\n        return '%';\n      }\n      if (i >= len) {\n        return x;\n      }\n      switch (x) {\n        case '%s':\n          return String(args[i++]);\n        case '%d':\n          return Number(args[i++]);\n        case '%j':\n          try {\n            return JSON.stringify(args[i++]);\n          } catch (_) {\n            return '[Circular]';\n          }\n          break;\n        default:\n          return x;\n      }\n    });\n    return str;\n  }\n  return template;\n}\nfunction isNativeStringType(type) {\n  return type === 'string' || type === 'url' || type === 'hex' || type === 'email' || type === 'date' || type === 'pattern';\n}\nfunction isEmptyValue(value, type) {\n  if (value === undefined || value === null) {\n    return true;\n  }\n  if (type === 'array' && Array.isArray(value) && !value.length) {\n    return true;\n  }\n  if (isNativeStringType(type) && typeof value === 'string' && !value) {\n    return true;\n  }\n  return false;\n}\nfunction isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\nfunction asyncParallelArray(arr, func, callback) {\n  var results = [];\n  var total = 0;\n  var arrLength = arr.length;\n  function count(errors) {\n    results.push.apply(results, (0, _toConsumableArray2.default)(errors || []));\n    total++;\n    if (total === arrLength) {\n      callback(results);\n    }\n  }\n  arr.forEach(function (a) {\n    func(a, count);\n  });\n}\nfunction asyncSerialArray(arr, func, callback) {\n  var index = 0;\n  var arrLength = arr.length;\n  function next(errors) {\n    if (errors && errors.length) {\n      callback(errors);\n      return;\n    }\n    var original = index;\n    index = index + 1;\n    if (original < arrLength) {\n      func(arr[original], next);\n    } else {\n      callback([]);\n    }\n  }\n  next([]);\n}\nfunction flattenObjArr(objArr) {\n  var ret = [];\n  Object.keys(objArr).forEach(function (k) {\n    ret.push.apply(ret, (0, _toConsumableArray2.default)(objArr[k] || []));\n  });\n  return ret;\n}\nvar AsyncValidationError = exports.AsyncValidationError = /*#__PURE__*/function (_Error) {\n  (0, _inherits2.default)(AsyncValidationError, _Error);\n  var _super = (0, _createSuper2.default)(AsyncValidationError);\n  function AsyncValidationError(errors, fields) {\n    var _this;\n    (0, _classCallCheck2.default)(this, AsyncValidationError);\n    _this = _super.call(this, 'Async Validation Error');\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"errors\", void 0);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"fields\", void 0);\n    _this.errors = errors;\n    _this.fields = fields;\n    return _this;\n  }\n  return (0, _createClass2.default)(AsyncValidationError);\n}( /*#__PURE__*/(0, _wrapNativeSuper2.default)(Error));\nfunction asyncMap(objArr, option, func, callback, source) {\n  if (option.first) {\n    var _pending = new Promise(function (resolve, reject) {\n      var next = function next(errors) {\n        callback(errors);\n        return errors.length ? reject(new AsyncValidationError(errors, convertFieldsError(errors))) : resolve(source);\n      };\n      var flattenArr = flattenObjArr(objArr);\n      asyncSerialArray(flattenArr, func, next);\n    });\n    _pending.catch(function (e) {\n      return e;\n    });\n    return _pending;\n  }\n  var firstFields = option.firstFields === true ? Object.keys(objArr) : option.firstFields || [];\n  var objArrKeys = Object.keys(objArr);\n  var objArrLength = objArrKeys.length;\n  var total = 0;\n  var results = [];\n  var pending = new Promise(function (resolve, reject) {\n    var next = function next(errors) {\n      // eslint-disable-next-line prefer-spread\n      results.push.apply(results, errors);\n      total++;\n      if (total === objArrLength) {\n        callback(results);\n        return results.length ? reject(new AsyncValidationError(results, convertFieldsError(results))) : resolve(source);\n      }\n    };\n    if (!objArrKeys.length) {\n      callback(results);\n      resolve(source);\n    }\n    objArrKeys.forEach(function (key) {\n      var arr = objArr[key];\n      if (firstFields.indexOf(key) !== -1) {\n        asyncSerialArray(arr, func, next);\n      } else {\n        asyncParallelArray(arr, func, next);\n      }\n    });\n  });\n  pending.catch(function (e) {\n    return e;\n  });\n  return pending;\n}\nfunction isErrorObj(obj) {\n  return !!(obj && obj.message !== undefined);\n}\nfunction getValue(value, path) {\n  var v = value;\n  for (var i = 0; i < path.length; i++) {\n    if (v == undefined) {\n      return v;\n    }\n    v = v[path[i]];\n  }\n  return v;\n}\nfunction complementError(rule, source) {\n  return function (oe) {\n    var fieldValue;\n    if (rule.fullFields) {\n      fieldValue = getValue(source, rule.fullFields);\n    } else {\n      fieldValue = source[oe.field || rule.fullField];\n    }\n    if (isErrorObj(oe)) {\n      oe.field = oe.field || rule.fullField;\n      oe.fieldValue = fieldValue;\n      return oe;\n    }\n    return {\n      message: typeof oe === 'function' ? oe() : oe,\n      fieldValue: fieldValue,\n      field: oe.field || rule.fullField\n    };\n  };\n}\nfunction deepMerge(target, source) {\n  if (source) {\n    for (var s in source) {\n      if (source.hasOwnProperty(s)) {\n        var value = source[s];\n        if ((0, _typeof2.default)(value) === 'object' && (0, _typeof2.default)(target[s]) === 'object') {\n          target[s] = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, target[s]), value);\n        } else {\n          target[s] = value;\n        }\n      }\n    }\n  }\n  return target;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","convertFieldsError","errors","length","fields","forEach","error","field","push","asyncParallelArray","arr","func","callback","count","results","apply","_toConsumableArray2","default","total","arrLength","a","asyncSerialArray","next","original","index","flattenObjArr","objArr","ret","Object","keys","k","process","_interopRequireDefault","defineProperty","value","AsyncValidationError","asyncMap","option","source","first","_pending","Promise","resolve","reject","flattenArr","catch","e","firstFields","objArrKeys","objArrLength","pending","key","indexOf","complementError","rule","oe","fullFields","v","i","path","undefined","fieldValue","fullField","message","deepMerge","target","s","hasOwnProperty","_typeof2","_objectSpread2","format","template","_len","arguments","args","Array","_key","len","replace","str","formatRegExp","x","String","Number","JSON","stringify","_","isEmptyObject","obj","isEmptyValue","type","isArray","warning","_createClass2","_classCallCheck2","_assertThisInitialized2","_inherits2","_createSuper2","_wrapNativeSuper2","_defineProperty2","exports.warning","env","window","document","console","warn","ASYNC_VALIDATOR_NO_WARNING","every","_Error","_this","_super","call","Error"]
}
