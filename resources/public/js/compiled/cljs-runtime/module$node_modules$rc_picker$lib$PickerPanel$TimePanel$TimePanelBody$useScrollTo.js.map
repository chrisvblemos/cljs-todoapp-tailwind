{
"version":3,
"file":"module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$useScrollTo.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/rc-picker/lib/PickerPanel/TimePanel/TimePanelBody/useScrollTo.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$useScrollTo\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useScrollTo;\nvar _rcUtil = require(\"rc-util\");\nvar _raf = _interopRequireDefault(require(\"rc-util/lib/raf\"));\nvar _isVisible = _interopRequireDefault(require(\"rc-util/lib/Dom/isVisible\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar SPEED_PTG = 1 / 3;\nfunction useScrollTo(ulRef, value) {\n  // ========================= Scroll =========================\n  var scrollingRef = React.useRef(false);\n  var scrollRafRef = React.useRef(null);\n  var scrollDistRef = React.useRef(null);\n  var isScrolling = function isScrolling() {\n    return scrollingRef.current;\n  };\n  var stopScroll = function stopScroll() {\n    _raf.default.cancel(scrollRafRef.current);\n    scrollingRef.current = false;\n  };\n  var scrollRafTimesRef = React.useRef();\n  var startScroll = function startScroll() {\n    var ul = ulRef.current;\n    scrollDistRef.current = null;\n    scrollRafTimesRef.current = 0;\n    if (ul) {\n      var targetLi = ul.querySelector(\"[data-value=\\\"\".concat(value, \"\\\"]\"));\n      var firstLi = ul.querySelector(\"li\");\n      var doScroll = function doScroll() {\n        stopScroll();\n        scrollingRef.current = true;\n        scrollRafTimesRef.current += 1;\n        var currentTop = ul.scrollTop;\n        var firstLiTop = firstLi.offsetTop;\n        var targetLiTop = targetLi.offsetTop;\n        var targetTop = targetLiTop - firstLiTop;\n\n        // Wait for element exist. 5 frames is enough\n        if (targetLiTop === 0 && targetLi !== firstLi || !(0, _isVisible.default)(ul)) {\n          if (scrollRafTimesRef.current <= 5) {\n            scrollRafRef.current = (0, _raf.default)(doScroll);\n          }\n          return;\n        }\n        var nextTop = currentTop + (targetTop - currentTop) * SPEED_PTG;\n        var dist = Math.abs(targetTop - nextTop);\n\n        // Break if dist get larger, which means user is scrolling\n        if (scrollDistRef.current !== null && scrollDistRef.current < dist) {\n          stopScroll();\n          return;\n        }\n        scrollDistRef.current = dist;\n\n        // Stop when dist is less than 1\n        if (dist <= 1) {\n          ul.scrollTop = targetTop;\n          stopScroll();\n          return;\n        }\n\n        // IE not support `scrollTo`\n        ul.scrollTop = nextTop;\n        scrollRafRef.current = (0, _raf.default)(doScroll);\n      };\n      if (targetLi && firstLi) {\n        doScroll();\n      }\n    }\n  };\n\n  // ======================== Trigger =========================\n  var syncScroll = (0, _rcUtil.useEvent)(startScroll);\n  return [syncScroll, stopScroll, isScrolling];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","value","useScrollTo","ulRef","scrollingRef","React","useRef","scrollRafRef","scrollDistRef","stopScroll","_raf","cancel","current","scrollRafTimesRef","syncScroll","_rcUtil","useEvent","startScroll","ul","targetLi","querySelector","concat","firstLi","doScroll","currentTop","scrollTop","targetLiTop","offsetTop","targetTop","_isVisible","SPEED_PTG","dist","Math","abs","nextTop","isScrolling"]
}
