{
"version":3,
"file":"module$node_modules$rc_virtual_list$lib$hooks$useFrameWheel.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/rc-virtual-list/lib/hooks/useFrameWheel.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_virtual_list$lib$hooks$useFrameWheel\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useFrameWheel;\nvar _raf = _interopRequireDefault(require(\"rc-util/lib/raf\"));\nvar _react = require(\"react\");\nvar _isFirefox = _interopRequireDefault(require(\"../utils/isFirefox\"));\nvar _useOriginScroll = _interopRequireDefault(require(\"./useOriginScroll\"));\nfunction useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, isScrollAtLeft, isScrollAtRight, horizontalScroll,\n/***\n * Return `true` when you need to prevent default event\n */\nonWheelDelta) {\n  var offsetRef = (0, _react.useRef)(0);\n  var nextFrameRef = (0, _react.useRef)(null);\n\n  // Firefox patch\n  var wheelValueRef = (0, _react.useRef)(null);\n  var isMouseScrollRef = (0, _react.useRef)(false);\n\n  // Scroll status sync\n  var originScroll = (0, _useOriginScroll.default)(isScrollAtTop, isScrollAtBottom, isScrollAtLeft, isScrollAtRight);\n  function onWheelY(e, deltaY) {\n    _raf.default.cancel(nextFrameRef.current);\n\n    // Do nothing when scroll at the edge, Skip check when is in scroll\n    if (originScroll(false, deltaY)) return;\n\n    // Skip if nest List has handled this event\n    var event = e;\n    if (!event._virtualHandled) {\n      event._virtualHandled = true;\n    } else {\n      return;\n    }\n    offsetRef.current += deltaY;\n    wheelValueRef.current = deltaY;\n\n    // Proxy of scroll events\n    if (!_isFirefox.default) {\n      event.preventDefault();\n    }\n    nextFrameRef.current = (0, _raf.default)(function () {\n      // Patch a multiple for Firefox to fix wheel number too small\n      // ref: https://github.com/ant-design/ant-design/issues/26372#issuecomment-679460266\n      var patchMultiple = isMouseScrollRef.current ? 10 : 1;\n      onWheelDelta(offsetRef.current * patchMultiple, false);\n      offsetRef.current = 0;\n    });\n  }\n  function onWheelX(event, deltaX) {\n    onWheelDelta(deltaX, true);\n    if (!_isFirefox.default) {\n      event.preventDefault();\n    }\n  }\n\n  // Check for which direction does wheel do. `sx` means `shift + wheel`\n  var wheelDirectionRef = (0, _react.useRef)(null);\n  var wheelDirectionCleanRef = (0, _react.useRef)(null);\n  function onWheel(event) {\n    if (!inVirtual) return;\n\n    // Wait for 2 frame to clean direction\n    _raf.default.cancel(wheelDirectionCleanRef.current);\n    wheelDirectionCleanRef.current = (0, _raf.default)(function () {\n      wheelDirectionRef.current = null;\n    }, 2);\n    var deltaX = event.deltaX,\n      deltaY = event.deltaY,\n      shiftKey = event.shiftKey;\n    var mergedDeltaX = deltaX;\n    var mergedDeltaY = deltaY;\n    if (wheelDirectionRef.current === 'sx' || !wheelDirectionRef.current && (shiftKey || false) && deltaY && !deltaX) {\n      mergedDeltaX = deltaY;\n      mergedDeltaY = 0;\n      wheelDirectionRef.current = 'sx';\n    }\n    var absX = Math.abs(mergedDeltaX);\n    var absY = Math.abs(mergedDeltaY);\n    if (wheelDirectionRef.current === null) {\n      wheelDirectionRef.current = horizontalScroll && absX > absY ? 'x' : 'y';\n    }\n    if (wheelDirectionRef.current === 'y') {\n      onWheelY(event, mergedDeltaY);\n    } else {\n      onWheelX(event, mergedDeltaX);\n    }\n  }\n\n  // A patch for firefox\n  function onFireFoxScroll(event) {\n    if (!inVirtual) return;\n    isMouseScrollRef.current = event.detail === wheelValueRef.current;\n  }\n  return [onWheel, onFireFoxScroll];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","default","Object","defineProperty","value","useFrameWheel","inVirtual","isScrollAtTop","isScrollAtBottom","isScrollAtLeft","isScrollAtRight","horizontalScroll","onWheelDelta","onWheelY","e","deltaY","_raf","cancel","nextFrameRef","current","originScroll","_virtualHandled","offsetRef","wheelValueRef","_isFirefox","preventDefault","isMouseScrollRef","patchMultiple","onWheelX","event","deltaX","_react","useRef","_useOriginScroll","wheelDirectionRef","wheelDirectionCleanRef","onWheel","shiftKey","mergedDeltaX","mergedDeltaY","absX","Math","abs","absY","onFireFoxScroll","detail"]
}
