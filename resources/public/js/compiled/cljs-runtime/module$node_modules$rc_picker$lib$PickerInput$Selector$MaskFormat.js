shadow$provide.module$node_modules$rc_picker$lib$PickerInput$Selector$MaskFormat=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _classCallCheck2=global(require("module$node_modules$$babel$runtime$helpers$classCallCheck")),_createClass2=global(require("module$node_modules$$babel$runtime$helpers$createClass")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),
FORMAT_KEYS="YYYY MM DD HH mm ss SSS".split(" ");exports.default=function(){function MaskFormat(format){(0,_classCallCheck2.default)(this,MaskFormat);(0,_defineProperty2.default)(this,"format",void 0);(0,_defineProperty2.default)(this,"maskFormat",void 0);(0,_defineProperty2.default)(this,"cells",void 0);(0,_defineProperty2.default)(this,"maskCells",void 0);this.format=format;var replaceKeys=FORMAT_KEYS.map(function(key){return"(".concat(key,")")}).join("|");this.maskFormat=format.replace(new RegExp(replaceKeys,
"g"),function(key){return"顧".repeat(key.length)});replaceKeys=new RegExp("(".concat(FORMAT_KEYS.join("|"),")"));var offset=0;this.cells=(format.split(replaceKeys)||[]).filter(function(str){return str}).map(function(text){var mask=FORMAT_KEYS.includes(text),start=offset,end=offset+text.length;offset=end;return{text,mask,start,end}});this.maskCells=this.cells.filter(function(cell){return cell.mask})}(0,_createClass2.default)(MaskFormat,[{key:"getSelection",value:function(maskCellIndex){maskCellIndex=
this.maskCells[maskCellIndex]||{};return[maskCellIndex.start||0,maskCellIndex.end||0]}},{key:"match",value:function(text){for(var i=0;i<this.maskFormat.length;i+=1){var maskChar=this.maskFormat[i],textChar=text[i];if(!textChar||"顧"!==maskChar&&maskChar!==textChar)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(anchorIndex){for(var closetDist=Number.MAX_SAFE_INTEGER,closetIndex=0,i=0;i<this.maskCells.length;i+=1){var _this$maskCells$i=
this.maskCells[i],start=_this$maskCells$i.start;_this$maskCells$i=_this$maskCells$i.end;if(anchorIndex>=start&&anchorIndex<=_this$maskCells$i)return i;start=Math.min(Math.abs(anchorIndex-start),Math.abs(anchorIndex-_this$maskCells$i));start<closetDist&&(closetDist=start,closetIndex=i)}return closetIndex}}]);return MaskFormat}()}
//# sourceMappingURL=module$node_modules$rc_picker$lib$PickerInput$Selector$MaskFormat.js.map
