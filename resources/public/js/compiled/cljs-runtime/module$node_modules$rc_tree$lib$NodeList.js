shadow$provide.module$node_modules$rc_tree$lib$NodeList=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}function getMinimumRangeTransitionRange(list,virtual,height,itemHeight){return!1!==virtual&&height?list.slice(0,Math.ceil(height/itemHeight)+1):list}function itemKey(item){return(0,_treeUtil.getKey)(item.key,item.pos)}function getAccessibilityPath(item){for(var path=
String(item.data.key);item.parent;)item=item.parent,path="".concat(item.data.key," \x3e ").concat(path);return path}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=exports.MotionEntity=exports.MOTION_KEY=void 0;exports.getMinimumRangeTransitionRange=getMinimumRangeTransitionRange;var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),
_objectDestructuringEmpty2=global(require("module$node_modules$$babel$runtime$helpers$objectDestructuringEmpty")),_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_objectWithoutProperties2=global(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),_useLayoutEffect=global(require("module$node_modules$rc_util$lib$hooks$useLayoutEffect")),_rcVirtualList=global(require("module$node_modules$rc_virtual_list$lib$index")),React=function(e,
r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),
_MotionTreeNode=global(require("module$node_modules$rc_tree$lib$MotionTreeNode")),_diffUtil=require("module$node_modules$rc_tree$lib$utils$diffUtil"),_treeUtil=require("module$node_modules$rc_tree$lib$utils$treeUtil"),_excluded="prefixCls data selectable checkable expandedKeys selectedKeys checkedKeys loadedKeys loadingKeys halfCheckedKeys keyEntities disabled dragging dragOverNodeKey dropPosition motion height itemHeight virtual scrollWidth focusable activeItem focused tabIndex onKeyDown onFocus onBlur onActiveChange onListChangeStart onListChangeEnd".split(" "),
HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},noop=function(){},MOTION_KEY=exports.MOTION_KEY="RC_TREE_MOTION_".concat(Math.random());require={key:MOTION_KEY};var MotionFlattenData={parent:null,children:[],pos:(exports.MotionEntity={key:MOTION_KEY,level:0,index:0,pos:"0",node:require,nodes:[require]}).pos,data:require,title:null,key:MOTION_KEY,isStart:[],isEnd:[]};require=React.forwardRef(function(props,ref){function onMotionEnd(){var latestData=
dataRef.current;setPrevData(latestData);setTransitionData(latestData);setTransitionRange([]);setMotionType(null);onListChangeEnd()}var prefixCls=props.prefixCls,data=props.data,expandedKeys=props.expandedKeys,selectedKeys=props.selectedKeys,checkedKeys=props.checkedKeys,loadedKeys=props.loadedKeys,loadingKeys=props.loadingKeys,halfCheckedKeys=props.halfCheckedKeys,keyEntities=props.keyEntities,disabled=props.disabled,dragging=props.dragging,dragOverNodeKey=props.dragOverNodeKey,dropPosition=props.dropPosition,
motion=props.motion,height=props.height,itemHeight=props.itemHeight,virtual=props.virtual,scrollWidth=props.scrollWidth,focusable=props.focusable,activeItem=props.activeItem,focused=props.focused,tabIndex=props.tabIndex,onKeyDown=props.onKeyDown,onFocus=props.onFocus,onBlur=props.onBlur,onActiveChange=props.onActiveChange,onListChangeStart=props.onListChangeStart,onListChangeEnd=props.onListChangeEnd;props=(0,_objectWithoutProperties2.default)(props,_excluded);var listRef=React.useRef(null),indentMeasurerRef=
React.useRef(null);React.useImperativeHandle(ref,function(){return{scrollTo:function(scroll){listRef.current.scrollTo(scroll)},getIndentWidth:function(){return indentMeasurerRef.current.offsetWidth}}});ref=React.useState(expandedKeys);ref=(0,_slicedToArray2.default)(ref,2);var prevExpandedKeys=ref[0],setPrevExpandedKeys=ref[1];ref=React.useState(data);ref=(0,_slicedToArray2.default)(ref,2);var prevData=ref[0],setPrevData=ref[1];ref=React.useState(data);var _React$useState6=(0,_slicedToArray2.default)(ref,
2);ref=_React$useState6[0];var setTransitionData=_React$useState6[1];_React$useState6=React.useState([]);_React$useState6=(0,_slicedToArray2.default)(_React$useState6,2);var transitionRange=_React$useState6[0],setTransitionRange=_React$useState6[1];_React$useState6=React.useState(null);_React$useState6=(0,_slicedToArray2.default)(_React$useState6,2);var motionType=_React$useState6[0],setMotionType=_React$useState6[1],dataRef=React.useRef(data);dataRef.current=data;(0,_useLayoutEffect.default)(function(){setPrevExpandedKeys(expandedKeys);
var diffExpanded=(0,_diffUtil.findExpandedKeys)(prevExpandedKeys,expandedKeys);if(null!==diffExpanded.key)if(diffExpanded.add){var keyIndex=prevData.findIndex(function(_ref){return _ref.key===diffExpanded.key}),rangeNodes=getMinimumRangeTransitionRange((0,_diffUtil.getExpandRange)(prevData,data,diffExpanded.key),virtual,height,itemHeight),newTransitionData=prevData.slice();newTransitionData.splice(keyIndex+1,0,MotionFlattenData);setTransitionData(newTransitionData);setTransitionRange(rangeNodes);
setMotionType("show")}else keyIndex=data.findIndex(function(_ref2){return _ref2.key===diffExpanded.key}),rangeNodes=getMinimumRangeTransitionRange((0,_diffUtil.getExpandRange)(data,prevData,diffExpanded.key),virtual,height,itemHeight),newTransitionData=data.slice(),newTransitionData.splice(keyIndex+1,0,MotionFlattenData),setTransitionData(newTransitionData),setTransitionRange(rangeNodes),setMotionType("hide");else prevData!==data&&(setPrevData(data),setTransitionData(data))},[expandedKeys,data]);
React.useEffect(function(){dragging||onMotionEnd()},[dragging]);ref=motion?ref:data;var treeNodeRequiredProps={expandedKeys,selectedKeys,loadedKeys,loadingKeys,checkedKeys,halfCheckedKeys,dragOverNodeKey,dropPosition,keyEntities};return React.createElement(React.Fragment,null,focused&&activeItem&&React.createElement("span",{style:HIDDEN_STYLE,"aria-live":"assertive"},getAccessibilityPath(activeItem)),React.createElement("div",null,React.createElement("input",{style:HIDDEN_STYLE,disabled:!1===focusable||
disabled,tabIndex:!1!==focusable?tabIndex:null,onKeyDown,onFocus,onBlur,value:"",onChange:noop,"aria-label":"for screen reader"})),React.createElement("div",{className:"".concat(prefixCls,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},React.createElement("div",{className:"".concat(prefixCls,"-indent")},React.createElement("div",{ref:indentMeasurerRef,className:"".concat(prefixCls,"-indent-unit")}))),
React.createElement(_rcVirtualList.default,(0,_extends2.default)({},props,{data:ref,itemKey,height,fullHeight:!1,virtual,itemHeight,scrollWidth,prefixCls:"".concat(prefixCls,"-list"),ref:listRef,role:"tree",onVisibleChange:function(originList){originList.every(function(item){return itemKey(item)!==MOTION_KEY})&&onMotionEnd()}}),function(treeNode){var pos=treeNode.pos,restProps=Object.assign({},((0,_objectDestructuringEmpty2.default)(treeNode.data),treeNode.data)),title=treeNode.title,key=treeNode.key,
isStart=treeNode.isStart,isEnd=treeNode.isEnd,mergedKey=(0,_treeUtil.getKey)(key,pos);delete restProps.key;delete restProps.children;mergedKey=(0,_treeUtil.getTreeNodeProps)(mergedKey,treeNodeRequiredProps);return React.createElement(_MotionTreeNode.default,(0,_extends2.default)({},restProps,mergedKey,{title,active:!!activeItem&&key===activeItem.key,pos,data:treeNode.data,isStart,isEnd,motion,motionNodes:key===MOTION_KEY?transitionRange:null,motionType,onMotionStart:onListChangeStart,onMotionEnd,
treeNodeRequiredProps,onMouseMove:function(){onActiveChange(null)}}))}))});require.displayName="NodeList";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_tree$lib$NodeList.js.map
