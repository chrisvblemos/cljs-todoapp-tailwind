{
"version":3,
"file":"module$node_modules$$rc_component$qrcode$lib$utils.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/@rc-component/qrcode/lib/utils.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$rc_component$qrcode$lib$utils\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SPEC_MARGIN_SIZE = exports.ERROR_LEVEL_MAP = exports.DEFAULT_SIZE = exports.DEFAULT_NEED_MARGIN = exports.DEFAULT_MINVERSION = exports.DEFAULT_MARGIN_SIZE = exports.DEFAULT_LEVEL = exports.DEFAULT_IMG_SCALE = exports.DEFAULT_FRONT_COLOR = exports.DEFAULT_BACKGROUND_COLOR = void 0;\nexports.excavateModules = excavateModules;\nexports.generatePath = generatePath;\nexports.getImageSettings = getImageSettings;\nexports.getMarginSize = getMarginSize;\nexports.isSupportPath2d = void 0;\nvar _qrcodegen = require(\"./libs/qrcodegen\");\n// Part logic is from `qrcode.react`. (ISC License)\n// https://github.com/zpao/qrcode.react\n\n// ==========================================================\n\n// =================== ERROR_LEVEL ==========================\nvar ERROR_LEVEL_MAP = exports.ERROR_LEVEL_MAP = {\n  L: _qrcodegen.Ecc.LOW,\n  M: _qrcodegen.Ecc.MEDIUM,\n  Q: _qrcodegen.Ecc.QUARTILE,\n  H: _qrcodegen.Ecc.HIGH\n};\n\n// =================== DEFAULT_VALUE ==========================\nvar DEFAULT_SIZE = exports.DEFAULT_SIZE = 128;\nvar DEFAULT_LEVEL = exports.DEFAULT_LEVEL = 'L';\nvar DEFAULT_BACKGROUND_COLOR = exports.DEFAULT_BACKGROUND_COLOR = '#FFFFFF';\nvar DEFAULT_FRONT_COLOR = exports.DEFAULT_FRONT_COLOR = '#000000';\nvar DEFAULT_NEED_MARGIN = exports.DEFAULT_NEED_MARGIN = false;\nvar DEFAULT_MINVERSION = exports.DEFAULT_MINVERSION = 1;\nvar SPEC_MARGIN_SIZE = exports.SPEC_MARGIN_SIZE = 4;\nvar DEFAULT_MARGIN_SIZE = exports.DEFAULT_MARGIN_SIZE = 0;\nvar DEFAULT_IMG_SCALE = exports.DEFAULT_IMG_SCALE = 0.1;\n\n// =================== UTILS ==========================\n/**\n * Generate a path string from modules\n * @param modules\n * @param margin \n * @returns \n */\nfunction generatePath(modules) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var ops = [];\n  modules.forEach(function (row, y) {\n    var start = null;\n    row.forEach(function (cell, x) {\n      if (!cell && start !== null) {\n        ops.push(\"M\".concat(start + margin, \" \").concat(y + margin, \"h\").concat(x - start, \"v1H\").concat(start + margin, \"z\"));\n        start = null;\n        return;\n      }\n      if (x === row.length - 1) {\n        if (!cell) {\n          return;\n        }\n        if (start === null) {\n          ops.push(\"M\".concat(x + margin, \",\").concat(y + margin, \" h1v1H\").concat(x + margin, \"z\"));\n        } else {\n          ops.push(\"M\".concat(start + margin, \",\").concat(y + margin, \" h\").concat(x + 1 - start, \"v1H\").concat(start + margin, \"z\"));\n        }\n        return;\n      }\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join('');\n}\n/**\n * Excavate modules\n * @param modules \n * @param excavation \n * @returns \n */\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map(function (row, y) {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n    return row.map(function (cell, x) {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n      return false;\n    });\n  });\n}\n\n/**\n * Get image settings\n * @param cells The modules of the QR code\n * @param size The size of the QR code\n * @param margin \n * @param imageSettings \n * @returns \n */\nfunction getImageSettings(cells, size, margin, imageSettings) {\n  if (imageSettings == null) {\n    return null;\n  }\n  var numCells = cells.length + margin * 2;\n  var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  var scale = numCells / size;\n  var w = (imageSettings.width || defaultSize) * scale;\n  var h = (imageSettings.height || defaultSize) * scale;\n  var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  var opacity = imageSettings.opacity == null ? 1 : imageSettings.opacity;\n  var excavation = null;\n  if (imageSettings.excavate) {\n    var floorX = Math.floor(x);\n    var floorY = Math.floor(y);\n    var ceilW = Math.ceil(w + x - floorX);\n    var ceilH = Math.ceil(h + y - floorY);\n    excavation = {\n      x: floorX,\n      y: floorY,\n      w: ceilW,\n      h: ceilH\n    };\n  }\n  var crossOrigin = imageSettings.crossOrigin;\n  return {\n    x: x,\n    y: y,\n    h: h,\n    w: w,\n    excavation: excavation,\n    opacity: opacity,\n    crossOrigin: crossOrigin\n  };\n}\n\n/**\n * Get margin size\n * @param needMargin Whether need margin\n * @param marginSize Custom margin size\n * @returns \n */\nfunction getMarginSize(needMargin, marginSize) {\n  if (marginSize != null) {\n    return Math.floor(marginSize);\n  }\n  return needMargin ? SPEC_MARGIN_SIZE : DEFAULT_MARGIN_SIZE;\n}\n/**\n * Check if Path2D is supported\n */\nvar isSupportPath2d = exports.isSupportPath2d = function () {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n  return true;\n}();\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","SPEC_MARGIN_SIZE","ERROR_LEVEL_MAP","DEFAULT_SIZE","DEFAULT_NEED_MARGIN","DEFAULT_MINVERSION","DEFAULT_MARGIN_SIZE","DEFAULT_LEVEL","DEFAULT_IMG_SCALE","DEFAULT_FRONT_COLOR","DEFAULT_BACKGROUND_COLOR","excavateModules","modules","excavation","slice","map","row","y","h","cell","x","w","generatePath","margin","arguments","length","undefined","ops","forEach","start","push","concat","join","getImageSettings","cells","size","imageSettings","defaultSize","Math","floor","scale","width","height","opacity","excavate","floorX","floorY","ceil","ceilW","ceilH","crossOrigin","getMarginSize","needMargin","marginSize","isSupportPath2d","_qrcodegen","L","Ecc","LOW","M","MEDIUM","Q","QUARTILE","H","HIGH","addPath","Path2D","e"]
}
