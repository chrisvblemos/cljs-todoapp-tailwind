shadow$provide.module$node_modules$rc_picker$lib$PickerInput$Popup$index=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(props){function filterEmpty(list){return list.filter(function(item){return item})}var panelRender=props.panelRender,internalMode=
props.internalMode,picker=props.picker,showNow=props.showNow,range=props.range,multiple=props.multiple,_props$activeOffset=props.activeOffset,activeOffset=void 0===_props$activeOffset?0:_props$activeOffset,placement=props.placement,presets=props.presets,onPresetHover=props.onPresetHover,onPresetSubmit=props.onPresetSubmit,onFocus=props.onFocus,onBlur=props.onBlur;_props$activeOffset=props.onPanelMouseDown;var direction=props.direction,value=props.value,onSelect=props.onSelect,isInvalid=props.isInvalid,
defaultOpenValue=props.defaultOpenValue,onOk=props.onOk,onSubmit=props.onSubmit,prefixCls=React.useContext(_context.default).prefixCls,panelPrefixCls="".concat(prefixCls,"-panel"),rtl="rtl"===direction,arrowRef=React.useRef(null);direction=React.useRef(null);var _React$useState=React.useState(0);_React$useState=(0,_slicedToArray2.default)(_React$useState,2);var containerWidth=_React$useState[0],setContainerWidth=_React$useState[1];_React$useState=React.useState(0);_React$useState=(0,_slicedToArray2.default)(_React$useState,
2);var containerOffset=_React$useState[0],setContainerOffset=_React$useState[1];_React$useState=function(info){info.offsetWidth&&setContainerWidth(info.offsetWidth)};React.useEffect(function(){if(range){var _arrowRef$current,arrowWidth=(null===(_arrowRef$current=arrowRef.current)||void 0===_arrowRef$current?void 0:_arrowRef$current.offsetWidth)||0;activeOffset<=containerWidth-arrowWidth?setContainerOffset(0):setContainerOffset(activeOffset+arrowWidth-containerWidth)}},[containerWidth,activeOffset,
range]);var valueList=React.useMemo(function(){return filterEmpty((0,_miscUtil.toArray)(value))},[value]),isTimePickerEmptyValue="time"===picker&&!valueList.length,footerSubmitValue=React.useMemo(function(){return isTimePickerEmptyValue?filterEmpty([defaultOpenValue]):valueList},[isTimePickerEmptyValue,valueList,defaultOpenValue]),popupPanelValue=isTimePickerEmptyValue?defaultOpenValue:valueList,disableSubmit=React.useMemo(function(){return footerSubmitValue.length?footerSubmitValue.some(function(val){return isInvalid(val)}):
!0},[footerSubmitValue,isInvalid]);props=React.createElement("div",{className:"".concat(prefixCls,"-panel-layout")},React.createElement(_PresetPanel.default,{prefixCls,presets,onClick:onPresetSubmit,onHover:onPresetHover}),React.createElement("div",null,React.createElement(_PopupPanel.default,(0,_extends2.default)({},props,{value:popupPanelValue})),React.createElement(_Footer.default,(0,_extends2.default)({},props,{showNow:multiple?!1:showNow,invalid:disableSubmit,onSubmit:function(){isTimePickerEmptyValue&&
onSelect(defaultOpenValue);onOk();onSubmit()}}))));panelRender&&(props=panelRender(props));panelRender="".concat(panelPrefixCls,"-container");internalMode=React.createElement("div",{onMouseDown:_props$activeOffset,tabIndex:-1,className:(0,_classnames.default)(panelRender,"".concat(prefixCls,"-").concat(internalMode,"-panel-container")),style:(0,_defineProperty2.default)((0,_defineProperty2.default)({},rtl?"marginRight":"marginLeft",containerOffset),rtl?"marginLeft":"marginRight","auto"),onFocus,onBlur},
props);range&&(placement=(0,_uiUtil.getRealPlacement)(placement,rtl),placement=(0,_uiUtil.getoffsetUnit)(placement,rtl),internalMode=React.createElement("div",{onMouseDown:_props$activeOffset,ref:direction,className:(0,_classnames.default)("".concat(prefixCls,"-range-wrapper"),"".concat(prefixCls,"-").concat(picker,"-range-wrapper"))},React.createElement("div",{ref:arrowRef,className:"".concat(prefixCls,"-range-arrow"),style:(0,_defineProperty2.default)({},placement,activeOffset)}),React.createElement(_rcResizeObserver.default,
{onResize:_React$useState},internalMode)));return internalMode};var _defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_classnames=module(require("module$node_modules$classnames$index")),_rcResizeObserver=module(require("module$node_modules$rc_resize_observer$lib$index")),React=global(require("module$node_modules$react$index")),
_miscUtil=require("module$node_modules$rc_picker$lib$utils$miscUtil"),_uiUtil=require("module$node_modules$rc_picker$lib$utils$uiUtil"),_context=module(require("module$node_modules$rc_picker$lib$PickerInput$context")),_Footer=module(require("module$node_modules$rc_picker$lib$PickerInput$Popup$Footer")),_PopupPanel=module(require("module$node_modules$rc_picker$lib$PickerInput$Popup$PopupPanel")),_PresetPanel=module(require("module$node_modules$rc_picker$lib$PickerInput$Popup$PresetPanel"))}
//# sourceMappingURL=module$node_modules$rc_picker$lib$PickerInput$Popup$index.js.map
