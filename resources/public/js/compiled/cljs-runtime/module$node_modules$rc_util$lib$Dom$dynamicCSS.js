shadow$provide.module$node_modules$rc_util$lib$Dom$dynamicCSS=function(global,require,module,exports){function getMark(){var mark=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mark;return mark?mark.startsWith("data-")?mark:"data-".concat(mark):MARK_KEY}function getContainer(option){return option.attachTo?option.attachTo:document.querySelector("head")||document.body}function findStyles(container){return Array.from((containerCache.get(container)||container).children).filter(function(node){return"STYLE"===
node.tagName})}function injectCSS(css){var option=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(0,_canUseDom.default)())return null;var csp=option.csp,prepend=option.prepend,_option$priority=option.priority,priority=void 0===_option$priority?0:_option$priority;var mergedOrder="queue"===prepend?"prependQueue":prepend?"prepend":"append";var isPrependQueue="prependQueue"===mergedOrder;_option$priority=document.createElement("style");_option$priority.setAttribute(APPEND_ORDER,mergedOrder);
isPrependQueue&&priority&&_option$priority.setAttribute(APPEND_PRIORITY,"".concat(priority));null!==csp&&void 0!==csp&&csp.nonce&&(_option$priority.nonce=null===csp||void 0===csp?void 0:csp.nonce);_option$priority.innerHTML=css;csp=getContainer(option);mergedOrder=csp.firstChild;if(prepend){if(isPrependQueue&&(option=(option.styles||findStyles(csp)).filter(function(node){if(!["prepend","prependQueue"].includes(node.getAttribute(APPEND_ORDER)))return!1;node=Number(node.getAttribute(APPEND_PRIORITY)||
0);return priority>=node}),option.length))return csp.insertBefore(_option$priority,option[option.length-1].nextSibling),_option$priority;csp.insertBefore(_option$priority,mergedOrder)}else csp.appendChild(_option$priority);return _option$priority}function findExistNode(key){var option=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},container=getContainer(option);return(option.styles||findStyles(container)).find(function(node){return node.getAttribute(getMark(option))===key})}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;
Object.defineProperty(exports,"__esModule",{value:!0});exports.clearContainerCache=function(){containerCache.clear()};exports.injectCSS=injectCSS;exports.removeCSS=function(key){var option=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},existNode=findExistNode(key,option);existNode&&getContainer(option).removeChild(existNode)};exports.updateCSS=function(css,key){var originOption=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},container=getContainer(originOption),styles=findStyles(container);
originOption=(0,_objectSpread2.default)((0,_objectSpread2.default)({},originOption),{},{styles});styles=containerCache.get(container);styles&&(0,_contains.default)(document,styles)||(styles=injectCSS("",originOption),containerCache.set(container,styles.parentNode),container.removeChild(styles));if(container=findExistNode(key,originOption)){var _option$csp,_option$csp2;if(null!==(_option$csp=originOption.csp)&&void 0!==_option$csp&&_option$csp.nonce&&container.nonce!==(null===(_option$csp2=originOption.csp)||
void 0===_option$csp2?void 0:_option$csp2.nonce)){var _option$csp3;container.nonce=null===(_option$csp3=originOption.csp)||void 0===_option$csp3?void 0:_option$csp3.nonce}container.innerHTML!==css&&(container.innerHTML=css);return container}_option$csp=injectCSS(css,originOption);_option$csp.setAttribute(getMark(originOption),key);return _option$csp};var _objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_canUseDom=global(require("module$node_modules$rc_util$lib$Dom$canUseDom")),
_contains=global(require("module$node_modules$rc_util$lib$Dom$contains")),APPEND_ORDER="data-rc-order",APPEND_PRIORITY="data-rc-priority",MARK_KEY="rc-util-key",containerCache=new Map}
//# sourceMappingURL=module$node_modules$rc_util$lib$Dom$dynamicCSS.js.map
