{
"version":3,
"file":"module$node_modules$rc_picker$lib$PickerInput$hooks$useRangeValue.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/rc-picker/lib/PickerInput/hooks/useRangeValue.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_picker$lib$PickerInput$hooks$useRangeValue\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useRangeValue;\nexports.useInnerValue = useInnerValue;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _rcUtil = require(\"rc-util\");\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _useSyncState5 = _interopRequireDefault(require(\"../../hooks/useSyncState\"));\nvar _dateUtil = require(\"../../utils/dateUtil\");\nvar _miscUtil = require(\"../../utils/miscUtil\");\nvar _useLockEffect = _interopRequireDefault(require(\"./useLockEffect\"));\nvar EMPTY_VALUE = [];\n\n// Submit Logic:\n// * \u2705 Value:\n//    * merged value using controlled value, if not, use stateValue\n//    * When merged value change, [1] resync calendar value and submit value\n// * \u2705 Calender Value:\n//    * \ud83d\udcbb When user typing is validate, change the calendar value\n//    * \ud83c\udf05 When user click on the panel, change the calendar value\n// * Submit Value:\n//    * \ud83d\udcbb When user blur the input, flush calendar value to submit value\n//    * \ud83c\udf05 When user click on the panel is no needConfirm, flush calendar value to submit value\n//    * \ud83c\udf05 When user click on the panel is needConfirm and click OK, flush calendar value to submit value\n// * Blur logic & close logic:\n//    * \u2705 For value, always try flush submit\n//    * \u2705 If `needConfirm`, reset as [1]\n//    * Else (`!needConfirm`)\n//      * If has another index field, active another index\n// * \u2705 Flush submit:\n//    * If all the start & end field is confirmed or all blur or panel closed\n//    * Update `needSubmit` mark to true\n//    * trigger onChange by `needSubmit` and update stateValue\n\nfunction useUtil(generateConfig, locale, formatList) {\n  var getDateTexts = function getDateTexts(dates) {\n    return dates.map(function (date) {\n      return (0, _dateUtil.formatValue)(date, {\n        generateConfig: generateConfig,\n        locale: locale,\n        format: formatList[0]\n      });\n    });\n  };\n  var isSameDates = function isSameDates(source, target) {\n    var maxLen = Math.max(source.length, target.length);\n    var diffIndex = -1;\n    for (var i = 0; i < maxLen; i += 1) {\n      var prev = source[i] || null;\n      var next = target[i] || null;\n      if (prev !== next && !(0, _dateUtil.isSameTimestamp)(generateConfig, prev, next)) {\n        diffIndex = i;\n        break;\n      }\n    }\n    return [diffIndex < 0, diffIndex !== 0];\n  };\n  return [getDateTexts, isSameDates];\n}\nfunction orderDates(dates, generateConfig) {\n  return (0, _toConsumableArray2.default)(dates).sort(function (a, b) {\n    return generateConfig.isAfter(a, b) ? 1 : -1;\n  });\n}\n\n/**\n * Used for internal value management.\n * It should always use `mergedValue` in render logic\n */\nfunction useCalendarValue(mergedValue) {\n  var _useSyncState = (0, _useSyncState5.default)(mergedValue),\n    _useSyncState2 = (0, _slicedToArray2.default)(_useSyncState, 2),\n    calendarValue = _useSyncState2[0],\n    setCalendarValue = _useSyncState2[1];\n\n  /** Sync calendarValue & submitValue back with value */\n  var syncWithValue = (0, _rcUtil.useEvent)(function () {\n    setCalendarValue(mergedValue);\n  });\n  React.useEffect(function () {\n    syncWithValue();\n  }, [mergedValue]);\n  return [calendarValue, setCalendarValue];\n}\n\n/**\n * Control the internal `value` align with prop `value` and provide a temp `calendarValue` for ui.\n * `calendarValue` will be reset when blur & focus & open.\n */\nfunction useInnerValue(generateConfig, locale, formatList, /** Used for RangePicker. `true` means [DateType, DateType] or will be DateType[] */\nrangeValue,\n/**\n * Trigger order when trigger calendar value change.\n * This should only used in SinglePicker with `multiple` mode.\n * So when `rangeValue` is `true`, order will be ignored.\n */\norder, defaultValue, value, onCalendarChange, onOk) {\n  // This is the root value which will sync with controlled or uncontrolled value\n  var _useMergedState = (0, _rcUtil.useMergedState)(defaultValue, {\n      value: value\n    }),\n    _useMergedState2 = (0, _slicedToArray2.default)(_useMergedState, 2),\n    innerValue = _useMergedState2[0],\n    setInnerValue = _useMergedState2[1];\n  var mergedValue = innerValue || EMPTY_VALUE;\n\n  // ========================= Inner Values =========================\n  var _useCalendarValue = useCalendarValue(mergedValue),\n    _useCalendarValue2 = (0, _slicedToArray2.default)(_useCalendarValue, 2),\n    calendarValue = _useCalendarValue2[0],\n    setCalendarValue = _useCalendarValue2[1];\n\n  // ============================ Change ============================\n  var _useUtil = useUtil(generateConfig, locale, formatList),\n    _useUtil2 = (0, _slicedToArray2.default)(_useUtil, 2),\n    getDateTexts = _useUtil2[0],\n    isSameDates = _useUtil2[1];\n  var triggerCalendarChange = (0, _rcUtil.useEvent)(function (nextCalendarValues) {\n    var clone = (0, _toConsumableArray2.default)(nextCalendarValues);\n    if (rangeValue) {\n      for (var i = 0; i < 2; i += 1) {\n        clone[i] = clone[i] || null;\n      }\n    } else if (order) {\n      clone = orderDates(clone.filter(function (date) {\n        return date;\n      }), generateConfig);\n    }\n\n    // Update merged value\n    var _isSameDates = isSameDates(calendarValue(), clone),\n      _isSameDates2 = (0, _slicedToArray2.default)(_isSameDates, 2),\n      isSameMergedDates = _isSameDates2[0],\n      isSameStart = _isSameDates2[1];\n    if (!isSameMergedDates) {\n      setCalendarValue(clone);\n\n      // Trigger calendar change event\n      if (onCalendarChange) {\n        var cellTexts = getDateTexts(clone);\n        onCalendarChange(clone, cellTexts, {\n          range: isSameStart ? 'end' : 'start'\n        });\n      }\n    }\n  });\n  var triggerOk = function triggerOk() {\n    if (onOk) {\n      onOk(calendarValue());\n    }\n  };\n  return [mergedValue, setInnerValue, calendarValue, triggerCalendarChange, triggerOk];\n}\nfunction useRangeValue(info, mergedValue, setInnerValue, getCalendarValue, triggerCalendarChange, disabled, formatList, focused, open, isInvalidateDate) {\n  var generateConfig = info.generateConfig,\n    locale = info.locale,\n    picker = info.picker,\n    onChange = info.onChange,\n    allowEmpty = info.allowEmpty,\n    order = info.order;\n  var orderOnChange = disabled.some(function (d) {\n    return d;\n  }) ? false : order;\n\n  // ============================= Util =============================\n  var _useUtil3 = useUtil(generateConfig, locale, formatList),\n    _useUtil4 = (0, _slicedToArray2.default)(_useUtil3, 2),\n    getDateTexts = _useUtil4[0],\n    isSameDates = _useUtil4[1];\n\n  // ============================ Values ============================\n  // Used for trigger `onChange` event.\n  // Record current value which is wait for submit.\n  var _useSyncState3 = (0, _useSyncState5.default)(mergedValue),\n    _useSyncState4 = (0, _slicedToArray2.default)(_useSyncState3, 2),\n    submitValue = _useSyncState4[0],\n    setSubmitValue = _useSyncState4[1];\n\n  /** Sync calendarValue & submitValue back with value */\n  var syncWithValue = (0, _rcUtil.useEvent)(function () {\n    setSubmitValue(mergedValue);\n  });\n  React.useEffect(function () {\n    syncWithValue();\n  }, [mergedValue]);\n\n  // ============================ Submit ============================\n  var triggerSubmit = (0, _rcUtil.useEvent)(function (nextValue) {\n    var isNullValue = nextValue === null;\n    var clone = (0, _toConsumableArray2.default)(nextValue || submitValue());\n\n    // Fill null value\n    if (isNullValue) {\n      var maxLen = Math.max(disabled.length, clone.length);\n      for (var i = 0; i < maxLen; i += 1) {\n        if (!disabled[i]) {\n          clone[i] = null;\n        }\n      }\n    }\n\n    // Only when exist value to sort\n    if (orderOnChange && clone[0] && clone[1]) {\n      clone = orderDates(clone, generateConfig);\n    }\n\n    // Sync `calendarValue`\n    triggerCalendarChange(clone);\n\n    // ========= Validate check =========\n    var _clone = clone,\n      _clone2 = (0, _slicedToArray2.default)(_clone, 2),\n      start = _clone2[0],\n      end = _clone2[1];\n\n    // >>> Empty\n    var startEmpty = !start;\n    var endEmpty = !end;\n    var validateEmptyDateRange = allowEmpty ?\n    // Validate empty start\n    (!startEmpty || allowEmpty[0]) && (\n    // Validate empty end\n    !endEmpty || allowEmpty[1]) : true;\n\n    // >>> Order\n    var validateOrder = !order || startEmpty || endEmpty || (0, _dateUtil.isSame)(generateConfig, locale, start, end, picker) || generateConfig.isAfter(end, start);\n\n    // >>> Invalid\n    var validateDates =\n    // Validate start\n    (disabled[0] || !start || !isInvalidateDate(start, {\n      activeIndex: 0\n    })) && (\n    // Validate end\n    disabled[1] || !end || !isInvalidateDate(end, {\n      from: start,\n      activeIndex: 1\n    }));\n    // >>> Result\n    var allPassed =\n    // Null value is from clear button\n    isNullValue ||\n    // Normal check\n    validateEmptyDateRange && validateOrder && validateDates;\n    if (allPassed) {\n      // Sync value with submit value\n      setInnerValue(clone);\n      var _isSameDates3 = isSameDates(clone, mergedValue),\n        _isSameDates4 = (0, _slicedToArray2.default)(_isSameDates3, 1),\n        isSameMergedDates = _isSameDates4[0];\n\n      // Trigger `onChange` if needed\n      if (onChange && !isSameMergedDates) {\n        onChange(\n        // Return null directly if all date are empty\n        isNullValue && clone.every(function (val) {\n          return !val;\n        }) ? null : clone, getDateTexts(clone));\n      }\n    }\n    return allPassed;\n  });\n\n  // ========================= Flush Submit =========================\n  var flushSubmit = (0, _rcUtil.useEvent)(function (index, needTriggerChange) {\n    var nextSubmitValue = (0, _miscUtil.fillIndex)(submitValue(), index, getCalendarValue()[index]);\n    setSubmitValue(nextSubmitValue);\n    if (needTriggerChange) {\n      triggerSubmit();\n    }\n  });\n\n  // ============================ Effect ============================\n  // All finished action trigger after 2 frames\n  var interactiveFinished = !focused && !open;\n  (0, _useLockEffect.default)(!interactiveFinished, function () {\n    if (interactiveFinished) {\n      // Always try to trigger submit first\n      triggerSubmit();\n\n      // Trigger calendar change since this is a effect reset\n      // https://github.com/ant-design/ant-design/issues/22351\n      triggerCalendarChange(mergedValue);\n\n      // Sync with value anyway\n      syncWithValue();\n    }\n  }, 2);\n\n  // ============================ Return ============================\n  return [flushSubmit, triggerSubmit];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","useUtil","generateConfig","locale","formatList","getDateTexts","dates","map","date","_dateUtil","formatValue","format","isSameDates","source","target","maxLen","Math","max","length","diffIndex","i","prev","next","isSameTimestamp","orderDates","_toConsumableArray2","default","sort","a","b","isAfter","useCalendarValue","mergedValue","_useSyncState","_useSyncState5","_useSyncState2","_slicedToArray2","calendarValue","setCalendarValue","syncWithValue","_rcUtil","useEvent","React","useEffect","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","useRangeValue","info","setInnerValue","getCalendarValue","triggerCalendarChange","disabled","focused","open","isInvalidateDate","picker","onChange","allowEmpty","order","orderOnChange","some","d","_useUtil3","_useUtil4","_useSyncState3","_useSyncState4","submitValue","setSubmitValue","triggerSubmit","nextValue","isNullValue","clone","_clone2","start","end","startEmpty","endEmpty","validateEmptyDateRange","validateOrder","isSame","validateDates","activeIndex","from","allPassed","_isSameDates3","isSameMergedDates","_isSameDates4","every","val","flushSubmit","index","needTriggerChange","nextSubmitValue","_miscUtil","fillIndex","interactiveFinished","_useLockEffect","useInnerValue","rangeValue","defaultValue","onCalendarChange","onOk","_useMergedState","useMergedState","_useMergedState2","innerValue","EMPTY_VALUE","_useCalendarValue","_useCalendarValue2","_useUtil","_useUtil2","nextCalendarValues","filter","_isSameDates","_isSameDates2","isSameStart","cellTexts","range","triggerOk"]
}
