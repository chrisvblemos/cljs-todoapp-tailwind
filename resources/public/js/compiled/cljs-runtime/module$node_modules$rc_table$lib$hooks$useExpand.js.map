{
"version":3,
"file":"module$node_modules$rc_table$lib$hooks$useExpand.js",
"lineCount":8,
"mappings":"AAAAA,cAAA,CAAA,gDAAA,CAAqE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAiB7GC,QAASA,yBAAwB,CAACC,CAAD,CAAI,CAAE,GAAI,UAAJ,EAAkB,MAAOC,QAAzB,CAAkC,MAAO,KAA3C,KAAqDC,EAAI,IAAID,OAA7D,CAAwEE,EAAI,IAAIF,OAAW,OAAO,CAACF,wBAAD,CAA4BA,QAAiC,CAACC,CAAD,CAAI,CAAE,MAAOA,EAAA,CAAIG,CAAJ,CAAQD,CAAjB,CAAjE,EAAwFF,CAAxF,CAAlG,CAdjCI,MAAAA,CAAyBR,OAAA,CAAQ,kEAAR,CAC7B,KAAIS,SAAWT,OAAA,CAAQ,mDAAR,CACfU,OAAOC,CAAAA,cAAP,CAAsBT,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CU,MAAO,CAAA,CADoC,CAA7C,CAGAV,QAAQW,CAAAA,OAAR;AAWAC,QAAkB,CAACC,KAAD,CAAQC,UAAR,CAAoBC,SAApB,CAA+B,CAC/C,IAAIC,iBAAmB,GAAIC,WAAYC,CAAAA,kBAAhB,EAAoCL,KAApC,CAAvB,CAEEM,gBAAkBH,gBAAiBG,CAAAA,eAFrC,CAGEC,uBAAyBJ,gBAAiBI,CAAAA,sBAH5C,CAIEC,qBAAuBL,gBAAiBK,CAAAA,oBAJ1C,CAKEC,kBAAoBN,gBAAiBM,CAAAA,iBALvC,CAMEC,SAAWP,gBAAiBO,CAAAA,QAN9B,CAOEC,qBAAuBR,gBAAiBQ,CAAAA,oBAP1C,CASIC,iBARaT,gBAAiBU,CAAAA,UAQ9BD,EAAiCE,WAAYC,CAAAA,gBATjD,CAUIC;AAFmBb,gBAAiBc,CAAAA,kBAEpCD,EAAiD,UAVrD,CAWIE,eAAiBC,KAAMC,CAAAA,OAAN,CAAc,QAAS,EAAG,CAC7C,MAAIX,kBAAJ,CACS,KADT,CAYIT,KAAMqB,CAAAA,UAAV,EAAwBrB,KAAMsB,CAAAA,aAA9B,GAAgDC,SAAUC,CAAAA,cAA1D,EAA4ExB,KAAMqB,CAAAA,UAAWI,CAAAA,sBAA7F,EAAuHxB,UAAWyB,CAAAA,IAAX,CAAgB,QAAS,CAACC,MAAD,CAAS,CACvJ,MAAOA,OAAP,EAAmD,QAAnD,GAAiB,GAAIC,QAAS9B,CAAAA,OAAb,EAAsB6B,MAAtB,CAAjB,EAA+DA,MAAA,CAAOX,wBAAP,CADwF,CAAlC,CAAvH,CAGS,MAHT,CAMO,CAAA,CAnBsC,CAA1B,CAoBlB,CAAC,CAAC,CAACP,iBAAH,CAAsBR,UAAtB,CApBkB,CAXrB,CAgCI4B,gBAAkBV,KAAMW,CAAAA,QAAN,CAAe,QAAS,EAAG,CAC7C,MAAIvB,uBAAJ,CACSA,sBADT,CAGIC,oBAAJ;AACS,GAAIM,WAAYiB,CAAAA,mBAAhB,EAAqC9B,UAArC,CAAiDC,SAAjD,CAA4Dc,wBAA5D,CADT,CAGO,EAPsC,CAA3B,CASpBgB,gBAAAA,CAAmB,GAAIC,eAAgBnC,CAAAA,OAApB,EAA6B+B,eAA7B,CAA8C,CAA9C,CA1C0B,KA2C7CK,kBAAoBF,eAAA,CAAiB,CAAjB,CA3CyB,CA4C7CG,qBAAuBH,eAAA,CAAiB,CAAjB,CA5CsB,CA6C3CI,mBAAqBjB,KAAMC,CAAAA,OAAN,CAAc,QAAS,EAAG,CACjD,MAAO,KAAIiB,GAAJ,CAAQ/B,eAAR,EAA2B4B,iBAA3B,EAAgD,EAAhD,CAD0C,CAA1B,CAEtB,CAAC5B,eAAD,CAAkB4B,iBAAlB,CAFsB,CAGrBI,gBAAAA,CAAkBnB,KAAMoB,CAAAA,WAAN,CAAkB,QAAS,CAACZ,MAAD,CAAS,CACxD,IAAIa,IAAMtC,SAAA,CAAUyB,MAAV,CAAkB1B,UAAWwC,CAAAA,OAAX,CAAmBd,MAAnB,CAAlB,CAAV,CAEIe,OAASN,kBAAmBO,CAAAA,GAAnB,CAAuBH,GAAvB,CACTE;MAAJ,EACEN,kBAAmBQ,CAAAA,MAAnB,CAA0BJ,GAA1B,CACA,CAAAK,GAAA,CAAkB,GAAIC,mBAAoBhD,CAAAA,OAAxB,EAAiCsC,kBAAjC,CAFpB,EAIES,GAJF,CAIoB,EAAGE,CAAAA,MAAH,CAAU,GAAID,mBAAoBhD,CAAAA,OAAxB,EAAiCsC,kBAAjC,CAAV,CAAgE,CAACI,GAAD,CAAhE,CAEpBL,qBAAA,CAAqBU,GAArB,CACInC,SAAJ,EACEA,QAAA,CAAS,CAACgC,MAAV,CAAkBf,MAAlB,CAEEhB,qBAAJ,EACEA,oBAAA,CAAqBkC,GAArB,CAfsD,CAApC,CAiBnB,CAAC3C,SAAD,CAAYkC,kBAAZ,CAAgCnC,UAAhC,CAA4CS,QAA5C,CAAsDC,oBAAtD,CAjBmB,CAoBuBF,kBAA7C,EAAkER,UAAWyB,CAAAA,IAAX,CAAgB,QAAS,CAACC,MAAD,CAAS,CAClG,MAAOqB,MAAMC,CAAAA,OAAN,CAAyB,IAAX,GAAAtB,MAAA,EAA8B,IAAK,EAAnC,GAAmBA,MAAnB,CAAuC,IAAK,EAA5C,CAAgDA,MAAA,CAAOX,wBAAP,CAA9D,CAD2F,CAAlC,CAAlE,EAGE,GAAIkC,QAASpD,CAAAA,OAAb,EAAsB,CAAA,CAAtB;AAA6B,sDAA7B,CAEF,OAAO,CAACK,gBAAD,CAAmBe,cAAnB,CAAmCkB,kBAAnC,CAAuDxB,gBAAvD,CAAyEI,wBAAzE,CAAmGsB,eAAnG,CAzEwC,CAVjD,KAAIQ,oBAAsBrD,MAAA,CAAuBR,OAAA,CAAQ,8DAAR,CAAvB,CAA1B,CACIgD,gBAAkBxC,MAAA,CAAuBR,OAAA,CAAQ,0DAAR,CAAvB,CADtB,CAEI2C,SAAWnC,MAAA,CAAuBR,OAAA,CAAQ,mDAAR,CAAvB,CAFf,CAGIiE,SAAWzD,MAAA,CAAuBR,OAAA,CAAQ,yCAAR,CAAvB,CAHf;AAIIkC,MAKJgC,QAAgC,CAAC9D,CAAD,CAAIE,CAAJ,CAAO,CAAE,GAAI,CAACA,CAAL,EAAUF,CAAV,EAAeA,CAAE+D,CAAAA,UAAjB,CAA6B,MAAO/D,EAAG,IAAI,IAAJ,GAAaA,CAAb,EAAkB,QAAlB,EAA8BK,QAAA,CAASL,CAAT,CAA9B,EAA6C,UAA7C,EAA2D,MAAOA,EAAlE,CAAqE,MAAO,CAAES,QAAST,CAAX,CAAqD,KAAjCG,CAAiC,CAA7BJ,wBAAA,CAAyBG,CAAzB,CAA6B,GAASC,CAAEmD,CAAAA,GAAF,CAAMtD,CAAN,CAAT,CAAmB,MAAOG,EAAE6D,CAAAA,GAAF,CAAMhE,CAAN,CAApM,KAAkNiE,EAAI,CAAEC,UAAW,IAAb,CAAtN,CAA2OC,EAAI7D,MAAOC,CAAAA,cAAX4D,EAA6B7D,MAAO8D,CAAAA,wBAA/Q,CAAkTC,CAAT,KAASA,CAAT,GAAcrE,EAAd,CAAiB,GAAI,SAAJ,GAAkBqE,CAAlB,EAAuB/D,MAAOgE,CAAAA,SAAUC,CAAAA,cAAeC,CAAAA,IAAhC,CAAqCxE,CAArC,CAAwCqE,CAAxC,CAAvB,CAAmE,CAAE,IAAII,EAAIN,CAAA,CAAI7D,MAAO8D,CAAAA,wBAAP,CAAgCpE,CAAhC,CAAmCqE,CAAnC,CAAJ,CAA4C,IAAMI,EAAA,GAAMA,CAAET,CAAAA,GAAR,EAAeS,CAAEC,CAAAA,GAAjB,EAAwBpE,MAAOC,CAAAA,cAAP,CAAsB0D,CAAtB,CAAyBI,CAAzB,CAA4BI,CAA5B,CAAxB,CAAyDR,CAAA,CAAEI,CAAF,CAAzD,CAAgErE,CAAA,CAAEqE,CAAF,CAA5H,CAAoI,MAAOJ,EAAExD,CAAAA,OAAF,CAAYT,CAAZ,CAAeG,CAAf,EAAoBA,CAAEuE,CAAAA,GAAF,CAAM1E,CAAN,CAASiE,CAAT,CAApB,CAAiCA,CAAziB,CAL3B,CAAwBrE,OAAA,CAAQ,iCAAR,CAAxB,CAJZ;AAKIsC,UAAYtC,OAAA,CAAQ,2CAAR,CALhB,CAMI6B,YAAc7B,OAAA,CAAQ,mDAAR,CANlB,CAOImB,YAAcnB,OAAA,CAAQ,mDAAR,CAhB2F;",
"sources":["node_modules/rc-table/lib/hooks/useExpand.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_table$lib$hooks$useExpand\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof3 = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useExpand;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _constant = require(\"../constant\");\nvar _expandUtil = require(\"../utils/expandUtil\");\nvar _legacyUtil = require(\"../utils/legacyUtil\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof3(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction useExpand(props, mergedData, getRowKey) {\n  var expandableConfig = (0, _legacyUtil.getExpandableProps)(props);\n  var expandIcon = expandableConfig.expandIcon,\n    expandedRowKeys = expandableConfig.expandedRowKeys,\n    defaultExpandedRowKeys = expandableConfig.defaultExpandedRowKeys,\n    defaultExpandAllRows = expandableConfig.defaultExpandAllRows,\n    expandedRowRender = expandableConfig.expandedRowRender,\n    onExpand = expandableConfig.onExpand,\n    onExpandedRowsChange = expandableConfig.onExpandedRowsChange,\n    childrenColumnName = expandableConfig.childrenColumnName;\n  var mergedExpandIcon = expandIcon || _expandUtil.renderExpandIcon;\n  var mergedChildrenColumnName = childrenColumnName || 'children';\n  var expandableType = React.useMemo(function () {\n    if (expandedRowRender) {\n      return 'row';\n    }\n    /* eslint-disable no-underscore-dangle */\n    /**\n     * Fix https://github.com/ant-design/ant-design/issues/21154\n     * This is a workaround to not to break current behavior.\n     * We can remove follow code after final release.\n     *\n     * To other developer:\n     *  Do not use `__PARENT_RENDER_ICON__` in prod since we will remove this when refactor\n     */\n    if (props.expandable && props.internalHooks === _constant.INTERNAL_HOOKS && props.expandable.__PARENT_RENDER_ICON__ || mergedData.some(function (record) {\n      return record && (0, _typeof2.default)(record) === 'object' && record[mergedChildrenColumnName];\n    })) {\n      return 'nest';\n    }\n    /* eslint-enable */\n    return false;\n  }, [!!expandedRowRender, mergedData]);\n  var _React$useState = React.useState(function () {\n      if (defaultExpandedRowKeys) {\n        return defaultExpandedRowKeys;\n      }\n      if (defaultExpandAllRows) {\n        return (0, _expandUtil.findAllChildrenKeys)(mergedData, getRowKey, mergedChildrenColumnName);\n      }\n      return [];\n    }),\n    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n    innerExpandedKeys = _React$useState2[0],\n    setInnerExpandedKeys = _React$useState2[1];\n  var mergedExpandedKeys = React.useMemo(function () {\n    return new Set(expandedRowKeys || innerExpandedKeys || []);\n  }, [expandedRowKeys, innerExpandedKeys]);\n  var onTriggerExpand = React.useCallback(function (record) {\n    var key = getRowKey(record, mergedData.indexOf(record));\n    var newExpandedKeys;\n    var hasKey = mergedExpandedKeys.has(key);\n    if (hasKey) {\n      mergedExpandedKeys.delete(key);\n      newExpandedKeys = (0, _toConsumableArray2.default)(mergedExpandedKeys);\n    } else {\n      newExpandedKeys = [].concat((0, _toConsumableArray2.default)(mergedExpandedKeys), [key]);\n    }\n    setInnerExpandedKeys(newExpandedKeys);\n    if (onExpand) {\n      onExpand(!hasKey, record);\n    }\n    if (onExpandedRowsChange) {\n      onExpandedRowsChange(newExpandedKeys);\n    }\n  }, [getRowKey, mergedExpandedKeys, mergedData, onExpand, onExpandedRowsChange]);\n\n  // Warning if use `expandedRowRender` and nest children in the same time\n  if (process.env.NODE_ENV !== 'production' && expandedRowRender && mergedData.some(function (record) {\n    return Array.isArray(record === null || record === void 0 ? void 0 : record[mergedChildrenColumnName]);\n  })) {\n    (0, _warning.default)(false, '`expandedRowRender` should not use with nested Table');\n  }\n  return [expandableConfig, expandableType, mergedExpandedKeys, mergedExpandIcon, mergedChildrenColumnName, onTriggerExpand];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","e","WeakMap","r","t","_interopRequireDefault","_typeof3","Object","defineProperty","value","default","useExpand","props","mergedData","getRowKey","expandableConfig","_legacyUtil","getExpandableProps","expandedRowKeys","defaultExpandedRowKeys","defaultExpandAllRows","expandedRowRender","onExpand","onExpandedRowsChange","mergedExpandIcon","expandIcon","_expandUtil","renderExpandIcon","mergedChildrenColumnName","childrenColumnName","expandableType","React","useMemo","expandable","internalHooks","_constant","INTERNAL_HOOKS","__PARENT_RENDER_ICON__","some","record","_typeof2","_React$useState","useState","findAllChildrenKeys","_React$useState2","_slicedToArray2","innerExpandedKeys","setInnerExpandedKeys","mergedExpandedKeys","Set","onTriggerExpand","useCallback","key","indexOf","hasKey","has","delete","newExpandedKeys","_toConsumableArray2","concat","Array","isArray","_warning","_interopRequireWildcard","__esModule","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set"]
}
