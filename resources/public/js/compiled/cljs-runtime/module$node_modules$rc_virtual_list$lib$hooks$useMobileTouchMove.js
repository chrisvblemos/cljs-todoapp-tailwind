shadow$provide.module$node_modules$rc_virtual_list$lib$hooks$useMobileTouchMove=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(inVirtual,listRef,callback){var touchedRef=(0,_react.useRef)(!1),touchXRef=(0,_react.useRef)(0),touchYRef=(0,_react.useRef)(0),elementRef=(0,_react.useRef)(null),intervalRef=(0,_react.useRef)(null),onTouchMove=
function(e){if(touchedRef.current){var currentX=Math.ceil(e.touches[0].pageX),currentY=Math.ceil(e.touches[0].pageY),offsetX=touchXRef.current-currentX,offsetY=touchYRef.current-currentY,_isHorizontal=Math.abs(offsetX)>Math.abs(offsetY);_isHorizontal?touchXRef.current=currentX:touchYRef.current=currentY;(currentX=callback(_isHorizontal,_isHorizontal?offsetX:offsetY,!1,e))&&e.preventDefault();clearInterval(intervalRef.current);currentX&&(intervalRef.current=setInterval(function(){_isHorizontal?offsetX*=
SMOOTH_PTG:offsetY*=SMOOTH_PTG;var offset=Math.floor(_isHorizontal?offsetX:offsetY);(!callback(_isHorizontal,offset,!0)||.1>=Math.abs(offset))&&clearInterval(intervalRef.current)},16))}},onTouchEnd=function(){touchedRef.current=!1;cleanUpEvents()},onTouchStart=function(e){cleanUpEvents();1!==e.touches.length||touchedRef.current||(touchedRef.current=!0,touchXRef.current=Math.ceil(e.touches[0].pageX),touchYRef.current=Math.ceil(e.touches[0].pageY),elementRef.current=e.target,elementRef.current.addEventListener("touchmove",
onTouchMove,{passive:!1}),elementRef.current.addEventListener("touchend",onTouchEnd,{passive:!0}))};var cleanUpEvents=function(){elementRef.current&&(elementRef.current.removeEventListener("touchmove",onTouchMove),elementRef.current.removeEventListener("touchend",onTouchEnd))};(0,_useLayoutEffect.default)(function(){inVirtual&&listRef.current.addEventListener("touchstart",onTouchStart,{passive:!0});return function(){var _listRef$current;null===(_listRef$current=listRef.current)||void 0===_listRef$current||
_listRef$current.removeEventListener("touchstart",onTouchStart);cleanUpEvents();clearInterval(intervalRef.current)}},[inVirtual])};var _useLayoutEffect=global(require("module$node_modules$rc_util$lib$hooks$useLayoutEffect")),_react=require("module$node_modules$react$index"),SMOOTH_PTG=14/15}
//# sourceMappingURL=module$node_modules$rc_virtual_list$lib$hooks$useMobileTouchMove.js.map
