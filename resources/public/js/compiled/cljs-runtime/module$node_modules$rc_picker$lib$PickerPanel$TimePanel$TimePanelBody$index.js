shadow$provide.module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$index=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(props){var showHour=props.showHour,showMinute=props.showMinute,showSecond=props.showSecond,showMillisecond=
props.showMillisecond,showMeridiem=props.use12Hours,changeOnScroll=props.changeOnScroll,_usePanelContext=(0,_context.usePanelContext)(),prefixCls=_usePanelContext.prefixCls,values=_usePanelContext.values,generateConfig=_usePanelContext.generateConfig,locale=_usePanelContext.locale,onSelect=_usePanelContext.onSelect,_usePanelContext$onHo=_usePanelContext.onHover,onHover=void 0===_usePanelContext$onHo?function(){}:_usePanelContext$onHo,pickerValue=_usePanelContext.pickerValue,value=(null===values||
void 0===values?void 0:values[0])||null;_usePanelContext=React.useContext(_context.PickerHackContext).onCellDblClick;props=(0,_useTimeInfo3.default)(generateConfig,props,value);props=(0,_slicedToArray2.default)(props,5);var getValidTime=props[0],rowHourUnits=props[1],getMinuteUnits=props[2],getSecondUnits=props[3],getMillisecondUnits=props[4];props=function(func){var valueUnitVal=value&&generateConfig[func](value);func=pickerValue&&generateConfig[func](pickerValue);return[valueUnitVal,func]};values=
props("getHour");values=(0,_slicedToArray2.default)(values,2);var hour=values[0],pickerHour=values[1];values=props("getMinute");values=(0,_slicedToArray2.default)(values,2);var minute=values[0],pickerMinute=values[1];values=props("getSecond");values=(0,_slicedToArray2.default)(values,2);var second=values[0],pickerSecond=values[1];props=props("getMillisecond");props=(0,_slicedToArray2.default)(props,2);var millisecond=props[0],pickerMillisecond=props[1];props=null===hour?null:12>hour?"am":"pm";values=
React.useMemo(function(){return showMeridiem?12>hour?rowHourUnits.filter(function(h){return 12>h.value}):rowHourUnits.filter(function(h){return!(12>h.value)}):rowHourUnits},[hour,rowHourUnits,showMeridiem]);var getEnabled=function(units,val){var _enabledUnits$;units=units.filter(function(unit){return!unit.disabled});return null!==val&&void 0!==val?val:null===units||void 0===units||null===(_enabledUnits$=units[0])||void 0===_enabledUnits$?void 0:_enabledUnits$.value},validHour=getEnabled(rowHourUnits,
hour);_usePanelContext$onHo=React.useMemo(function(){return getMinuteUnits(validHour)},[getMinuteUnits,validHour]);var validMinute=getEnabled(_usePanelContext$onHo,minute),secondUnits=React.useMemo(function(){return getSecondUnits(validHour,validMinute)},[getSecondUnits,validHour,validMinute]),validSecond=getEnabled(secondUnits,second),millisecondUnits=React.useMemo(function(){return getMillisecondUnits(validHour,validMinute,validSecond)},[getMillisecondUnits,validHour,validMinute,validSecond]),validMillisecond=
getEnabled(millisecondUnits,millisecond);getEnabled=React.useMemo(function(){if(!showMeridiem)return[];var base=generateConfig.getNow(),amDate=generateConfig.setHour(base,6);base=generateConfig.setHour(base,18);var formatMeridiem=function(date,defaultLabel){var cellMeridiemFormat=locale.cellMeridiemFormat;return cellMeridiemFormat?(0,_dateUtil.formatValue)(date,{generateConfig,locale,format:cellMeridiemFormat}):defaultLabel};return[{label:formatMeridiem(amDate,"AM"),value:"am",disabled:rowHourUnits.every(function(h){return h.disabled||
!(12>h.value)})},{label:formatMeridiem(base,"PM"),value:"pm",disabled:rowHourUnits.every(function(h){return h.disabled||12>h.value})}]},[rowHourUnits,showMeridiem,generateConfig,locale]);var triggerChange=function(nextDate){nextDate=getValidTime(nextDate);onSelect(nextDate)},triggerDateTmpl=React.useMemo(function(){var tmpl=value||pickerValue||generateConfig.getNow();null!==hour&&void 0!==hour?(tmpl=generateConfig.setHour(tmpl,hour),tmpl=generateConfig.setMinute(tmpl,minute),tmpl=generateConfig.setSecond(tmpl,
second),tmpl=generateConfig.setMillisecond(tmpl,millisecond)):null!==pickerHour&&void 0!==pickerHour?(tmpl=generateConfig.setHour(tmpl,pickerHour),tmpl=generateConfig.setMinute(tmpl,pickerMinute),tmpl=generateConfig.setSecond(tmpl,pickerSecond),tmpl=generateConfig.setMillisecond(tmpl,pickerMillisecond)):null!==validHour&&void 0!==validHour&&(tmpl=generateConfig.setHour(tmpl,validHour),tmpl=generateConfig.setMinute(tmpl,validMinute),tmpl=generateConfig.setSecond(tmpl,validSecond),tmpl=generateConfig.setMillisecond(tmpl,
validMillisecond));return tmpl},[value,pickerValue,hour,minute,second,millisecond,validHour,validMinute,validSecond,validMillisecond,pickerHour,pickerMinute,pickerSecond,pickerMillisecond,generateConfig]),fillColumnValue=function(val,func){return null===val?null:generateConfig[func](triggerDateTmpl,val)},getMeridiemTime=function(val){return null===val?null:"am"!==val||12>hour?"pm"===val&&12>hour?generateConfig.setHour(triggerDateTmpl,hour+12):triggerDateTmpl:generateConfig.setHour(triggerDateTmpl,
hour-12)},onHourChange=function(val){triggerChange(fillColumnValue(val,"setHour"))},onMinuteChange=function(val){triggerChange(fillColumnValue(val,"setMinute"))},onSecondChange=function(val){triggerChange(fillColumnValue(val,"setSecond"))},onMillisecondChange=function(val){triggerChange(fillColumnValue(val,"setMillisecond"))},onMeridiemChange=function(val){triggerChange(getMeridiemTime(val))},onHourHover=function(val){onHover(fillColumnValue(val,"setHour"))},onMinuteHover=function(val){onHover(fillColumnValue(val,
"setMinute"))},onSecondHover=function(val){onHover(fillColumnValue(val,"setSecond"))},onMillisecondHover=function(val){onHover(fillColumnValue(val,"setMillisecond"))},onMeridiemHover=function(val){onHover(getMeridiemTime(val))};changeOnScroll={onDblClick:_usePanelContext,changeOnScroll};return React.createElement("div",{className:"".concat(prefixCls,"-content")},showHour&&React.createElement(_TimeColumn.default,(0,_extends2.default)({units:values,value:hour,optionalValue:pickerHour,type:"hour",onChange:onHourChange,
onHover:onHourHover},changeOnScroll)),showMinute&&React.createElement(_TimeColumn.default,(0,_extends2.default)({units:_usePanelContext$onHo,value:minute,optionalValue:pickerMinute,type:"minute",onChange:onMinuteChange,onHover:onMinuteHover},changeOnScroll)),showSecond&&React.createElement(_TimeColumn.default,(0,_extends2.default)({units:secondUnits,value:second,optionalValue:pickerSecond,type:"second",onChange:onSecondChange,onHover:onSecondHover},changeOnScroll)),showMillisecond&&React.createElement(_TimeColumn.default,
(0,_extends2.default)({units:millisecondUnits,value:millisecond,optionalValue:pickerMillisecond,type:"millisecond",onChange:onMillisecondChange,onHover:onMillisecondHover},changeOnScroll)),showMeridiem&&React.createElement(_TimeColumn.default,(0,_extends2.default)({units:getEnabled,value:props,type:"meridiem",onChange:onMeridiemChange,onHover:onMeridiemHover},changeOnScroll)))};var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),
React=global(require("module$node_modules$react$index")),_useTimeInfo3=module(require("module$node_modules$rc_picker$lib$hooks$useTimeInfo")),_dateUtil=require("module$node_modules$rc_picker$lib$utils$dateUtil"),_context=require("module$node_modules$rc_picker$lib$PickerPanel$context"),_TimeColumn=module(require("module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$TimeColumn"))}
//# sourceMappingURL=module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$index.js.map
