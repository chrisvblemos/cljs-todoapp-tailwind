shadow$provide.module$node_modules$$rc_component$portal$lib$useDom=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(render,debug){function append(){ele.parentElement||document.body.appendChild(ele);appendedRef.current=!0}function cleanup(){var _ele$parentElement;
null===(_ele$parentElement=ele.parentElement)||void 0===_ele$parentElement?void 0:_ele$parentElement.removeChild(ele);appendedRef.current=!1}var _React$useState=React.useState(function(){if(!(0,_canUseDom.default)())return null;var defaultEle=document.createElement("div");debug&&defaultEle.setAttribute("data-debug",debug);return defaultEle}),ele=(0,_slicedToArray2.default)(_React$useState,1)[0],appendedRef=React.useRef(!1),queueCreate=React.useContext(_Context.default);_React$useState=React.useState(EMPTY_LIST);
_React$useState=(0,_slicedToArray2.default)(_React$useState,2);var queue=_React$useState[0],setQueue=_React$useState[1];_React$useState=queueCreate||(appendedRef.current?void 0:function(appendFn){setQueue(function(origin){return[appendFn].concat((0,_toConsumableArray2.default)(origin))})});(0,_useLayoutEffect.default)(function(){render?queueCreate?queueCreate(append):append():cleanup();return cleanup},[render]);(0,_useLayoutEffect.default)(function(){queue.length&&(queue.forEach(function(appendFn){return appendFn()}),
setQueue(EMPTY_LIST))},[queue]);return[ele,_React$useState]};var _toConsumableArray2=module(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),React=global(require("module$node_modules$react$index")),_useLayoutEffect=module(require("module$node_modules$rc_util$lib$hooks$useLayoutEffect")),_canUseDom=module(require("module$node_modules$rc_util$lib$Dom$canUseDom")),_Context=module(require("module$node_modules$$rc_component$portal$lib$Context")),
EMPTY_LIST=[]}
//# sourceMappingURL=module$node_modules$$rc_component$portal$lib$useDom.js.map
