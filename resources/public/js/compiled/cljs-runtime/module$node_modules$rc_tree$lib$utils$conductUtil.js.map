{
"version":3,
"file":"module$node_modules$rc_tree$lib$utils$conductUtil.js",
"lineCount":9,
"mappings":"AAAAA,cAAA,CAAA,iDAAA,CAAsE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAW9GC,QAASA,sBAAqB,CAACC,eAAD,CAAkBC,WAAlB,CAA+B,CAC3D,IAAIC,aAAe,IAAIC,GACvBH,gBAAgBI,CAAAA,OAAhB,CAAwB,QAAS,CAACC,GAAD,CAAM,CAChCJ,WAAYK,CAAAA,GAAZ,CAAgBD,GAAhB,CAAL,EACEH,YAAaK,CAAAA,GAAb,CAAiBF,GAAjB,CAFmC,CAAvC,CAKA,OAAOH,aAPoD,CAS7DM,QAASA,gBAAe,CAACC,IAAD,CAAO,CACzBC,IAAAA,CAAOD,IAAPC,EAAe,EADU,KAG3BC,gBAAkBD,IAAKC,CAAAA,eAHI,CAI3BC,UAAYF,IAAKE,CAAAA,SACnB,OAAO,EAHWC,CAALH,IAAKG,CAAAA,QAGX,EAAeF,CAAAA,eAAf,CAAP,EAAwD,CAAA,CAAxD,GAA0CC,SALb,CAS/BE,QAASA,iBAAgB,CAACC,IAAD,CAAOC,aAAP;AAAsBC,QAAtB,CAAgCC,yBAAhC,CAA2D,CAClF,IAAIjB,YAAc,IAAIE,GAAJ,CAAQY,IAAR,CAAlB,CACIf,gBAAkB,IAAIG,GAG1B,KAASgB,IAAT,CAAiB,CAAjB,CAAoBA,IAApB,EAA6BF,QAA7B,CAAuCE,IAAvC,EAAgD,CAAhD,CAEWf,CADMY,aAAcI,CAAAA,GAAd,CAAkBD,IAAlB,CACNf,EADkC,IAAID,GACtCC,EAAAA,OAAT,CAAiB,QAAS,CAACiB,MAAD,CAAS,CAAA,IAE/BZ,KAAOY,MAAOZ,CAAAA,IAFiB,CAG/Ba,iBAAmBD,MAAOE,CAAAA,QAC1BA,iBAAAA,CAAgC,IAAK,EAA1B,GAAAD,gBAAA,CAA8B,EAA9B,CAAmCA,gBAC5CrB,YAAYK,CAAAA,GAAZ,CAJMe,MAAOhB,CAAAA,GAIb,CAAJ,EAA4B,CAACa,yBAAA,CAA0BT,IAA1B,CAA7B,EACEc,gBAASC,CAAAA,MAAT,CAAgB,QAAS,CAACC,WAAD,CAAc,CACrC,MAAO,CAACP,yBAAA,CAA0BO,WAAYhB,CAAAA,IAAtC,CAD6B,CAAvC,CAEGL,CAAAA,OAFH,CAEW,QAAS,CAACqB,WAAD,CAAc,CAChCxB,WAAYM,CAAAA,GAAZ,CAAgBkB,WAAYpB,CAAAA,GAA5B,CADgC,CAFlC,CAN+B,CAAnC,CAiBF;IADA,IAAIqB,YAAc,IAAIvB,GACtB,CAAsC,CAAtC,EAA4BwB,QAA5B,CAAyC,EAAAA,QAAzC,CAEYvB,CADMY,aAAcI,CAAAA,GAAd,CAAkBO,QAAlB,CACNvB,EADmC,IAAID,GACvCC,EAAAA,OAAV,CAAkB,QAAS,CAACiB,MAAD,CAAS,CAAA,IAC9BO,OAASP,MAAOO,CAAAA,MAIpB,IAAI,CAAAV,yBAAA,CAHKG,MAAOZ,CAAAA,IAGZ,CAAJ,EAAwCY,MAAOO,CAAAA,MAA/C,EAAyD,CAAAF,WAAYpB,CAAAA,GAAZ,CAAgBe,MAAOO,CAAAA,MAAOvB,CAAAA,GAA9B,CAAzD,CAAA,CAKA,GAAI,CAAAa,yBAAA,CAA0BG,MAAOO,CAAAA,MAAOnB,CAAAA,IAAxC,CAAJ,CAAA,CAIA,IAAIoB,WAAa,CAAA,CAAjB,CACIC,eAAiB,CAAA,CACGN,EAAvBI,MAAOL,CAAAA,QAAgBC,EAAJ,EAAIA,EAAAA,MAAxB,CAA+B,QAAS,CAACC,WAAD,CAAc,CACpD,MAAO,CAACP,yBAAA,CAA0BO,WAAYhB,CAAAA,IAAtC,CAD4C,CAAtD,CAEGL,CAAAA,OAFH,CAEW,QAAS,CAAC2B,KAAD,CAAQ,CACtB1B,KAAAA,CAAM0B,KAAM1B,CAAAA,GAChB,KAAI2B,QAAU/B,WAAYK,CAAAA,GAAZ,CAAgBD,KAAhB,CACVwB;UAAJ,EAAkB,CAACG,OAAnB,GACEH,UADF,CACe,CAAA,CADf,CAGKC,eAAL,EAAwBE,CAAAA,OAAxB,EAAmC,CAAAhC,eAAgBM,CAAAA,GAAhB,CAAoBD,KAApB,CAAnC,GACEyB,cADF,CACmB,CAAA,CADnB,CAN0B,CAF5B,CAYID,WAAJ,EACE5B,WAAYM,CAAAA,GAAZ,CAAgBqB,MAAOvB,CAAAA,GAAvB,CAEEyB,eAAJ,EACE9B,eAAgBO,CAAAA,GAAhB,CAAoBqB,MAAOvB,CAAAA,GAA3B,CAtBF,CACEqB,WAAYnB,CAAAA,GAAZ,CAAgBqB,MAAOvB,CAAAA,GAAvB,CANF,CALkC,CAApC,CAqCF,OAAO,CACLJ,YAAagC,KAAMC,CAAAA,IAAN,CAAWjC,WAAX,CADR,CAELD,gBAAiBiC,KAAMC,CAAAA,IAAN,CAAWnC,qBAAA,CAAsBC,eAAtB,CAAuCC,WAAvC,CAAX,CAFZ,CA/D2E,CAsEpFkC,QAASA,kBAAiB,CAACpB,IAAD,CAAOqB,QAAP,CAAiBpB,aAAjB,CAAgCC,QAAhC,CAA0CC,yBAA1C,CAAqE,CAC7F,IAAIjB,YAAc,IAAIE,GAAJ,CAAQY,IAAR,CAAlB,CACIf,gBAAkB,IAAIG,GAAJ,CAAQiC,QAAR,CAGtB;IAASjB,IAAT,CAAiB,CAAjB,CAAoBA,IAApB,EAA6BF,QAA7B,CAAuCE,IAAvC,EAAgD,CAAhD,CAEWf,CADMY,aAAcI,CAAAA,GAAd,CAAkBD,IAAlB,CACNf,EADkC,IAAID,GACtCC,EAAAA,OAAT,CAAiB,QAAS,CAACiB,MAAD,CAAS,CAAA,IAC7BhB,IAAMgB,MAAOhB,CAAAA,GADgB,CAE/BI,KAAOY,MAAOZ,CAAAA,IACd4B,OAAAA,CAAoBhB,MAAOE,CAAAA,QAC3BA,OAAAA,CAAiC,IAAK,EAA3B,GAAAc,MAAA,CAA+B,EAA/B,CAAoCA,MAC5CpC,YAAYK,CAAAA,GAAZ,CAAgBD,GAAhB,CAAL,EAA8BL,eAAgBM,CAAAA,GAAhB,CAAoBD,GAApB,CAA9B,EAA2Da,yBAAA,CAA0BT,IAA1B,CAA3D,EACEc,MAASC,CAAAA,MAAT,CAAgB,QAAS,CAACC,WAAD,CAAc,CACrC,MAAO,CAACP,yBAAA,CAA0BO,WAAYhB,CAAAA,IAAtC,CAD6B,CAAvC,CAEGL,CAAAA,OAFH,CAEW,QAAS,CAACqB,WAAD,CAAc,CAChCxB,WAAYqC,CAAAA,MAAZ,CAAmBb,WAAYpB,CAAAA,GAA/B,CADgC,CAFlC,CAN+B,CAAnC,CAgBFL,gBAAA,CAAkB,IAAIG,GAEtB,KADA,IAAIuB,YAAc,IAAIvB,GACtB,CAAwC,CAAxC,EAA6BoC,QAA7B,CAA2C,EAAAA,QAA3C,CAEanC,CADMY,aAAcI,CAAAA,GAAd,CAAkBmB,QAAlB,CACNnC;AADoC,IAAID,GACxCC,EAAAA,OAAX,CAAmB,QAAS,CAACiB,MAAD,CAAS,CAAA,IAC/BO,OAASP,MAAOO,CAAAA,MAIpB,IAAI,CAAAV,yBAAA,CAHKG,MAAOZ,CAAAA,IAGZ,CAAJ,EAAwCY,MAAOO,CAAAA,MAA/C,EAAyD,CAAAF,WAAYpB,CAAAA,GAAZ,CAAgBe,MAAOO,CAAAA,MAAOvB,CAAAA,GAA9B,CAAzD,CAAA,CAKA,GAAI,CAAAa,yBAAA,CAA0BG,MAAOO,CAAAA,MAAOnB,CAAAA,IAAxC,CAAJ,CAAA,CAIA,IAAIoB,WAAa,CAAA,CAAjB,CACIC,eAAiB,CAAA,CACGN,EAAvBI,MAAOL,CAAAA,QAAgBC,EAAJ,EAAIA,EAAAA,MAAxB,CAA+B,QAAS,CAACC,WAAD,CAAc,CACpD,MAAO,CAACP,yBAAA,CAA0BO,WAAYhB,CAAAA,IAAtC,CAD4C,CAAtD,CAEGL,CAAAA,OAFH,CAEW,QAAS,CAACoC,KAAD,CAAQ,CACtBnC,KAAAA,CAAMmC,KAAMnC,CAAAA,GAChB,KAAI2B,QAAU/B,WAAYK,CAAAA,GAAZ,CAAgBD,KAAhB,CACVwB,WAAJ,EAAkB,CAACG,OAAnB,GACEH,UADF,CACe,CAAA,CADf,CAGKC,eAAL,EAAwBE,CAAAA,OAAxB,EAAmC,CAAAhC,eAAgBM,CAAAA,GAAhB,CAAoBD,KAApB,CAAnC;CACEyB,cADF,CACmB,CAAA,CADnB,CAN0B,CAF5B,CAYKD,WAAL,EACE5B,WAAYqC,CAAAA,MAAZ,CAAmBV,MAAOvB,CAAAA,GAA1B,CAEEyB,eAAJ,EACE9B,eAAgBO,CAAAA,GAAhB,CAAoBqB,MAAOvB,CAAAA,GAA3B,CAtBF,CACEqB,WAAYnB,CAAAA,GAAZ,CAAgBqB,MAAOvB,CAAAA,GAAvB,CANF,CALmC,CAArC,CAqCF,OAAO,CACLJ,YAAagC,KAAMC,CAAAA,IAAN,CAAWjC,WAAX,CADR,CAELD,gBAAiBiC,KAAMC,CAAAA,IAAN,CAAWnC,qBAAA,CAAsBC,eAAtB,CAAuCC,WAAvC,CAAX,CAFZ,CAhEsF,CAhG3FwC,MAAAA,CAAyB7C,OAAA,CAAQ,kEAAR,CAC7B8C,OAAOC,CAAAA,cAAP,CAAsB7C,OAAtB,CAA+B,YAA/B,CAA6C,CAC3C8C,MAAO,CAAA,CADoC,CAA7C,CAGA9C,QAAQ+C,CAAAA,YAAR,CAwKAA,QAAqB,CAACC,OAAD,CAAUd,OAAV,CAAmBe,WAAnB,CAAgCC,gBAAhC,CAAkD,CACrE,IAAIC;AAAkB,EAGpB/B,iBAAA,CADE8B,gBAAJ,CAC8BA,gBAD9B,CAG8BxC,eAI1BO,QAAAA,CAAO,IAAIZ,GAAJ,CAAQ2C,OAAQtB,CAAAA,MAAR,CAAe,QAAS,CAACnB,GAAD,CAAM,CAC/C,IAAI6C,UAAY,CAAC,CAAC,GAAIC,QAASC,CAAAA,OAAb,EAAsBL,WAAtB,CAAmC1C,GAAnC,CACb6C,UAAL,EACED,eAAgBI,CAAAA,IAAhB,CAAqBhD,GAArB,CAEF,OAAO6C,UALwC,CAA9B,CAAR,CAOX,KAAIlC,cAAgB,IAAIsC,GAAxB,CACIrC,SAAW,CAGfyB,OAAO3B,CAAAA,IAAP,CAAYgC,WAAZ,CAAyB3C,CAAAA,OAAzB,CAAiC,QAAS,CAACC,GAAD,CAAM,CAC1CgB,GAAAA,CAAS0B,WAAA,CAAY1C,GAAZ,CACb,KAAIc,MAAQE,GAAOF,CAAAA,KAAnB,CACIoC,SAAWvC,aAAcI,CAAAA,GAAd,CAAkBD,KAAlB,CACVoC,SAAL,GACEA,QACA,CADW,IAAIpD,GACf,CAAAa,aAAcwC,CAAAA,GAAd,CAAkBrC,KAAlB,CAAyBoC,QAAzB,CAFF,CAIAA,SAAShD,CAAAA,GAAT,CAAac,GAAb,CACAJ,SAAA,CAAWwC,IAAKC,CAAAA,GAAL,CAASzC,QAAT,CAAmBE,KAAnB,CATmC,CAAhD,CAWA;GAAIwC,QAASP,CAAAA,OAAb,EAAsB,CAACH,eAAgBW,CAAAA,MAAvC,CAA+C,4BAA6BC,CAAAA,MAA7B,CAAoCZ,eAAgBa,CAAAA,KAAhB,CAAsB,CAAtB,CAAyB,GAAzB,CAA8BC,CAAAA,GAA9B,CAAkC,QAAS,CAAC1D,GAAD,CAAM,CAClI,MAAO,GAAIwD,CAAAA,MAAJ,CAAWxD,GAAX,CAAgB,GAAhB,CAD2H,CAAjD,CAEhF2D,CAAAA,IAFgF,CAE3E,IAF2E,CAApC,CAA/C,CASA,OALgB,CAAA,CAAhBC,GAAIjC,OAAJiC,CACWnD,gBAAA,CAAiBC,OAAjB,CAAuBC,aAAvB,CAAsCC,QAAtC,CAAgDC,gBAAhD,CADX+C,CAGW9B,iBAAA,CAAkBpB,OAAlB,CAAwBiB,OAAQhC,CAAAA,eAAhC,CAAiDgB,aAAjD,CAAgEC,QAAhE,CAA0EC,gBAA1E,CAvC0D,CAvKvEpB,QAAQU,CAAAA,eAAR,CAA0BA,eAC1B,KAAImD,SAAWlB,MAAA,CAAuB7C,OAAA,CAAQ,yCAAR,CAAvB,CAAf,CACIuD,SAAWV,MAAA,CAAuB7C,OAAA,CAAQ,+CAAR,CAAvB,CAV+F;",
"sources":["node_modules/rc-tree/lib/utils/conductUtil.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_tree$lib$utils$conductUtil\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.conductCheck = conductCheck;\nexports.isCheckDisabled = isCheckDisabled;\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\nvar _keyUtil = _interopRequireDefault(require(\"./keyUtil\"));\nfunction removeFromCheckedKeys(halfCheckedKeys, checkedKeys) {\n  var filteredKeys = new Set();\n  halfCheckedKeys.forEach(function (key) {\n    if (!checkedKeys.has(key)) {\n      filteredKeys.add(key);\n    }\n  });\n  return filteredKeys;\n}\nfunction isCheckDisabled(node) {\n  var _ref = node || {},\n    disabled = _ref.disabled,\n    disableCheckbox = _ref.disableCheckbox,\n    checkable = _ref.checkable;\n  return !!(disabled || disableCheckbox) || checkable === false;\n}\n\n// Fill miss keys\nfunction fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled) {\n  var checkedKeys = new Set(keys);\n  var halfCheckedKeys = new Set();\n\n  // Add checked keys top to bottom\n  for (var level = 0; level <= maxLevel; level += 1) {\n    var entities = levelEntities.get(level) || new Set();\n    entities.forEach(function (entity) {\n      var key = entity.key,\n        node = entity.node,\n        _entity$children = entity.children,\n        children = _entity$children === void 0 ? [] : _entity$children;\n      if (checkedKeys.has(key) && !syntheticGetCheckDisabled(node)) {\n        children.filter(function (childEntity) {\n          return !syntheticGetCheckDisabled(childEntity.node);\n        }).forEach(function (childEntity) {\n          checkedKeys.add(childEntity.key);\n        });\n      }\n    });\n  }\n\n  // Add checked keys from bottom to top\n  var visitedKeys = new Set();\n  for (var _level = maxLevel; _level >= 0; _level -= 1) {\n    var _entities = levelEntities.get(_level) || new Set();\n    _entities.forEach(function (entity) {\n      var parent = entity.parent,\n        node = entity.node;\n\n      // Skip if no need to check\n      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {\n        return;\n      }\n\n      // Skip if parent is disabled\n      if (syntheticGetCheckDisabled(entity.parent.node)) {\n        visitedKeys.add(parent.key);\n        return;\n      }\n      var allChecked = true;\n      var partialChecked = false;\n      (parent.children || []).filter(function (childEntity) {\n        return !syntheticGetCheckDisabled(childEntity.node);\n      }).forEach(function (_ref2) {\n        var key = _ref2.key;\n        var checked = checkedKeys.has(key);\n        if (allChecked && !checked) {\n          allChecked = false;\n        }\n        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {\n          partialChecked = true;\n        }\n      });\n      if (allChecked) {\n        checkedKeys.add(parent.key);\n      }\n      if (partialChecked) {\n        halfCheckedKeys.add(parent.key);\n      }\n      visitedKeys.add(parent.key);\n    });\n  }\n  return {\n    checkedKeys: Array.from(checkedKeys),\n    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))\n  };\n}\n\n// Remove useless key\nfunction cleanConductCheck(keys, halfKeys, levelEntities, maxLevel, syntheticGetCheckDisabled) {\n  var checkedKeys = new Set(keys);\n  var halfCheckedKeys = new Set(halfKeys);\n\n  // Remove checked keys from top to bottom\n  for (var level = 0; level <= maxLevel; level += 1) {\n    var entities = levelEntities.get(level) || new Set();\n    entities.forEach(function (entity) {\n      var key = entity.key,\n        node = entity.node,\n        _entity$children2 = entity.children,\n        children = _entity$children2 === void 0 ? [] : _entity$children2;\n      if (!checkedKeys.has(key) && !halfCheckedKeys.has(key) && !syntheticGetCheckDisabled(node)) {\n        children.filter(function (childEntity) {\n          return !syntheticGetCheckDisabled(childEntity.node);\n        }).forEach(function (childEntity) {\n          checkedKeys.delete(childEntity.key);\n        });\n      }\n    });\n  }\n\n  // Remove checked keys form bottom to top\n  halfCheckedKeys = new Set();\n  var visitedKeys = new Set();\n  for (var _level2 = maxLevel; _level2 >= 0; _level2 -= 1) {\n    var _entities2 = levelEntities.get(_level2) || new Set();\n    _entities2.forEach(function (entity) {\n      var parent = entity.parent,\n        node = entity.node;\n\n      // Skip if no need to check\n      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {\n        return;\n      }\n\n      // Skip if parent is disabled\n      if (syntheticGetCheckDisabled(entity.parent.node)) {\n        visitedKeys.add(parent.key);\n        return;\n      }\n      var allChecked = true;\n      var partialChecked = false;\n      (parent.children || []).filter(function (childEntity) {\n        return !syntheticGetCheckDisabled(childEntity.node);\n      }).forEach(function (_ref3) {\n        var key = _ref3.key;\n        var checked = checkedKeys.has(key);\n        if (allChecked && !checked) {\n          allChecked = false;\n        }\n        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {\n          partialChecked = true;\n        }\n      });\n      if (!allChecked) {\n        checkedKeys.delete(parent.key);\n      }\n      if (partialChecked) {\n        halfCheckedKeys.add(parent.key);\n      }\n      visitedKeys.add(parent.key);\n    });\n  }\n  return {\n    checkedKeys: Array.from(checkedKeys),\n    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))\n  };\n}\n\n/**\n * Conduct with keys.\n * @param keyList current key list\n * @param keyEntities key - dataEntity map\n * @param mode `fill` to fill missing key, `clean` to remove useless key\n */\nfunction conductCheck(keyList, checked, keyEntities, getCheckDisabled) {\n  var warningMissKeys = [];\n  var syntheticGetCheckDisabled;\n  if (getCheckDisabled) {\n    syntheticGetCheckDisabled = getCheckDisabled;\n  } else {\n    syntheticGetCheckDisabled = isCheckDisabled;\n  }\n\n  // We only handle exist keys\n  var keys = new Set(keyList.filter(function (key) {\n    var hasEntity = !!(0, _keyUtil.default)(keyEntities, key);\n    if (!hasEntity) {\n      warningMissKeys.push(key);\n    }\n    return hasEntity;\n  }));\n  var levelEntities = new Map();\n  var maxLevel = 0;\n\n  // Convert entities by level for calculation\n  Object.keys(keyEntities).forEach(function (key) {\n    var entity = keyEntities[key];\n    var level = entity.level;\n    var levelSet = levelEntities.get(level);\n    if (!levelSet) {\n      levelSet = new Set();\n      levelEntities.set(level, levelSet);\n    }\n    levelSet.add(entity);\n    maxLevel = Math.max(maxLevel, level);\n  });\n  (0, _warning.default)(!warningMissKeys.length, \"Tree missing follow keys: \".concat(warningMissKeys.slice(0, 100).map(function (key) {\n    return \"'\".concat(key, \"'\");\n  }).join(', ')));\n  var result;\n  if (checked === true) {\n    result = fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled);\n  } else {\n    result = cleanConductCheck(keys, checked.halfCheckedKeys, levelEntities, maxLevel, syntheticGetCheckDisabled);\n  }\n  return result;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","removeFromCheckedKeys","halfCheckedKeys","checkedKeys","filteredKeys","Set","forEach","key","has","add","isCheckDisabled","node","_ref","disableCheckbox","checkable","disabled","fillConductCheck","keys","levelEntities","maxLevel","syntheticGetCheckDisabled","level","get","entity","_entity$children","children","filter","childEntity","visitedKeys","_level","parent","allChecked","partialChecked","_ref2","checked","Array","from","cleanConductCheck","halfKeys","_entity$children2","delete","_level2","_ref3","_interopRequireDefault","Object","defineProperty","value","conductCheck","keyList","keyEntities","getCheckDisabled","warningMissKeys","hasEntity","_keyUtil","default","push","Map","levelSet","set","Math","max","_warning","length","concat","slice","map","join","result"]
}
