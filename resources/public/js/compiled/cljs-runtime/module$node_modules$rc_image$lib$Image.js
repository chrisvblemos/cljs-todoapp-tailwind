shadow$provide.module$node_modules$rc_image$lib$Image=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof3=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;
var _extends2=module(require("module$node_modules$$babel$runtime$helpers$extends")),_objectSpread2=module(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_typeof2=module(require("module$node_modules$$babel$runtime$helpers$typeof")),_objectWithoutProperties2=module(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),
_classnames=module(require("module$node_modules$classnames$index")),_css=require("module$node_modules$rc_util$lib$Dom$css"),_useMergedState3=module(require("module$node_modules$rc_util$lib$hooks$useMergedState")),_react=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof3(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==
u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),_Preview=module(require("module$node_modules$rc_image$lib$Preview"));global=module(require("module$node_modules$rc_image$lib$PreviewGroup"));var _common=require("module$node_modules$rc_image$lib$common"),_context=require("module$node_modules$rc_image$lib$context"),_useRegisterImage=
module(require("module$node_modules$rc_image$lib$hooks$useRegisterImage")),_useStatus3=module(require("module$node_modules$rc_image$lib$hooks$useStatus")),_excluded="src alt onPreviewClose prefixCls previewPrefixCls placeholder fallback width height style preview className onClick onError wrapperClassName wrapperStyle rootClassName".split(" "),_excluded2="src visible onVisibleChange getContainer mask maskClassName movable icons scaleStep minScale maxScale imageRender toolbarRender".split(" ");require=
function(props){var imgSrc=props.src,alt=props.alt,onInitialPreviewClose=props.onPreviewClose,_props$prefixCls=props.prefixCls;_props$prefixCls=void 0===_props$prefixCls?"rc-image":_props$prefixCls;var _props$previewPrefixC=props.previewPrefixCls;_props$previewPrefixC=void 0===_props$previewPrefixC?"".concat(_props$prefixCls,"-preview"):_props$previewPrefixC;var placeholder=props.placeholder,fallback=props.fallback,width=props.width,height=props.height,style=props.style,_props$preview=props.preview,
preview=void 0===_props$preview?!0:_props$preview;_props$preview=props.className;var onClick=props.onClick,onError=props.onError,wrapperClassName=props.wrapperClassName,wrapperStyle=props.wrapperStyle,rootClassName=props.rootClassName,otherProps=(0,_objectWithoutProperties2.default)(props,_excluded),isCustomPlaceholder=placeholder&&!0!==placeholder,_ref="object"===(0,_typeof2.default)(preview)?preview:{},previewSrc=_ref.src,_ref$visible=_ref.visible,previewVisible=void 0===_ref$visible?void 0:_ref$visible;
_ref$visible=_ref.onVisibleChange;var onPreviewVisibleChange=void 0===_ref$visible?onInitialPreviewClose:_ref$visible;onInitialPreviewClose=_ref.getContainer;onInitialPreviewClose=void 0===onInitialPreviewClose?void 0:onInitialPreviewClose;_ref$visible=_ref.mask;var maskClassName=_ref.maskClassName,movable=_ref.movable,icons=_ref.icons,scaleStep=_ref.scaleStep,minScale=_ref.minScale,maxScale=_ref.maxScale,imageRender=_ref.imageRender,toolbarRender=_ref.toolbarRender;_ref=(0,_objectWithoutProperties2.default)(_ref,
_excluded2);var src=null!==previewSrc&&void 0!==previewSrc?previewSrc:imgSrc;previewSrc=(0,_useMergedState3.default)(!!previewVisible,{value:previewVisible,onChange:onPreviewVisibleChange});previewVisible=(0,_slicedToArray2.default)(previewSrc,2);previewSrc=previewVisible[0];var setShowPreview=previewVisible[1];imgSrc=(0,_useStatus3.default)({src:imgSrc,isCustomPlaceholder,fallback});previewVisible=(0,_slicedToArray2.default)(imgSrc,3);imgSrc=previewVisible[0];isCustomPlaceholder=previewVisible[1];
previewVisible=previewVisible[2];onPreviewVisibleChange=(0,_react.useState)(null);var _useState2=(0,_slicedToArray2.default)(onPreviewVisibleChange,2);onPreviewVisibleChange=_useState2[0];var setMousePosition=_useState2[1],groupContext=(0,_react.useContext)(_context.PreviewGroupContext);preview=!!preview;_useState2=function(){setShowPreview(!1);setMousePosition(null)};wrapperClassName=(0,_classnames.default)(_props$prefixCls,wrapperClassName,rootClassName,(0,_defineProperty2.default)({},"".concat(_props$prefixCls,
"-error"),"error"===previewVisible));var imgCommonProps=(0,_react.useMemo)(function(){var obj={};_common.COMMON_PROPS.forEach(function(prop){void 0!==props[prop]&&(obj[prop]=props[prop])});return obj},_common.COMMON_PROPS.map(function(prop){return props[prop]})),registerData=(0,_react.useMemo)(function(){return(0,_objectSpread2.default)((0,_objectSpread2.default)({},imgCommonProps),{},{src})},[src,imgCommonProps]),imageId=(0,_useRegisterImage.default)(preview,registerData);registerData=function(e){var _getOffset=
(0,_css.getOffset)(e.target),left=_getOffset.left;_getOffset=_getOffset.top;if(groupContext)groupContext.onPreview(imageId,src,left,_getOffset);else setMousePosition({x:left,y:_getOffset}),setShowPreview(!0);null===onClick||void 0===onClick||onClick(e)};return _react.createElement(_react.Fragment,null,_react.createElement("div",(0,_extends2.default)({},otherProps,{className:wrapperClassName,onClick:preview?registerData:onClick,style:(0,_objectSpread2.default)({width,height},wrapperStyle)}),_react.createElement("img",
(0,_extends2.default)({},imgCommonProps,{className:(0,_classnames.default)("".concat(_props$prefixCls,"-img"),(0,_defineProperty2.default)({},"".concat(_props$prefixCls,"-img-placeholder"),!0===placeholder),_props$preview),style:(0,_objectSpread2.default)({height},style),ref:imgSrc},isCustomPlaceholder,{width,height,onError})),"loading"===previewVisible&&_react.createElement("div",{"aria-hidden":"true",className:"".concat(_props$prefixCls,"-placeholder")},placeholder),_ref$visible&&preview&&_react.createElement("div",
{className:(0,_classnames.default)("".concat(_props$prefixCls,"-mask"),maskClassName),style:{display:"none"===(null===style||void 0===style?void 0:style.display)?"none":void 0}},_ref$visible)),!groupContext&&preview&&_react.createElement(_Preview.default,(0,_extends2.default)({"aria-hidden":!previewSrc,visible:previewSrc,prefixCls:_props$previewPrefixC,onClose:_useState2,mousePosition:onPreviewVisibleChange,src,alt,imageInfo:{width,height},fallback,getContainer:onInitialPreviewClose,icons,movable,
scaleStep,minScale,maxScale,rootClassName,imageRender,imgCommonProps,toolbarRender},_ref)))};require.PreviewGroup=global.default;require.displayName="Image";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_image$lib$Image.js.map
