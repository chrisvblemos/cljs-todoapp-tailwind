shadow$provide.module$node_modules$rc_dropdown$lib$hooks$useAccessibility=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(_ref){var visible=_ref.visible,triggerRef=_ref.triggerRef,onVisibleChange=_ref.onVisibleChange,autoFocus=_ref.autoFocus,overlayRef=
_ref.overlayRef,focusMenuRef=React.useRef(!1),handleCloseMenuAndReturnFocus=function(){if(visible){var _triggerRef$current,_triggerRef$current$f;null===(_triggerRef$current=triggerRef.current)||void 0===_triggerRef$current||null===(_triggerRef$current$f=_triggerRef$current.focus)||void 0===_triggerRef$current$f||_triggerRef$current$f.call(_triggerRef$current);null===onVisibleChange||void 0===onVisibleChange||onVisibleChange(!1)}},focusMenu=function(){var _overlayRef$current;return null!==(_overlayRef$current=
overlayRef.current)&&void 0!==_overlayRef$current&&_overlayRef$current.focus?(overlayRef.current.focus(),focusMenuRef.current=!0):!1},handleKeyDown=function(event){switch(event.keyCode){case ESC:handleCloseMenuAndReturnFocus();break;case TAB:var focusResult=!1;focusMenuRef.current||(focusResult=focusMenu());focusResult?event.preventDefault():handleCloseMenuAndReturnFocus()}};React.useEffect(function(){return visible?(window.addEventListener("keydown",handleKeyDown),autoFocus&&(0,_raf.default)(focusMenu,
3),function(){window.removeEventListener("keydown",handleKeyDown);focusMenuRef.current=!1}):function(){focusMenuRef.current=!1}},[visible])};exports=module(require("module$node_modules$rc_util$lib$KeyCode"));var _raf=module(require("module$node_modules$rc_util$lib$raf")),React=global(require("module$node_modules$react$index")),ESC=exports.default.ESC,TAB=exports.default.TAB}
//# sourceMappingURL=module$node_modules$rc_dropdown$lib$hooks$useAccessibility.js.map
