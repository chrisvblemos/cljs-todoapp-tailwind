{
"version":3,
"file":"module$node_modules$rc_virtual_list$lib$hooks$useMobileTouchMove.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/rc-virtual-list/lib/hooks/useMobileTouchMove.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_virtual_list$lib$hooks$useMobileTouchMove\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useMobileTouchMove;\nvar _useLayoutEffect = _interopRequireDefault(require(\"rc-util/lib/hooks/useLayoutEffect\"));\nvar _react = require(\"react\");\nvar SMOOTH_PTG = 14 / 15;\nfunction useMobileTouchMove(inVirtual, listRef, callback) {\n  var touchedRef = (0, _react.useRef)(false);\n  var touchXRef = (0, _react.useRef)(0);\n  var touchYRef = (0, _react.useRef)(0);\n  var elementRef = (0, _react.useRef)(null);\n\n  // Smooth scroll\n  var intervalRef = (0, _react.useRef)(null);\n\n  /* eslint-disable prefer-const */\n  var cleanUpEvents;\n  var onTouchMove = function onTouchMove(e) {\n    if (touchedRef.current) {\n      var currentX = Math.ceil(e.touches[0].pageX);\n      var currentY = Math.ceil(e.touches[0].pageY);\n      var offsetX = touchXRef.current - currentX;\n      var offsetY = touchYRef.current - currentY;\n      var _isHorizontal = Math.abs(offsetX) > Math.abs(offsetY);\n      if (_isHorizontal) {\n        touchXRef.current = currentX;\n      } else {\n        touchYRef.current = currentY;\n      }\n      var scrollHandled = callback(_isHorizontal, _isHorizontal ? offsetX : offsetY, false, e);\n      if (scrollHandled) {\n        e.preventDefault();\n      }\n\n      // Smooth interval\n      clearInterval(intervalRef.current);\n      if (scrollHandled) {\n        intervalRef.current = setInterval(function () {\n          if (_isHorizontal) {\n            offsetX *= SMOOTH_PTG;\n          } else {\n            offsetY *= SMOOTH_PTG;\n          }\n          var offset = Math.floor(_isHorizontal ? offsetX : offsetY);\n          if (!callback(_isHorizontal, offset, true) || Math.abs(offset) <= 0.1) {\n            clearInterval(intervalRef.current);\n          }\n        }, 16);\n      }\n    }\n  };\n  var onTouchEnd = function onTouchEnd() {\n    touchedRef.current = false;\n    cleanUpEvents();\n  };\n  var onTouchStart = function onTouchStart(e) {\n    cleanUpEvents();\n    if (e.touches.length === 1 && !touchedRef.current) {\n      touchedRef.current = true;\n      touchXRef.current = Math.ceil(e.touches[0].pageX);\n      touchYRef.current = Math.ceil(e.touches[0].pageY);\n      elementRef.current = e.target;\n      elementRef.current.addEventListener('touchmove', onTouchMove, {\n        passive: false\n      });\n      elementRef.current.addEventListener('touchend', onTouchEnd, {\n        passive: true\n      });\n    }\n  };\n  cleanUpEvents = function cleanUpEvents() {\n    if (elementRef.current) {\n      elementRef.current.removeEventListener('touchmove', onTouchMove);\n      elementRef.current.removeEventListener('touchend', onTouchEnd);\n    }\n  };\n  (0, _useLayoutEffect.default)(function () {\n    if (inVirtual) {\n      listRef.current.addEventListener('touchstart', onTouchStart, {\n        passive: true\n      });\n    }\n    return function () {\n      var _listRef$current;\n      (_listRef$current = listRef.current) === null || _listRef$current === void 0 || _listRef$current.removeEventListener('touchstart', onTouchStart);\n      cleanUpEvents();\n      clearInterval(intervalRef.current);\n    };\n  }, [inVirtual]);\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","default","Object","defineProperty","value","useMobileTouchMove","inVirtual","listRef","callback","touchedRef","_react","useRef","touchXRef","touchYRef","elementRef","intervalRef","onTouchMove","e","current","currentX","Math","ceil","touches","pageX","currentY","pageY","offsetX","offsetY","_isHorizontal","abs","scrollHandled","preventDefault","clearInterval","setInterval","SMOOTH_PTG","offset","floor","onTouchEnd","cleanUpEvents","onTouchStart","length","target","addEventListener","passive","removeEventListener","_useLayoutEffect","_listRef$current"]
}
