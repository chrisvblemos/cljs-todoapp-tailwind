shadow$provide.module$node_modules$rc_tabs$lib$hooks$useTouchMove=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=
function(ref,onOffset){var _useState=(0,_react.useState)();_useState=(0,_slicedToArray2.default)(_useState,2);var touchPosition=_useState[0],setTouchPosition=_useState[1];_useState=(0,_react.useState)(0);_useState=(0,_slicedToArray2.default)(_useState,2);var lastTimestamp=_useState[0],setLastTimestamp=_useState[1];_useState=(0,_react.useState)(0);_useState=(0,_slicedToArray2.default)(_useState,2);var lastTimeDiff=_useState[0],setLastTimeDiff=_useState[1];_useState=(0,_react.useState)();_useState=
(0,_slicedToArray2.default)(_useState,2);var lastOffset=_useState[0],setLastOffset=_useState[1],motionRef=(0,_react.useRef)(),lastWheelDirectionRef=(0,_react.useRef)(),touchEventsRef=(0,_react.useRef)(null);touchEventsRef.current={onTouchStart:function(e){e=e.touches[0];setTouchPosition({x:e.screenX,y:e.screenY});window.clearInterval(motionRef.current)},onTouchMove:function(e){if(touchPosition){var _e$touches$2=e.touches[0];e=_e$touches$2.screenX;_e$touches$2=_e$touches$2.screenY;setTouchPosition({x:e,
y:_e$touches$2});e-=touchPosition.x;_e$touches$2-=touchPosition.y;onOffset(e,_e$touches$2);var now=Date.now();setLastTimestamp(now);setLastTimeDiff(now-lastTimestamp);setLastOffset({x:e,y:_e$touches$2})}},onTouchEnd:function(){if(touchPosition&&(setTouchPosition(null),setLastOffset(null),lastOffset)){var distanceX=lastOffset.x/lastTimeDiff,distanceY=lastOffset.y/lastTimeDiff;if(!(Math.max(Math.abs(distanceX),Math.abs(distanceY))<MIN_SWIPE_DISTANCE)){var currentX=distanceX,currentY=distanceY;motionRef.current=
window.setInterval(function(){Math.abs(currentX)<STOP_SWIPE_DISTANCE&&Math.abs(currentY)<STOP_SWIPE_DISTANCE?window.clearInterval(motionRef.current):(currentX*=SPEED_OFF_MULTIPLE,currentY*=SPEED_OFF_MULTIPLE,onOffset(currentX*REFRESH_INTERVAL,currentY*REFRESH_INTERVAL))},REFRESH_INTERVAL)}}},onWheel:function(e){var deltaX=e.deltaX,deltaY=e.deltaY,absX=Math.abs(deltaX),absY=Math.abs(deltaY);absX===absY?deltaX="x"===lastWheelDirectionRef.current?deltaX:deltaY:absX>absY?lastWheelDirectionRef.current=
"x":(deltaX=deltaY,lastWheelDirectionRef.current="y");onOffset(-deltaX,-deltaX)&&e.preventDefault()}};React.useEffect(function(){function onProxyTouchMove(e){touchEventsRef.current.onTouchMove(e)}function onProxyTouchEnd(e){touchEventsRef.current.onTouchEnd(e)}document.addEventListener("touchmove",onProxyTouchMove,{passive:!1});document.addEventListener("touchend",onProxyTouchEnd,{passive:!0});ref.current.addEventListener("touchstart",function(e){touchEventsRef.current.onTouchStart(e)},{passive:!0});
ref.current.addEventListener("wheel",function(e){touchEventsRef.current.onWheel(e)},{passive:!1});return function(){document.removeEventListener("touchmove",onProxyTouchMove);document.removeEventListener("touchend",onProxyTouchEnd)}},[])};var _slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_react=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);
var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),React=_react,MIN_SWIPE_DISTANCE=.1,STOP_SWIPE_DISTANCE=.01,REFRESH_INTERVAL=20,SPEED_OFF_MULTIPLE=Math.pow(.995,REFRESH_INTERVAL)}
//# sourceMappingURL=module$node_modules$rc_tabs$lib$hooks$useTouchMove.js.map
