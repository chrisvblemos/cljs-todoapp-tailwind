shadow$provide.module$node_modules$rc_tree$lib$util=function(global,require,module,exports){function posToArr(pos){return pos.split("-")}function isLastChild(treeNodeEntity){if(treeNodeEntity.parent){var posArr=posToArr(treeNodeEntity.pos);return Number(posArr[posArr.length-1])===treeNodeEntity.parent.children.length-1}return!1}function isFirstChild(treeNodeEntity){treeNodeEntity=posToArr(treeNodeEntity.pos);return 0===Number(treeNodeEntity[treeNodeEntity.length-1])}function convertDataToTree(treeData,
processor){if(!treeData)return[];var _ref2$processProps=(processor||{}).processProps,processProps=void 0===_ref2$processProps?internalProcessProps:_ref2$processProps;return(Array.isArray(treeData)?treeData:[treeData]).map(function(_ref3){var children=_ref3.children;_ref3=(0,_objectWithoutProperties2.default)(_ref3,_excluded);children=convertDataToTree(children,processor);return _react.default.createElement(_TreeNode.default,(0,_extends2.default)({key:_ref3.key},processProps(_ref3)),children)})}global=
require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.arrAdd=function(list,value){list=(list||[]).slice();-1===list.indexOf(value)&&list.push(value);return list};exports.arrDel=function(list,value){if(!list)return[];list=list.slice();value=list.indexOf(value);0<=value&&list.splice(value,1);return list};exports.calcDropPosition=function(event,dragNodeProps,targetNodeProps,indent,startMousePosition,allowDrop,flattenedNodes,
keyEntities,expandKeys,direction){var _abstractDropNodeEnti,clientX=event.clientX,clientY=event.clientY,_getBoundingClientRec=event.target.getBoundingClientRect();event=_getBoundingClientRec.top;_getBoundingClientRec=_getBoundingClientRec.height;indent=(("rtl"===direction?-1:1)*(((null===startMousePosition||void 0===startMousePosition?void 0:startMousePosition.x)||0)-clientX)-12)/indent;expandKeys=expandKeys.filter(function(key){var _keyEntities$key;return null===(_keyEntities$key=keyEntities[key])||
void 0===_keyEntities$key||null===(_keyEntities$key=_keyEntities$key.children)||void 0===_keyEntities$key?void 0:_keyEntities$key.length});var abstractDropNodeEntity=(0,_keyUtil.default)(keyEntities,targetNodeProps.eventKey);clientY<event+_getBoundingClientRec/2&&(startMousePosition=flattenedNodes.findIndex(function(flattenedNode){return flattenedNode.key===abstractDropNodeEntity.key}),abstractDropNodeEntity=(0,_keyUtil.default)(keyEntities,flattenedNodes[0>=startMousePosition?0:startMousePosition-
1].key));flattenedNodes=abstractDropNodeEntity;startMousePosition=abstractDropNodeEntity.key;clientX=direction=0;if(!expandKeys.includes(abstractDropNodeEntity.key))for(var i=0;i<indent;i+=1)if(isLastChild(abstractDropNodeEntity))abstractDropNodeEntity=abstractDropNodeEntity.parent,clientX+=1;else break;dragNodeProps=dragNodeProps.data;i=abstractDropNodeEntity.node;var dropAllowed=!0;isFirstChild(abstractDropNodeEntity)&&0===abstractDropNodeEntity.level&&clientY<event+_getBoundingClientRec/2&&allowDrop({dragNode:dragNodeProps,
dropNode:i,dropPosition:-1})&&abstractDropNodeEntity.key===targetNodeProps.eventKey?direction=-1:(flattenedNodes.children||[]).length&&expandKeys.includes(startMousePosition)?allowDrop({dragNode:dragNodeProps,dropNode:i,dropPosition:0})?direction=0:dropAllowed=!1:0===clientX?-1.5<indent?allowDrop({dragNode:dragNodeProps,dropNode:i,dropPosition:1})?direction=1:dropAllowed=!1:allowDrop({dragNode:dragNodeProps,dropNode:i,dropPosition:0})?direction=0:allowDrop({dragNode:dragNodeProps,dropNode:i,dropPosition:1})?
direction=1:dropAllowed=!1:allowDrop({dragNode:dragNodeProps,dropNode:i,dropPosition:1})?direction=1:dropAllowed=!1;return{dropPosition:direction,dropLevelOffset:clientX,dropTargetKey:abstractDropNodeEntity.key,dropTargetPos:abstractDropNodeEntity.pos,dragOverNodeKey:startMousePosition,dropContainerKey:0===direction?null:(null===(_abstractDropNodeEnti=abstractDropNodeEntity.parent)||void 0===_abstractDropNodeEnti?void 0:_abstractDropNodeEnti.key)||null,dropAllowed}};exports.calcSelectedKeys=function(selectedKeys,
props){if(selectedKeys)return props.multiple?selectedKeys.slice():selectedKeys.length?[selectedKeys[0]]:selectedKeys};exports.conductExpandParent=function(keyList,keyEntities){function conductUp(key){if(!expandedKeys.has(key)){var entity=(0,_keyUtil.default)(keyEntities,key);entity&&(expandedKeys.add(key),key=entity.parent,entity.node.disabled||key&&conductUp(key.key))}}var expandedKeys=new Set;(keyList||[]).forEach(function(key){conductUp(key)});return(0,_toConsumableArray2.default)(expandedKeys)};
exports.convertDataToTree=convertDataToTree;exports.getDragChildrenKeys=function(dragNodeKey,keyEntities){function dig(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(_ref){var children=_ref.children;dragChildrenKeys.push(_ref.key);dig(children)})}var dragChildrenKeys=[];dragNodeKey=(0,_keyUtil.default)(keyEntities,dragNodeKey);dig(dragNodeKey.children);return dragChildrenKeys};Object.defineProperty(exports,"getPosition",{enumerable:!0,get:function(){return _treeUtil.getPosition}});
exports.isFirstChild=isFirstChild;exports.isLastChild=isLastChild;Object.defineProperty(exports,"isTreeNode",{enumerable:!0,get:function(){return _treeUtil.isTreeNode}});exports.parseCheckedKeys=function(keys){if(!keys)return null;if(Array.isArray(keys))keys={checkedKeys:keys,halfCheckedKeys:void 0};else if("object"===(0,_typeof2.default)(keys))keys={checkedKeys:keys.checked||void 0,halfCheckedKeys:keys.halfChecked||void 0};else return(0,_warning.default)(!1,"`checkedKeys` is not an array or an object"),
null;return keys};exports.posToArr=posToArr;var _toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_typeof2=global(require("module$node_modules$$babel$runtime$helpers$typeof")),_extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),_objectWithoutProperties2=global(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),_warning=global(require("module$node_modules$rc_util$lib$warning")),_react=global(require("module$node_modules$react$index")),
_TreeNode=global(require("module$node_modules$rc_tree$lib$TreeNode")),_keyUtil=global(require("module$node_modules$rc_tree$lib$utils$keyUtil")),_treeUtil=require("module$node_modules$rc_tree$lib$utils$treeUtil"),_excluded=["children"],internalProcessProps=function(props){return props}}
//# sourceMappingURL=module$node_modules$rc_tree$lib$util.js.map
