shadow$provide.module$node_modules$rc_select$lib$Selector$index=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=
void 0;var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_KeyCode=global(require("module$node_modules$rc_util$lib$KeyCode")),_react=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,
u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),_useLock3=global(require("module$node_modules$rc_select$lib$hooks$useLock")),_keyUtil=require("module$node_modules$rc_select$lib$utils$keyUtil"),_MultipleSelector=global(require("module$node_modules$rc_select$lib$Selector$MultipleSelector")),
_SingleSelector=global(require("module$node_modules$rc_select$lib$Selector$SingleSelector"));require=_react.forwardRef(function(props,ref){var inputRef=(0,_react.useRef)(null),compositionStatusRef=(0,_react.useRef)(!1),prefixCls=props.prefixCls,open=props.open,mode=props.mode,showSearch=props.showSearch,tokenWithEnter=props.tokenWithEnter,disabled=props.disabled,prefix=props.prefix,autoClearSearchValue=props.autoClearSearchValue,onSearch=props.onSearch,onSearchSubmit=props.onSearchSubmit,onToggleOpen=
props.onToggleOpen,onInputKeyDown=props.onInputKeyDown,onInputBlur=props.onInputBlur,domRef=props.domRef;_react.useImperativeHandle(ref,function(){return{focus:function(options){inputRef.current.focus(options)},blur:function(){inputRef.current.blur()}}});ref=(0,_useLock3.default)(0);ref=(0,_slicedToArray2.default)(ref,2);var getInputMouseDown=ref[0],setInputMouseDown=ref[1],pastedTextRef=(0,_react.useRef)(null);onInputBlur={inputRef,onInputKeyDown:function(event){var which=event.which,isTextAreaElement=
inputRef.current instanceof HTMLTextAreaElement;isTextAreaElement||!open||which!==_KeyCode.default.UP&&which!==_KeyCode.default.DOWN||event.preventDefault();onInputKeyDown&&onInputKeyDown(event);which!==_KeyCode.default.ENTER||"tags"!==mode||compositionStatusRef.current||open||null===onSearchSubmit||void 0===onSearchSubmit||onSearchSubmit(event.target.value);isTextAreaElement&&!open&&~[_KeyCode.default.UP,_KeyCode.default.DOWN,_KeyCode.default.LEFT,_KeyCode.default.RIGHT].indexOf(which)||(0,_keyUtil.isValidateOpenKey)(which)&&
onToggleOpen(!0)},onInputMouseDown:function(){setInputMouseDown(!0)},onInputChange:function(event){event=event.target.value;if(tokenWithEnter&&pastedTextRef.current&&/[\r\n]/.test(pastedTextRef.current)){var replacedText=pastedTextRef.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");event=event.replace(replacedText,pastedTextRef.current)}pastedTextRef.current=null;!1!==onSearch(event,!0,compositionStatusRef.current)&&onToggleOpen(!0)},onInputPaste:function(e){e=e.clipboardData;
e=null===e||void 0===e?void 0:e.getData("text");pastedTextRef.current=e||""},onInputCompositionStart:function(){compositionStatusRef.current=!0},onInputCompositionEnd:function(e){compositionStatusRef.current=!1;"combobox"!==mode&&!1!==onSearch(e.target.value,!0,compositionStatusRef.current)&&onToggleOpen(!0)},onInputBlur};props="multiple"===mode||"tags"===mode?_react.createElement(_MultipleSelector.default,(0,_extends2.default)({},props,onInputBlur)):_react.createElement(_SingleSelector.default,(0,_extends2.default)({},
props,onInputBlur));return _react.createElement("div",{ref:domRef,className:"".concat(prefixCls,"-selector"),onClick:function(_ref){_ref.target!==inputRef.current&&(void 0!==document.body.style.msTouchAction?setTimeout(function(){inputRef.current.focus()}):inputRef.current.focus())},onMouseDown:function(event){var inputMouseDown=getInputMouseDown();event.target===inputRef.current||inputMouseDown||"combobox"===mode&&disabled||event.preventDefault();("combobox"===mode||showSearch&&inputMouseDown)&&
open||(open&&!1!==autoClearSearchValue&&onSearch("",!0,!1),onToggleOpen())}},prefix&&_react.createElement("div",{className:"".concat(prefixCls,"-prefix")},prefix),props)});require.displayName="Selector";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_select$lib$Selector$index.js.map
