{
"version":3,
"file":"module$node_modules$rc_tabs$lib$hooks$useTouchMove.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/rc-tabs/lib/hooks/useTouchMove.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_tabs$lib$hooks$useTouchMove\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useTouchMove;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar React = _react;\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nvar MIN_SWIPE_DISTANCE = 0.1;\nvar STOP_SWIPE_DISTANCE = 0.01;\nvar REFRESH_INTERVAL = 20;\nvar SPEED_OFF_MULTIPLE = Math.pow(0.995, REFRESH_INTERVAL);\n\n// ================================= Hook =================================\nfunction useTouchMove(ref, onOffset) {\n  var _useState = (0, _react.useState)(),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    touchPosition = _useState2[0],\n    setTouchPosition = _useState2[1];\n  var _useState3 = (0, _react.useState)(0),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    lastTimestamp = _useState4[0],\n    setLastTimestamp = _useState4[1];\n  var _useState5 = (0, _react.useState)(0),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    lastTimeDiff = _useState6[0],\n    setLastTimeDiff = _useState6[1];\n  var _useState7 = (0, _react.useState)(),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    lastOffset = _useState8[0],\n    setLastOffset = _useState8[1];\n  var motionRef = (0, _react.useRef)();\n\n  // ========================= Events =========================\n  // >>> Touch events\n  function onTouchStart(e) {\n    var _e$touches$ = e.touches[0],\n      screenX = _e$touches$.screenX,\n      screenY = _e$touches$.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    window.clearInterval(motionRef.current);\n  }\n  function onTouchMove(e) {\n    if (!touchPosition) return;\n\n    // e.preventDefault();\n    var _e$touches$2 = e.touches[0],\n      screenX = _e$touches$2.screenX,\n      screenY = _e$touches$2.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    var offsetX = screenX - touchPosition.x;\n    var offsetY = screenY - touchPosition.y;\n    onOffset(offsetX, offsetY);\n    var now = Date.now();\n    setLastTimestamp(now);\n    setLastTimeDiff(now - lastTimestamp);\n    setLastOffset({\n      x: offsetX,\n      y: offsetY\n    });\n  }\n  function onTouchEnd() {\n    if (!touchPosition) return;\n    setTouchPosition(null);\n    setLastOffset(null);\n\n    // Swipe if needed\n    if (lastOffset) {\n      var distanceX = lastOffset.x / lastTimeDiff;\n      var distanceY = lastOffset.y / lastTimeDiff;\n      var absX = Math.abs(distanceX);\n      var absY = Math.abs(distanceY);\n\n      // Skip swipe if low distance\n      if (Math.max(absX, absY) < MIN_SWIPE_DISTANCE) return;\n      var currentX = distanceX;\n      var currentY = distanceY;\n      motionRef.current = window.setInterval(function () {\n        if (Math.abs(currentX) < STOP_SWIPE_DISTANCE && Math.abs(currentY) < STOP_SWIPE_DISTANCE) {\n          window.clearInterval(motionRef.current);\n          return;\n        }\n        currentX *= SPEED_OFF_MULTIPLE;\n        currentY *= SPEED_OFF_MULTIPLE;\n        onOffset(currentX * REFRESH_INTERVAL, currentY * REFRESH_INTERVAL);\n      }, REFRESH_INTERVAL);\n    }\n  }\n\n  // >>> Wheel event\n  var lastWheelDirectionRef = (0, _react.useRef)();\n  function onWheel(e) {\n    var deltaX = e.deltaX,\n      deltaY = e.deltaY;\n\n    // Convert both to x & y since wheel only happened on PC\n    var mixed = 0;\n    var absX = Math.abs(deltaX);\n    var absY = Math.abs(deltaY);\n    if (absX === absY) {\n      mixed = lastWheelDirectionRef.current === 'x' ? deltaX : deltaY;\n    } else if (absX > absY) {\n      mixed = deltaX;\n      lastWheelDirectionRef.current = 'x';\n    } else {\n      mixed = deltaY;\n      lastWheelDirectionRef.current = 'y';\n    }\n    if (onOffset(-mixed, -mixed)) {\n      e.preventDefault();\n    }\n  }\n\n  // ========================= Effect =========================\n  var touchEventsRef = (0, _react.useRef)(null);\n  touchEventsRef.current = {\n    onTouchStart: onTouchStart,\n    onTouchMove: onTouchMove,\n    onTouchEnd: onTouchEnd,\n    onWheel: onWheel\n  };\n  React.useEffect(function () {\n    function onProxyTouchStart(e) {\n      touchEventsRef.current.onTouchStart(e);\n    }\n    function onProxyTouchMove(e) {\n      touchEventsRef.current.onTouchMove(e);\n    }\n    function onProxyTouchEnd(e) {\n      touchEventsRef.current.onTouchEnd(e);\n    }\n    function onProxyWheel(e) {\n      touchEventsRef.current.onWheel(e);\n    }\n    document.addEventListener('touchmove', onProxyTouchMove, {\n      passive: false\n    });\n    document.addEventListener('touchend', onProxyTouchEnd, {\n      passive: true\n    });\n\n    // No need to clean up since element removed\n    ref.current.addEventListener('touchstart', onProxyTouchStart, {\n      passive: true\n    });\n    ref.current.addEventListener('wheel', onProxyWheel, {\n      passive: false\n    });\n    return function () {\n      document.removeEventListener('touchmove', onProxyTouchMove);\n      document.removeEventListener('touchend', onProxyTouchEnd);\n    };\n  }, []);\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","e","WeakMap","r","t","_interopRequireDefault","_typeof","Object","defineProperty","value","default","useTouchMove","ref","onOffset","_useState","_react","useState","_useState2","_slicedToArray2","touchPosition","setTouchPosition","_useState3","_useState4","lastTimestamp","setLastTimestamp","_useState5","_useState6","lastTimeDiff","setLastTimeDiff","_useState7","_useState8","lastOffset","setLastOffset","motionRef","useRef","lastWheelDirectionRef","touchEventsRef","current","onTouchStart","_e$touches$","touches","x","screenX","y","screenY","window","clearInterval","onTouchMove","_e$touches$2","offsetX","offsetY","now","Date","onTouchEnd","distanceX","distanceY","Math","max","abs","absX","absY","MIN_SWIPE_DISTANCE","currentX","currentY","setInterval","STOP_SWIPE_DISTANCE","SPEED_OFF_MULTIPLE","REFRESH_INTERVAL","onWheel","deltaX","deltaY","mixed","preventDefault","React","useEffect","onProxyTouchMove","onProxyTouchEnd","document","addEventListener","passive","onProxyTouchStart","onProxyWheel","removeEventListener","_interopRequireWildcard","__esModule","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","pow"]
}
