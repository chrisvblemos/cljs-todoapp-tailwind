shadow$provide.module$node_modules$rc_slider$lib$Slider=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof3=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;
var _objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_typeof2=global(require("module$node_modules$$babel$runtime$helpers$typeof")),_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_classnames=global(require("module$node_modules$classnames$index")),
_useEvent=global(require("module$node_modules$rc_util$lib$hooks$useEvent")),_useMergedState3=global(require("module$node_modules$rc_util$lib$hooks$useMergedState")),_isEqual=global(require("module$node_modules$rc_util$lib$isEqual")),_warning=global(require("module$node_modules$rc_util$lib$warning")),React=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof3(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},
a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),_Handles=global(require("module$node_modules$rc_slider$lib$Handles$index")),_Marks=global(require("module$node_modules$rc_slider$lib$Marks$index")),_Steps=global(require("module$node_modules$rc_slider$lib$Steps$index")),
_Tracks=global(require("module$node_modules$rc_slider$lib$Tracks$index")),_context=global(require("module$node_modules$rc_slider$lib$context")),_useDrag3=global(require("module$node_modules$rc_slider$lib$hooks$useDrag")),_useOffset3=global(require("module$node_modules$rc_slider$lib$hooks$useOffset")),_useRange3=global(require("module$node_modules$rc_slider$lib$hooks$useRange"));require=React.forwardRef(function(props,ref){var _props$prefixCls=props.prefixCls,prefixCls=void 0===_props$prefixCls?"rc-slider":
_props$prefixCls,className=props.className,style=props.style,classNames=props.classNames,styles=props.styles,id=props.id,_props$disabled=props.disabled,disabled=void 0===_props$disabled?!1:_props$disabled,_props$keyboard=props.keyboard,keyboard=void 0===_props$keyboard?!0:_props$keyboard,autoFocus=props.autoFocus,onFocus=props.onFocus,onBlur=props.onBlur,_props$min=props.min,min=void 0===_props$min?0:_props$min,_props$max=props.max,max=void 0===_props$max?100:_props$max,_props$step=props.step,step=
void 0===_props$step?1:_props$step,value=props.value,defaultValue=props.defaultValue,range=props.range,count=props.count,onChange=props.onChange,onBeforeChange=props.onBeforeChange,onAfterChange=props.onAfterChange,onChangeComplete=props.onChangeComplete,_props$allowCross=props.allowCross,allowCross=void 0===_props$allowCross?!0:_props$allowCross,_props$pushable=props.pushable,pushable=void 0===_props$pushable?!1:_props$pushable,reverse=props.reverse,vertical=props.vertical,_props$included=props.included,
included=void 0===_props$included?!0:_props$included,startPoint=props.startPoint,trackStyle=props.trackStyle,handleStyle=props.handleStyle,railStyle=props.railStyle,dotStyle=props.dotStyle,activeDotStyle=props.activeDotStyle,marks=props.marks,dots=props.dots,handleRender=props.handleRender,activeHandleRender=props.activeHandleRender,track=props.track,_props$tabIndex=props.tabIndex,tabIndex=void 0===_props$tabIndex?0:_props$tabIndex,ariaLabelForHandle=props.ariaLabelForHandle,ariaLabelledByForHandle=
props.ariaLabelledByForHandle,ariaRequired=props.ariaRequired,ariaValueTextFormatterForHandle=props.ariaValueTextFormatterForHandle,handlesRef=React.useRef(null),containerRef=React.useRef(null),direction=React.useMemo(function(){return vertical?reverse?"ttb":"btt":reverse?"rtl":"ltr"},[reverse,vertical]),_useRange=(0,_useRange3.default)(range),_useRange2=(0,_slicedToArray2.default)(_useRange,5),rangeEnabled=_useRange2[0],rangeEditable=_useRange2[1],rangeDraggableTrack=_useRange2[2],minCount=_useRange2[3],
maxCount=_useRange2[4],mergedMin=React.useMemo(function(){return isFinite(min)?min:0},[min]),mergedMax=React.useMemo(function(){return isFinite(max)?max:100},[max]),mergedStep=React.useMemo(function(){return null!==step&&0>=step?1:step},[step]),mergedPush=React.useMemo(function(){return"boolean"===typeof pushable?pushable?mergedStep:!1:0<=pushable?pushable:!1},[pushable,mergedStep]),markList=React.useMemo(function(){return Object.keys(marks||{}).map(function(key){var mark=marks[key];key={value:Number(key)};
mark&&"object"===(0,_typeof2.default)(mark)&&!React.isValidElement(mark)&&("label"in mark||"style"in mark)?(key.style=mark.style,key.label=mark.label):key.label=mark;return key}).filter(function(_ref){return(_ref=_ref.label)||"number"===typeof _ref}).sort(function(a,b){return a.value-b.value})},[marks]),_useOffset=(0,_useOffset3.default)(mergedMin,mergedMax,mergedStep,markList,allowCross,mergedPush),_useOffset2=(0,_slicedToArray2.default)(_useOffset,2),formatValue=_useOffset2[0],offsetValues=_useOffset2[1],
_useMergedState=(0,_useMergedState3.default)(defaultValue,{value}),_useMergedState2=(0,_slicedToArray2.default)(_useMergedState,2),mergedValue=_useMergedState2[0],setValue=_useMergedState2[1],rawValues=React.useMemo(function(){var valueList=null===mergedValue||void 0===mergedValue?[]:Array.isArray(mergedValue)?mergedValue:[mergedValue],_valueList$=(0,_slicedToArray2.default)(valueList,1)[0];_valueList$=void 0===_valueList$?mergedMin:_valueList$;var returnValues=null===mergedValue?[]:[_valueList$];
if(rangeEnabled){returnValues=(0,_toConsumableArray2.default)(valueList);if(count||void 0===mergedValue)for(valueList=0<=count?count+1:2,returnValues=returnValues.slice(0,valueList);returnValues.length<valueList;){var _returnValues;returnValues.push(null!==(_returnValues=returnValues[returnValues.length-1])&&void 0!==_returnValues?_returnValues:mergedMin)}returnValues.sort(function(a,b){return a-b})}returnValues.forEach(function(val,index){returnValues[index]=formatValue(val)});return returnValues},
[mergedValue,rangeEnabled,mergedMin,count,formatValue]),triggerChange=(0,_useEvent.default)(function(nextValues){nextValues=(0,_toConsumableArray2.default)(nextValues).sort(function(a,b){return a-b});onChange&&!(0,_isEqual.default)(nextValues,rawValues,!0)&&onChange(rangeEnabled?nextValues:nextValues[0]);setValue(nextValues)}),finishChange=(0,_useEvent.default)(function(draggingDelete){draggingDelete&&handlesRef.current.hideHelp();draggingDelete=rangeEnabled?rawValues:rawValues[0];null===onAfterChange||
void 0===onAfterChange||onAfterChange(draggingDelete);(0,_warning.default)(!onAfterChange,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead.");null===onChangeComplete||void 0===onChangeComplete||onChangeComplete(draggingDelete)}),onDelete=function(index){if(!(disabled||!rangeEditable||rawValues.length<=minCount)){var cloneNextValues=(0,_toConsumableArray2.default)(rawValues);cloneNextValues.splice(index,1);null===onBeforeChange||void 0===onBeforeChange||onBeforeChange(rangeEnabled?
cloneNextValues:cloneNextValues[0]);triggerChange(cloneNextValues);index=Math.max(0,index-1);handlesRef.current.hideHelp();handlesRef.current.focus(index)}},_useDrag=(0,_useDrag3.default)(containerRef,direction,rawValues,mergedMin,mergedMax,formatValue,triggerChange,finishChange,offsetValues,rangeEditable,minCount),_useDrag2=(0,_slicedToArray2.default)(_useDrag,5),draggingIndex=_useDrag2[0],draggingValue=_useDrag2[1],draggingDelete=_useDrag2[2],cacheValues=_useDrag2[3],onStartDrag=_useDrag2[4],changeToCloseValue=
function(newValue,e){if(!disabled){var cloneNextValues=(0,_toConsumableArray2.default)(rawValues),valueIndex=0,valueBeforeIndex=0,valueDist=mergedMax-mergedMin;rawValues.forEach(function(val,index){var dist=Math.abs(newValue-val);dist<=valueDist&&(valueDist=dist,valueIndex=index);val<newValue&&(valueBeforeIndex=index)});var focusIndex=valueIndex;rangeEditable&&0!==valueDist&&(!maxCount||rawValues.length<maxCount)?(cloneNextValues.splice(valueBeforeIndex+1,0,newValue),focusIndex=valueBeforeIndex+1):
cloneNextValues[valueIndex]=newValue;rangeEnabled&&!rawValues.length&&void 0===count&&cloneNextValues.push(newValue);var nextValue=rangeEnabled?cloneNextValues:cloneNextValues[0];null===onBeforeChange||void 0===onBeforeChange||onBeforeChange(nextValue);triggerChange(cloneNextValues);if(e){var _document$activeEleme,_document$activeEleme2;null===(_document$activeEleme=document.activeElement)||void 0===_document$activeEleme||null===(_document$activeEleme2=_document$activeEleme.blur)||void 0===_document$activeEleme2||
_document$activeEleme2.call(_document$activeEleme);handlesRef.current.focus(focusIndex);onStartDrag(e,focusIndex,cloneNextValues)}else null===onAfterChange||void 0===onAfterChange||onAfterChange(nextValue),(0,_warning.default)(!onAfterChange,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null===onChangeComplete||void 0===onChangeComplete||onChangeComplete(nextValue)}},_React$useState=React.useState(null),_React$useState2=(0,_slicedToArray2.default)(_React$useState,
2),keyboardValue=_React$useState2[0],setKeyboardValue=_React$useState2[1];React.useEffect(function(){if(null!==keyboardValue){var valueIndex=rawValues.indexOf(keyboardValue);0<=valueIndex&&handlesRef.current.focus(valueIndex)}setKeyboardValue(null)},[keyboardValue]);var mergedDraggableTrack=React.useMemo(function(){return rangeDraggableTrack&&null===mergedStep?((0,_warning.default)(!1,"`draggableTrack` is not supported when `step` is `null`."),!1):rangeDraggableTrack},[rangeDraggableTrack,mergedStep]),
onStartMove=(0,_useEvent.default)(function(e,valueIndex){onStartDrag(e,valueIndex);null===onBeforeChange||void 0===onBeforeChange||onBeforeChange(rangeEnabled?rawValues:rawValues[0])}),dragging=-1!==draggingIndex;React.useEffect(function(){if(!dragging){var valueIndex=rawValues.lastIndexOf(draggingValue);handlesRef.current.focus(valueIndex)}},[dragging]);var sortedCacheValues=React.useMemo(function(){return(0,_toConsumableArray2.default)(cacheValues).sort(function(a,b){return a-b})},[cacheValues]),
_React$useMemo=React.useMemo(function(){return rangeEnabled?[sortedCacheValues[0],sortedCacheValues[sortedCacheValues.length-1]]:[mergedMin,sortedCacheValues[0]]},[sortedCacheValues,rangeEnabled,mergedMin]),_React$useMemo2=(0,_slicedToArray2.default)(_React$useMemo,2),includedStart=_React$useMemo2[0],includedEnd=_React$useMemo2[1];React.useImperativeHandle(ref,function(){return{focus:function(){handlesRef.current.focus(0)},blur:function(){var _containerRef$current2,activeElement=document.activeElement;
null!==(_containerRef$current2=containerRef.current)&&void 0!==_containerRef$current2&&_containerRef$current2.contains(activeElement)&&(null===activeElement||void 0===activeElement||activeElement.blur())}}});React.useEffect(function(){autoFocus&&handlesRef.current.focus(0)},[]);var context=React.useMemo(function(){return{min:mergedMin,max:mergedMax,direction,disabled,keyboard,step:mergedStep,included,includedStart,includedEnd,range:rangeEnabled,tabIndex,ariaLabelForHandle,ariaLabelledByForHandle,
ariaRequired,ariaValueTextFormatterForHandle,styles:styles||{},classNames:classNames||{}}},[mergedMin,mergedMax,direction,disabled,keyboard,mergedStep,included,includedStart,includedEnd,rangeEnabled,tabIndex,ariaLabelForHandle,ariaLabelledByForHandle,ariaRequired,ariaValueTextFormatterForHandle,styles,classNames]);return React.createElement(_context.default.Provider,{value:context},React.createElement("div",{ref:containerRef,className:(0,_classnames.default)(prefixCls,className,(0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)({},
"".concat(prefixCls,"-disabled"),disabled),"".concat(prefixCls,"-vertical"),vertical),"".concat(prefixCls,"-horizontal"),!vertical),"".concat(prefixCls,"-with-marks"),markList.length)),style,onMouseDown:function(e){e.preventDefault();var _containerRef$current=containerRef.current.getBoundingClientRect(),width=_containerRef$current.width,height=_containerRef$current.height,left=_containerRef$current.left,top=_containerRef$current.top,bottom=_containerRef$current.bottom;_containerRef$current=_containerRef$current.right;
var clientX=e.clientX,clientY=e.clientY;switch(direction){case "btt":width=(bottom-clientY)/height;break;case "ttb":width=(clientY-top)/height;break;case "rtl":width=(_containerRef$current-clientX)/width;break;default:width=(clientX-left)/width}changeToCloseValue(formatValue(mergedMin+width*(mergedMax-mergedMin)),e)},id},React.createElement("div",{className:(0,_classnames.default)("".concat(prefixCls,"-rail"),null===classNames||void 0===classNames?void 0:classNames.rail),style:(0,_objectSpread2.default)((0,_objectSpread2.default)({},
railStyle),null===styles||void 0===styles?void 0:styles.rail)}),!1!==track&&React.createElement(_Tracks.default,{prefixCls,style:trackStyle,values:rawValues,startPoint,onStartMove:mergedDraggableTrack?onStartMove:void 0}),React.createElement(_Steps.default,{prefixCls,marks:markList,dots,style:dotStyle,activeStyle:activeDotStyle}),React.createElement(_Handles.default,{ref:handlesRef,prefixCls,style:handleStyle,values:cacheValues,draggingIndex,draggingDelete,onStartMove,onOffsetChange:function(offset,
valueIndex){disabled||(offset=offsetValues(rawValues,offset,valueIndex),null===onBeforeChange||void 0===onBeforeChange||onBeforeChange(rangeEnabled?rawValues:rawValues[0]),triggerChange(offset.values),setKeyboardValue(offset.value))},onFocus,onBlur,handleRender,activeHandleRender,onChangeComplete:finishChange,onDelete:rangeEditable?onDelete:void 0}),React.createElement(_Marks.default,{prefixCls,marks:markList,onClick:changeToCloseValue})))});require.displayName="Slider";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_slider$lib$Slider.js.map
