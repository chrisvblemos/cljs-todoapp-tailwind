{
"version":3,
"file":"module$node_modules$rc_virtual_list$lib$hooks$useGetSize.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAA,wDAAA,CAA6E,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGjHC,MAAAA,CAA0BH,OAAA,CAAQ,mEAAR,CAAyDI,CAAAA,OACnFC,OAAAA,CAAyBL,OAAA,CAAQ,kEAAR,CAAwDI,CAAAA,OACrFE,OAAOC,CAAAA,cAAP,CAAsBL,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CM,MAAO,CAAA,CADoC,CAA7C,CAGAN,QAAQO,CAAAA,UAAR,CAOAA,QAAmB,CAACC,UAAD,CAAaC,MAAb,CAAqBC,OAArB,CAA8BC,UAA9B,CAA0C,CAAA,IACvDC,eAAiBC,KAAMC,CAAAA,OAAN,CAAc,QAAS,EAAG,CAC3C,MAAO,CAAC,IAAIC,GAAL,CAAY,EAAZ,CADoC,CAA1B,CAEhB,CAACP,UAAD,CAAaE,OAAQM,CAAAA,EAArB;AAAyBL,UAAzB,CAFgB,CAGnBM,eAAAA,CAAkB,GAAIC,eAAgBhB,CAAAA,OAApB,EAA6BU,cAA7B,CAA6C,CAA7C,CAJuC,KAKzDO,UAAYF,cAAA,CAAgB,CAAhB,CAL6C,CAMzDG,WAAaH,cAAA,CAAgB,CAAhB,CAiCf,OAhCcI,SAAgB,CAACC,QAAD,CAAW,CACvC,IAAIC,OAA4B,CAAnB,CAAAC,SAAUC,CAAAA,MAAV,EAAyCC,IAAAA,EAAzC,GAAwBF,SAAA,CAAU,CAAV,CAAxB,CAAqDA,SAAA,CAAU,CAAV,CAArD,CAAoEF,QAAjF,CAEIK,WAAaR,SAAUS,CAAAA,GAAV,CAAcN,QAAd,CAFjB,CAGIO,SAAWV,SAAUS,CAAAA,GAAV,CAAcL,MAAd,CAGf,IAAmBG,IAAAA,EAAnB,GAAIC,UAAJ,EAA6CD,IAAAA,EAA7C,GAAgCG,QAAhC,CAEE,IADA,IAAIC,QAAUtB,UAAWiB,CAAAA,MAAzB,CACSM,EAAIX,UAAWK,CAAAA,MAAxB,CAAgCM,CAAhC,CAAoCD,OAApC,CAA6CC,CAA7C,EAAkD,CAAlD,CAAqD,CACnD,IAAIC,YAAJ,CAEIC,IAAMxB,MAAA,CADCD,UAAA0B,CAAWH,CAAXG,CACD,CACVf,UAAUgB,CAAAA,GAAV,CAAcF,GAAd,CAAmBF,CAAnB,CACA,KAAIK,YAAoD,IAAtC;CAACJ,YAAD,CAAgBtB,OAAQkB,CAAAA,GAAR,CAAYK,GAAZ,CAAhB,GAA+D,IAAK,EAApE,GAA8CD,YAA9C,CAAwEA,YAAxE,CAAuFrB,UACzGS,WAAA,CAAWW,CAAX,CAAA,EAAiBX,UAAA,CAAWW,CAAX,CAAe,CAAf,CAAjB,EAAsC,CAAtC,EAA2CK,WACvCH,IAAJ,GAAYX,QAAZ,GACEK,UADF,CACeI,CADf,CAGIE,IAAJ,GAAYV,MAAZ,GACEM,QADF,CACaE,CADb,CAGA,IAAmBL,IAAAA,EAAnB,GAAIC,UAAJ,EAA6CD,IAAAA,EAA7C,GAAgCG,QAAhC,CACE,KAdiD,CAkBvD,MAAO,CACLQ,IAAKjB,UAAA,CAAWO,UAAX,CAAwB,CAAxB,CAALU,EAAmC,CAD9B,CAELC,OAAQlB,UAAA,CAAWS,QAAX,CAFH,CA3BgC,CAPkB,CAN7D,KAAIX,gBAAkBf,MAAA,CAAuBL,OAAA,CAAQ,0DAAR,CAAvB,CAAtB,CACIe,MAAQZ,MAAA,CAAwBH,OAAA,CAAQ,iCAAR,CAAxB,CAVyG;",
"sources":["node_modules/rc-virtual-list/lib/hooks/useGetSize.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_virtual_list$lib$hooks$useGetSize\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useGetSize = useGetSize;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\n/**\n * Size info need loop query for the `heights` which will has the perf issue.\n * Let cache result for each render phase.\n */\nfunction useGetSize(mergedData, getKey, heights, itemHeight) {\n  var _React$useMemo = React.useMemo(function () {\n      return [new Map(), []];\n    }, [mergedData, heights.id, itemHeight]),\n    _React$useMemo2 = (0, _slicedToArray2.default)(_React$useMemo, 2),\n    key2Index = _React$useMemo2[0],\n    bottomList = _React$useMemo2[1];\n  var getSize = function getSize(startKey) {\n    var endKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : startKey;\n    // Get from cache first\n    var startIndex = key2Index.get(startKey);\n    var endIndex = key2Index.get(endKey);\n\n    // Loop to fill the cache\n    if (startIndex === undefined || endIndex === undefined) {\n      var dataLen = mergedData.length;\n      for (var i = bottomList.length; i < dataLen; i += 1) {\n        var _heights$get;\n        var item = mergedData[i];\n        var key = getKey(item);\n        key2Index.set(key, i);\n        var cacheHeight = (_heights$get = heights.get(key)) !== null && _heights$get !== void 0 ? _heights$get : itemHeight;\n        bottomList[i] = (bottomList[i - 1] || 0) + cacheHeight;\n        if (key === startKey) {\n          startIndex = i;\n        }\n        if (key === endKey) {\n          endIndex = i;\n        }\n        if (startIndex !== undefined && endIndex !== undefined) {\n          break;\n        }\n      }\n    }\n    return {\n      top: bottomList[startIndex - 1] || 0,\n      bottom: bottomList[endIndex]\n    };\n  };\n  return getSize;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","value","useGetSize","mergedData","getKey","heights","itemHeight","_React$useMemo","React","useMemo","Map","id","_React$useMemo2","_slicedToArray2","key2Index","bottomList","getSize","startKey","endKey","arguments","length","undefined","startIndex","get","endIndex","dataLen","i","_heights$get","key","item","set","cacheHeight","top","bottom"]
}
