shadow$provide.module$node_modules$antd$lib$typography$hooks$useCopyClick=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var React=module(require("module$node_modules$react$index")),_copyToClipboard=global(require("module$node_modules$copy_to_clipboard$index")),
_useEvent=global(require("module$node_modules$rc_util$lib$hooks$useEvent")),_toList=global(require("module$node_modules$antd$lib$_util$toList")),__awaiter=function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new (P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}
function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};exports.default=_ref=>{let {copyConfig,children}=_ref;const [copied,setCopied]=React.useState(!1),[copyLoading,setCopyLoading]=React.useState(!1),copyIdRef=React.useRef(null),cleanCopyId=()=>{copyIdRef.current&&clearTimeout(copyIdRef.current)},copyOptions={};copyConfig.format&&(copyOptions.format=copyConfig.format);React.useEffect(()=>
cleanCopyId,[]);_ref=(0,_useEvent.default)(e=>__awaiter(void 0,void 0,void 0,function*(){var _a;null===e||void 0===e?void 0:e.preventDefault();null===e||void 0===e?void 0:e.stopPropagation();setCopyLoading(!0);try{const text="function"===typeof copyConfig.text?yield copyConfig.text():copyConfig.text;(0,_copyToClipboard.default)(text||(0,_toList.default)(children,!0).join("")||"",copyOptions);setCopyLoading(!1);setCopied(!0);cleanCopyId();copyIdRef.current=setTimeout(()=>{setCopied(!1)},3E3);null===
(_a=copyConfig.onCopy)||void 0===_a?void 0:_a.call(copyConfig,e)}catch(error){throw setCopyLoading(!1),error;}}));return{copied,copyLoading,onClick:_ref}}}
//# sourceMappingURL=module$node_modules$antd$lib$typography$hooks$useCopyClick.js.map
