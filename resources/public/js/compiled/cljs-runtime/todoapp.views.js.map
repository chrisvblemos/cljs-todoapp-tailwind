{"version":3,"sources":["todoapp/views.cljs"],"mappings":"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","names":["todoapp.views/status-done-component","todoapp.views/status-pending-component","todoapp.views/status-late-component","todoapp.views/status-today-component","todoapp.views/task-status-component","task","status-str","todoapp.utils/get-task-status","js/Date","G__12420","cljs.core/Keyword","js/Error","p__12421","map__12422","cljs.core/--destructure-map","cljs.core.get","todoapp.views/task-component","id","name","description","deadline","is-done?","cljs.core.prn","re-frame.core/dispatch","cljs.core/not","todoapp.views/add-task-component","task-name","reagent.core.atom","task-description","task-deadline","cljs.core/deref","p1__12423#","p1__12424#","p1__12425#","e","cljs.core/reset!","todoapp.views/before-task-table-component","todoapp.views/tasks-table-component","tasks","re_frame.core.subscribe","cljs.core/empty?","iter__5523__auto__","s__12427","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__12429","cljs.core/chunk-buffer","i__12428","vec__12430","cljs.core/-nth","cljs.core.nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__12426","cljs.core/chunk-rest","vec__12433","cljs.core/first","cljs.core/cons","cljs.core/rest","task-id","task-map","todoapp.views/main-panel","cljs.core/chunk-first"],"sourcesContent":["(ns todoapp.views\n\n  (:require\n   [re-frame.core :as re-frame]\n   [reagent.core :as r]\n   [todoapp.subs]\n   [todoapp.utils :as utils]))\n\n(defn status-done-component []\n  [:div {:class \"w-max\"}\n   [:div {:class \"css-task-done-status-label\"}\n    [:span \"Done\"]]])\n\n(defn status-pending-component []\n  [:div {:class \"w-max\"}\n   [:div {:class \"css-task-pending-status-label\"}\n    [:span \"Pending\"]]])\n\n(defn status-late-component []\n  [:div {:class \"w-max\"}\n   [:div {:class \"css-task-late-status-label\"}\n    [:span \"Late\"]]])\n\n(defn status-today-component []\n  [:div {:class \"w-max\"}\n   [:div {:class \"css-task-today-status-label\"}\n    [:span \"Due Today\"]]])\n\n(defn task-status-component\n  [task]\n  (let [status-str (utils/get-task-status task (.toLocaleString (js/Date.)))]\n    (case status-str\n      :late (status-late-component)\n      :today (status-today-component)\n      :pending (status-pending-component)\n      :done (status-done-component))))\n\n(defn task-component [{:keys [id name description deadline is-done?] :as task}]\n  (prn task)\n  [:tr {:class \"hover:bg-slate-50 border-b border-slate-200\"}\n   [:td\n    [:p {:class \"block font-semibold text-sm text-slate-800\"} name]]\n   [:td\n    [:p {:class \"block font-light text-sm text-slate-800\"} description]]\n   [:td\n    [:span {:class \"block font-light text-sm text-slate-800\"} deadline]]\n   [:td\n    (task-status-component task)]\n   [:td\n    [:button\n     {:class \"css-action-btn\"\n      :type \"button\"\n      :on-click #(re-frame/dispatch [:remove-task-uuid id])}\n     [:span {:class \"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2\"}\n      [:svg {:xmlns \"http://www.w3.org/2000/svg\" :view-box \"0 0 512 512\" :aria-hidden true :class \"w-4 h-4\" :fill \"currentColor\"}\n       [:path {:class \"css-trash-svg-icon\"}]]]]\n\n    (if-not (:is-done? task)\n      [:button\n       {:class \"css-action-btn\"\n        :type \"button\"\n        :on-click #(re-frame/dispatch [:set-task-is-done? id true])}\n       [:span {:class \"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2\"}\n        [:svg {:xmlns \"http://www.w3.org/2000/svg\" :view-box \"0 0 512 512\" :aria-hidden true :class \"w-4 h-4\" :fill \"currentColor\"}\n         [:path {:class \"css-undo-task-svg-icon\"}]]]]\n      [:button\n       {:class \"css-action-btn\"\n        :type \"button\"\n        :on-click #(re-frame/dispatch [:set-task-is-done? id false])}\n       [:span {:class \"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2\"}\n        [:svg {:xmlns \"http://www.w3.org/2000/svg\" :view-box \"0 0 512 512\" :aria-hidden true :class \"w-4 h-4\" :fill \"currentColor\"}\n         [:path {:class \"css-complete-task-svg-icon\"}]]]])]])\n\n(defn add-task-component []\n  (let [task-name (r/atom \"\")\n        task-description (r/atom \"\")\n        task-deadline (r/atom \"\")]\n    (fn []\n      [:div.add-task-form\n       [:form {:class \"flex flex-col md:flex-row items-center justify-center md:space-x-6 space-y-6 md:space-y-8\"\n               :on-submit\n               (fn [e]\n                 (.preventDefault e)\n                 (re-frame/dispatch [:add-task @task-name @task-description @task-deadline])\n                 (reset! task-name \"\")\n                 (reset! task-description \"\")\n                 (reset! task-deadline \"\"))}\n\n        [:div.form-group\n         [:label {:for \"task-name\" :class \"block text-sm font-medium text-gray-700\"}\n          [:span {:class \"text-black-500\"} \"Name\"]]\n         [:input {:type \"text\"\n                  :maxLength 32\n                  :id   \"task-name\"\n                  :value @task-name\n                  :on-change #(reset! task-name (-> % .-target .-value))\n                  :required true\n                  :placeholder \"Enter task name...\"}]]\n\n        [:div.form-group\n         [:label {:for \"task-description\" :class \"block text-sm font-medium text-gray-700\"}\n          [:span {:class \"text-black-500\"} \"Description (Optional)\"]]\n         [:input {:type \"text\"\n                  :maxLength 200\n                  :id \"task-description\"\n                  :value @task-description\n                  :on-change #(reset! task-description (-> % .-target .-value))\n                  :required false\n                  :placeholder \"Enter task description...\"}]]\n\n        [:div.form-group\n         [:label {:for \"task-deadline\" :class \"block text-sm font-medium text-gray-700\"}\n          [:span {:class \"text-black-500\"} \"Deadline\"]]\n         [:input {:class \"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  :type \"date\"\n                  :id \"task-deadline\"\n                  :value @task-deadline\n                  :on-change #(reset! task-deadline (-> % .-target .-value))\n                  :required true}]]\n\n        [:button {:type \"submit\"\n                  :class \"bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 text-white font-bold rounded-full shadow-lg h-12 w-12 flex items-center justify-center transition duration-200\"\n                  :aria-label \"Add\"} \"+\"]]])))\n\n(defn before-task-table-component []\n  [:div {:class \"relative mx-4 mt-4 overflow-hidden text-gray-700 bg-whhite rounded-none w-full bg-clip-border\"}\n   [:div {:class \"flex flex-col justify-between gap-8 mb-4 md:flex-row md:items-center\"}\n    [:div\n     [:h5\n      {:class \"block font-sans text-xl antialiased font-semibold leading-snug tracking-normal text-blue-gray-900\"}\n      \"Tasks\"]\n     [:p {:class \"block mt-1 font-sans text-base antialiased font-normal leading-relaxed text-gray-700\"}\n      \"This is a list of tasks that are pending, late or done.\"]]]])\n\n(defn tasks-table-component []\n  (let [tasks (re-frame/subscribe [:tasks-sorted-by-date-asc])]\n    [:div.task-table\n     (if (empty? @tasks)\n       [:p \"No tasks for now!\"]\n       [:table\n        [:thead {:class \"bg-gray-50 sticky top-0 z-10\"}\n         [:tr\n          [:th [:p \"Name\"]]\n          [:th [:p \"Description\"]]\n          [:th [:p \"Due\"]]\n          [:th [:p \"Status\"]]\n          [:th [:p \"Actions\"]]]]\n        [:tbody\n         (for [[task-id task-map] @tasks]\n           ^{:key task-id}\n           [task-component task-map])]])]))\n\n(defn main-panel []\n  [:div {:class \"flex flex-col min-h-screen max-h-screen relative\"}\n   [:div {:class \"flex-none w-1/2 mx-auto p-5\"}\n    [before-task-table-component]]\n   [:div {:class \"w-1.2 mx-auto p-5 overflow-hidden flex\"}\n    [:div {:class \"flex-grow flex\"}\n     [tasks-table-component]]]\n   [:div {:class \"flex-none w-1.2 mx-auto p-5\"}\n    [add-task-component]]])\n\n"]}