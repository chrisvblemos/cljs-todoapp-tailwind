{
"version":3,
"file":"module$node_modules$$rc_component$color_picker$lib$hooks$useColorDrag.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/@rc-component/color-picker/lib/hooks/useColorDrag.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$rc_component$color_picker$lib$hooks$useColorDrag\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = require(\"react\");\nfunction getPosition(e) {\n  var obj = 'touches' in e ? e.touches[0] : e;\n  var scrollXOffset = document.documentElement.scrollLeft || document.body.scrollLeft || window.pageXOffset;\n  var scrollYOffset = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;\n  return {\n    pageX: obj.pageX - scrollXOffset,\n    pageY: obj.pageY - scrollYOffset\n  };\n}\nfunction useColorDrag(props) {\n  var targetRef = props.targetRef,\n    containerRef = props.containerRef,\n    direction = props.direction,\n    onDragChange = props.onDragChange,\n    onDragChangeComplete = props.onDragChangeComplete,\n    calculate = props.calculate,\n    color = props.color,\n    disabledDrag = props.disabledDrag;\n  var _useState = (0, _react.useState)({\n      x: 0,\n      y: 0\n    }),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    offsetValue = _useState2[0],\n    setOffsetValue = _useState2[1];\n  var mouseMoveRef = (0, _react.useRef)(null);\n  var mouseUpRef = (0, _react.useRef)(null);\n\n  // Always get position from `color`\n  (0, _react.useEffect)(function () {\n    setOffsetValue(calculate());\n  }, [color]);\n  (0, _react.useEffect)(function () {\n    return function () {\n      document.removeEventListener('mousemove', mouseMoveRef.current);\n      document.removeEventListener('mouseup', mouseUpRef.current);\n      document.removeEventListener('touchmove', mouseMoveRef.current);\n      document.removeEventListener('touchend', mouseUpRef.current);\n      mouseMoveRef.current = null;\n      mouseUpRef.current = null;\n    };\n  }, []);\n  var updateOffset = function updateOffset(e) {\n    var _getPosition = getPosition(e),\n      pageX = _getPosition.pageX,\n      pageY = _getPosition.pageY;\n    var _containerRef$current = containerRef.current.getBoundingClientRect(),\n      rectX = _containerRef$current.x,\n      rectY = _containerRef$current.y,\n      width = _containerRef$current.width,\n      height = _containerRef$current.height;\n    var _targetRef$current$ge = targetRef.current.getBoundingClientRect(),\n      targetWidth = _targetRef$current$ge.width,\n      targetHeight = _targetRef$current$ge.height;\n    var centerOffsetX = targetWidth / 2;\n    var centerOffsetY = targetHeight / 2;\n    var offsetX = Math.max(0, Math.min(pageX - rectX, width)) - centerOffsetX;\n    var offsetY = Math.max(0, Math.min(pageY - rectY, height)) - centerOffsetY;\n    var calcOffset = {\n      x: offsetX,\n      y: direction === 'x' ? offsetValue.y : offsetY\n    };\n\n    // Exclusion of boundary cases\n    if (targetWidth === 0 && targetHeight === 0 || targetWidth !== targetHeight) {\n      return false;\n    }\n    onDragChange === null || onDragChange === void 0 || onDragChange(calcOffset);\n  };\n  var onDragMove = function onDragMove(e) {\n    e.preventDefault();\n    updateOffset(e);\n  };\n  var onDragStop = function onDragStop(e) {\n    e.preventDefault();\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n    document.removeEventListener('touchmove', mouseMoveRef.current);\n    document.removeEventListener('touchend', mouseUpRef.current);\n    mouseMoveRef.current = null;\n    mouseUpRef.current = null;\n    onDragChangeComplete === null || onDragChangeComplete === void 0 || onDragChangeComplete();\n  };\n  var onDragStart = function onDragStart(e) {\n    // https://github.com/ant-design/ant-design/issues/43529\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n    if (disabledDrag) {\n      return;\n    }\n    updateOffset(e);\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragStop);\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragStop);\n    mouseMoveRef.current = onDragMove;\n    mouseUpRef.current = onDragStop;\n  };\n  return [offsetValue, onDragStart];\n}\nvar _default = exports.default = useColorDrag;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","default","Object","defineProperty","value","_slicedToArray2","_react","useColorDrag","props","targetRef","containerRef","direction","onDragChange","onDragChangeComplete","calculate","color","disabledDrag","_useState","useState","x","y","_useState2","offsetValue","setOffsetValue","mouseMoveRef","useRef","mouseUpRef","useEffect","document","removeEventListener","current","updateOffset","e","obj","touches","pageX","documentElement","scrollLeft","body","window","pageXOffset","pageY","scrollTop","pageYOffset","_containerRef$current","getBoundingClientRect","rectX","rectY","width","height","_targetRef$current$ge","targetWidth","targetHeight","offsetY","Math","max","min","calcOffset","onDragMove","preventDefault","onDragStop","onDragStart","addEventListener"]
}
