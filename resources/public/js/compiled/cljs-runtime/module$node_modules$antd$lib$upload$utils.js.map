{
"version":3,
"file":"module$node_modules$antd$lib$upload$utils.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/antd/lib/upload/utils.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$antd$lib$upload$utils\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.file2Obj = file2Obj;\nexports.getFileItem = getFileItem;\nexports.isImageUrl = void 0;\nexports.previewImage = previewImage;\nexports.removeFileItem = removeFileItem;\nexports.updateFileList = updateFileList;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nfunction file2Obj(file) {\n  return Object.assign(Object.assign({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\nfunction updateFileList(file, fileList) {\n  const nextFileList = (0, _toConsumableArray2.default)(fileList);\n  const fileIndex = nextFileList.findIndex(_ref => {\n    let {\n      uid\n    } = _ref;\n    return uid === file.uid;\n  });\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n  return nextFileList;\n}\nfunction getFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nfunction removeFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n// ==================== Default Image Preview ====================\nconst extname = function () {\n  let url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  const temp = url.split('/');\n  const filename = temp[temp.length - 1];\n  const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nconst isImageFileType = type => type.indexOf('image/') === 0;\nconst isImageUrl = file => {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n  const url = file.thumbUrl || file.url || '';\n  const extension = extname(url);\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n  return true;\n};\nexports.isImageUrl = isImageUrl;\nconst MEASURE_SIZE = 200;\nfunction previewImage(file) {\n  return new Promise(resolve => {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n    document.body.appendChild(canvas);\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      const {\n        width,\n        height\n      } = img;\n      let drawWidth = MEASURE_SIZE;\n      let drawHeight = MEASURE_SIZE;\n      let offsetX = 0;\n      let offsetY = 0;\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      const dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n    img.crossOrigin = 'anonymous';\n    if (file.type.startsWith('image/svg+xml')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result && typeof reader.result === 'string') {\n          img.src = reader.result;\n        }\n      };\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result) {\n          resolve(reader.result);\n        }\n      };\n      reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","default","Object","defineProperty","value","file2Obj","file","assign","lastModified","lastModifiedDate","name","size","type","uid","percent","originFileObj","getFileItem","fileList","matchKey","undefined","filter","item","isImageUrl","previewImage","Promise","resolve","indexOf","canvas","document","createElement","width","MEASURE_SIZE","height","style","cssText","body","appendChild","ctx","getContext","img","Image","onload","img.onload","drawWidth","drawHeight","offsetX","offsetY","drawImage","dataURL","toDataURL","removeChild","window","URL","revokeObjectURL","src","crossOrigin","startsWith","reader","FileReader","reader.onload","result","readAsDataURL","createObjectURL","removeFileItem","removed","length","updateFileList","nextFileList","_toConsumableArray2","fileIndex","findIndex","_ref","push","extname","temp","split","url","arguments","filenameWithoutSuffix","filename","exec","thumbUrl","extension","test"]
}
