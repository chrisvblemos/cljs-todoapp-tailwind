{
"version":3,
"file":"module$node_modules$rc_table$lib$hooks$useFrame.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/rc-table/lib/hooks/useFrame.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_table$lib$hooks$useFrame\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLayoutState = useLayoutState;\nexports.useTimeoutLock = useTimeoutLock;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = require(\"react\");\n/**\n * Execute code before next frame but async\n */\nfunction useLayoutState(defaultState) {\n  var stateRef = (0, _react.useRef)(defaultState);\n  var _useState = (0, _react.useState)({}),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    forceUpdate = _useState2[1];\n  var lastPromiseRef = (0, _react.useRef)(null);\n  var updateBatchRef = (0, _react.useRef)([]);\n  function setFrameState(updater) {\n    updateBatchRef.current.push(updater);\n    var promise = Promise.resolve();\n    lastPromiseRef.current = promise;\n    promise.then(function () {\n      if (lastPromiseRef.current === promise) {\n        var prevBatch = updateBatchRef.current;\n        var prevState = stateRef.current;\n        updateBatchRef.current = [];\n        prevBatch.forEach(function (batchUpdater) {\n          stateRef.current = batchUpdater(stateRef.current);\n        });\n        lastPromiseRef.current = null;\n        if (prevState !== stateRef.current) {\n          forceUpdate({});\n        }\n      }\n    });\n  }\n  (0, _react.useEffect)(function () {\n    return function () {\n      lastPromiseRef.current = null;\n    };\n  }, []);\n  return [stateRef.current, setFrameState];\n}\n\n/** Lock frame, when frame pass reset the lock. */\nfunction useTimeoutLock(defaultState) {\n  var frameRef = (0, _react.useRef)(defaultState || null);\n  var timeoutRef = (0, _react.useRef)();\n  function cleanUp() {\n    window.clearTimeout(timeoutRef.current);\n  }\n  function setState(newState) {\n    frameRef.current = newState;\n    cleanUp();\n    timeoutRef.current = window.setTimeout(function () {\n      frameRef.current = null;\n      timeoutRef.current = undefined;\n    }, 100);\n  }\n  function getState() {\n    return frameRef.current;\n  }\n  (0, _react.useEffect)(function () {\n    return cleanUp;\n  }, []);\n  return [setState, getState];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","Object","defineProperty","value","useLayoutState","defaultState","stateRef","_react","useRef","_useState","useState","forceUpdate","_useState2","_slicedToArray2","default","lastPromiseRef","updateBatchRef","useEffect","current","setFrameState","updater","push","promise","Promise","resolve","then","prevBatch","prevState","forEach","batchUpdater","useTimeoutLock","cleanUp","window","clearTimeout","timeoutRef","frameRef","setState","newState","setTimeout","undefined","getState"]
}
