shadow$provide.module$node_modules$rc_segmented$lib$MotionThumb=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=
function(props){var prefixCls=props.prefixCls,containerRef=props.containerRef,value=props.value,getValueIndex=props.getValueIndex,motionName=props.motionName,onMotionStart=props.onMotionStart,onMotionEnd=props.onMotionEnd,direction=props.direction;props=props.vertical;var vertical=void 0===props?!1:props,thumbRef=React.useRef(null);props=React.useState(value);props=(0,_slicedToArray2.default)(props,2);var prevValue=props[0],setPrevValue=props[1],findValueElement=function(val){var _containerRef$current;
val=getValueIndex(val);var ele=null===(_containerRef$current=containerRef.current)||void 0===_containerRef$current?void 0:_containerRef$current.querySelectorAll(".".concat(prefixCls,"-item"))[val];return(null===ele||void 0===ele?void 0:ele.offsetParent)&&ele};props=React.useState(null);props=(0,_slicedToArray2.default)(props,2);var prevStyle=props[0],setPrevStyle=props[1];props=React.useState(null);props=(0,_slicedToArray2.default)(props,2);var nextStyle=props[0],setNextStyle=props[1];(0,_useLayoutEffect.default)(function(){if(prevValue!==
value){var prev=findValueElement(prevValue),next=findValueElement(value),calcPrevStyle=calcThumbStyle(prev,vertical),calcNextStyle=calcThumbStyle(next,vertical);setPrevValue(value);setPrevStyle(calcPrevStyle);setNextStyle(calcNextStyle);prev&&next?onMotionStart():onMotionEnd()}},[value]);var thumbStart=React.useMemo(function(){if(vertical){var _prevStyle$top;return toPX(null!==(_prevStyle$top=null===prevStyle||void 0===prevStyle?void 0:prevStyle.top)&&void 0!==_prevStyle$top?_prevStyle$top:0)}return"rtl"===
direction?toPX(-(null===prevStyle||void 0===prevStyle?NaN:prevStyle.right)):toPX(null===prevStyle||void 0===prevStyle?void 0:prevStyle.left)},[vertical,direction,prevStyle]),thumbActive=React.useMemo(function(){if(vertical){var _nextStyle$top;return toPX(null!==(_nextStyle$top=null===nextStyle||void 0===nextStyle?void 0:nextStyle.top)&&void 0!==_nextStyle$top?_nextStyle$top:0)}return"rtl"===direction?toPX(-(null===nextStyle||void 0===nextStyle?NaN:nextStyle.right)):toPX(null===nextStyle||void 0===
nextStyle?void 0:nextStyle.left)},[vertical,direction,nextStyle]);return prevStyle&&nextStyle?React.createElement(_rcMotion.default,{visible:!0,motionName,motionAppear:!0,onAppearStart:function(){return vertical?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},onAppearActive:function(){return vertical?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:
{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},onVisibleChanged:function(){setPrevStyle(null);setNextStyle(null);onMotionEnd()}},function(_ref,ref){var motionClassName=_ref.className;_ref=(0,_objectSpread2.default)((0,_objectSpread2.default)({},_ref.style),{},{"--thumb-start-left":thumbStart,"--thumb-start-width":toPX(null===prevStyle||void 0===prevStyle?void 0:prevStyle.width),"--thumb-active-left":thumbActive,"--thumb-active-width":toPX(null===nextStyle||void 0===
nextStyle?void 0:nextStyle.width),"--thumb-start-top":thumbStart,"--thumb-start-height":toPX(null===prevStyle||void 0===prevStyle?void 0:prevStyle.height),"--thumb-active-top":thumbActive,"--thumb-active-height":toPX(null===nextStyle||void 0===nextStyle?void 0:nextStyle.height)});ref={ref:(0,_ref2.composeRef)(thumbRef,ref),style:_ref,className:(0,_classnames.default)("".concat(prefixCls,"-thumb"),motionClassName)};return React.createElement("div",ref)}):null};var _objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),
_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_classnames=global(require("module$node_modules$classnames$index")),_rcMotion=global(require("module$node_modules$rc_motion$lib$index")),_useLayoutEffect=global(require("module$node_modules$rc_util$lib$hooks$useLayoutEffect")),_ref2=require("module$node_modules$rc_util$lib$ref"),React=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=
_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),calcThumbStyle=function(targetElement,vertical){if(!targetElement)return null;var JSCompiler_object_inline_left_1965=
targetElement.offsetLeft,JSCompiler_object_inline_right_1966=targetElement.parentElement.clientWidth-targetElement.clientWidth-targetElement.offsetLeft,JSCompiler_object_inline_width_1967=targetElement.clientWidth,JSCompiler_object_inline_top_1968=targetElement.offsetTop,JSCompiler_object_inline_bottom_1969=targetElement.parentElement.clientHeight-targetElement.clientHeight-targetElement.offsetTop;targetElement=targetElement.clientHeight;return vertical?{left:0,right:0,width:0,top:JSCompiler_object_inline_top_1968,
bottom:JSCompiler_object_inline_bottom_1969,height:targetElement}:{left:JSCompiler_object_inline_left_1965,right:JSCompiler_object_inline_right_1966,width:JSCompiler_object_inline_width_1967,top:0,bottom:0,height:0}},toPX=function(value){return void 0!==value?"".concat(value,"px"):void 0}}
//# sourceMappingURL=module$node_modules$rc_segmented$lib$MotionThumb.js.map
