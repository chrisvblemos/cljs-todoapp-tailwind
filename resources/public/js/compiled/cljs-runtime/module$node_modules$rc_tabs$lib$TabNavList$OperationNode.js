shadow$provide.module$node_modules$rc_tabs$lib$TabNavList$OperationNode=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},
a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;
var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_classnames=global(require("module$node_modules$classnames$index")),_rcDropdown=global(require("module$node_modules$rc_dropdown$lib$index")),_rcMenu=_interopRequireWildcard(require("module$node_modules$rc_menu$lib$index")),_KeyCode=
global(require("module$node_modules$rc_util$lib$KeyCode")),_react=_interopRequireWildcard(require("module$node_modules$react$index")),_util=require("module$node_modules$rc_tabs$lib$util"),_AddButton=global(require("module$node_modules$rc_tabs$lib$TabNavList$AddButton"));require=_react.forwardRef(function(props,ref){function selectOffset(offset){for(var enabledTabs=tabs.filter(function(tab){return!tab.disabled}),selectedIndex=enabledTabs.findIndex(function(tab){return tab.key===selectedKey})||0,len=
enabledTabs.length,i=0;i<len;i+=1){selectedIndex=(selectedIndex+offset+len)%len;var tab=enabledTabs[selectedIndex];if(!tab.disabled){setSelectedKey(tab.key);break}}}function onKeyDown(e){var which=e.which;if(open)switch(which){case _KeyCode.default.UP:selectOffset(-1);e.preventDefault();break;case _KeyCode.default.DOWN:selectOffset(1);e.preventDefault();break;case _KeyCode.default.ESC:setOpen(!1);break;case _KeyCode.default.SPACE:case _KeyCode.default.ENTER:null!==selectedKey&&onTabClick(selectedKey,
e)}else[_KeyCode.default.DOWN,_KeyCode.default.SPACE,_KeyCode.default.ENTER].includes(which)&&(setOpen(!0),e.preventDefault())}var prefixCls=props.prefixCls,id=props.id,tabs=props.tabs,locale=props.locale,mobile=props.mobile,_props$more=props.more,moreProps=void 0===_props$more?{}:_props$more;_props$more=props.style;var className=props.className,editable=props.editable,tabBarGutter=props.tabBarGutter,rtl=props.rtl,removeAriaLabel=props.removeAriaLabel,onTabClick=props.onTabClick,getPopupContainer=
props.getPopupContainer;props=props.popupClassName;var _useState=(0,_react.useState)(!1);_useState=(0,_slicedToArray2.default)(_useState,2);var open=_useState[0],setOpen=_useState[1];_useState=(0,_react.useState)(null);_useState=(0,_slicedToArray2.default)(_useState,2);var selectedKey=_useState[0],setSelectedKey=_useState[1];_useState=moreProps.icon;_useState=void 0===_useState?"More":_useState;var popupId="".concat(id,"-more-popup"),dropdownPrefix="".concat(prefixCls,"-dropdown"),selectedItemId=
null!==selectedKey?"".concat(popupId,"-").concat(selectedKey):null,dropdownAriaLabel=null===locale||void 0===locale?void 0:locale.dropdownAriaLabel;dropdownAriaLabel=_react.createElement(_rcMenu.default,{onClick:function(_ref){onTabClick(_ref.key,_ref.domEvent);setOpen(!1)},prefixCls:"".concat(dropdownPrefix,"-menu"),id:popupId,tabIndex:-1,role:"listbox","aria-activedescendant":selectedItemId,selectedKeys:[selectedKey],"aria-label":void 0!==dropdownAriaLabel?dropdownAriaLabel:"expanded dropdown"},
tabs.map(function(tab){var disabled=tab.disabled,closeIcon=tab.closeIcon,key=tab.key,label=tab.label;tab=(0,_util.getRemovable)(tab.closable,closeIcon,editable,disabled);return _react.createElement(_rcMenu.MenuItem,{key,id:"".concat(popupId,"-").concat(key),role:"option","aria-controls":id&&"".concat(id,"-panel-").concat(key),disabled},_react.createElement("span",null,label),tab&&_react.createElement("button",{type:"button","aria-label":removeAriaLabel||"remove",tabIndex:0,className:"".concat(dropdownPrefix,
"-menu-item-remove"),onClick:function(e){e.stopPropagation();e.preventDefault();e.stopPropagation();editable.onEdit("remove",{key,event:e})}},closeIcon||editable.removeIcon||"Ã—"))}));(0,_react.useEffect)(function(){var ele=document.getElementById(selectedItemId);ele&&ele.scrollIntoView&&ele.scrollIntoView(!1)},[selectedKey]);(0,_react.useEffect)(function(){open||setSelectedKey(null)},[open]);tabBarGutter=(0,_defineProperty2.default)({},rtl?"marginRight":"marginLeft",tabBarGutter);tabs.length||(tabBarGutter.visibility=
"hidden",tabBarGutter.order=1);rtl=(0,_classnames.default)((0,_defineProperty2.default)({},"".concat(dropdownPrefix,"-rtl"),rtl));mobile=mobile?null:_react.createElement(_rcDropdown.default,(0,_extends2.default)({prefixCls:dropdownPrefix,overlay:dropdownAriaLabel,visible:tabs.length?open:!1,onVisibleChange:setOpen,overlayClassName:(0,_classnames.default)(rtl,props),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer},moreProps),_react.createElement("button",{type:"button",className:"".concat(prefixCls,
"-nav-more"),style:tabBarGutter,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":popupId,id:"".concat(id,"-more"),"aria-expanded":open,onKeyDown},_useState));return _react.createElement("div",{className:(0,_classnames.default)("".concat(prefixCls,"-nav-operations"),className),style:_props$more,ref},mobile,_react.createElement(_AddButton.default,{prefixCls,locale,editable}))});exports.default=_react.memo(require,function(_,next){return next.tabMoving})}
//# sourceMappingURL=module$node_modules$rc_tabs$lib$TabNavList$OperationNode.js.map
