shadow$provide.module$node_modules$antd$lib$upload$utils=function(global,require,module,exports){global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.file2Obj=function(file){return Object.assign(Object.assign({},file),{lastModified:file.lastModified,lastModifiedDate:file.lastModifiedDate,name:file.name,size:file.size,type:file.type,uid:file.uid,percent:0,originFileObj:file})};exports.getFileItem=function(file,
fileList){const matchKey=void 0!==file.uid?"uid":"name";return fileList.filter(item=>item[matchKey]===file[matchKey])[0]};exports.isImageUrl=void 0;exports.previewImage=function(file){return new Promise(resolve=>{if(file.type&&0===file.type.indexOf("image/")){var canvas=document.createElement("canvas");canvas.width=200;canvas.height=200;canvas.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;";document.body.appendChild(canvas);var ctx=canvas.getContext("2d"),
img=new Image;img.onload=()=>{const {width,height}=img;var drawWidth=200;let drawHeight=200,offsetX=0,offsetY=0;width>height?(drawHeight=200/width*height,offsetY=-(drawHeight-drawWidth)/2):(drawWidth=200/height*width,offsetX=-(drawWidth-drawHeight)/2);ctx.drawImage(img,offsetX,offsetY,drawWidth,drawHeight);drawWidth=canvas.toDataURL();document.body.removeChild(canvas);window.URL.revokeObjectURL(img.src);resolve(drawWidth)};img.crossOrigin="anonymous";if(file.type.startsWith("image/svg+xml")){const reader=
new FileReader;reader.onload=()=>{reader.result&&"string"===typeof reader.result&&(img.src=reader.result)};reader.readAsDataURL(file)}else if(file.type.startsWith("image/gif")){const reader=new FileReader;reader.onload=()=>{reader.result&&resolve(reader.result)};reader.readAsDataURL(file)}else img.src=window.URL.createObjectURL(file)}else resolve("")})};exports.removeFileItem=function(file,fileList){const matchKey=void 0!==file.uid?"uid":"name",removed=fileList.filter(item=>item[matchKey]!==file[matchKey]);
return removed.length===fileList.length?null:removed};exports.updateFileList=function(file,fileList){fileList=(0,_toConsumableArray2.default)(fileList);const fileIndex=fileList.findIndex(_ref=>{({uid:_ref}=_ref);return _ref===file.uid});-1===fileIndex?fileList.push(file):fileList[fileIndex]=file;return fileList};var _toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray"));const extname=function(){var temp=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:
"").split("/");temp=temp[temp.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(temp)||[""])[0]};exports.isImageUrl=file=>{if(file.type&&!file.thumbUrl)return 0===file.type.indexOf("image/");file=file.thumbUrl||file.url||"";const extension=extname(file);return/^data:image\//.test(file)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)?!0:/^data:/.test(file)||extension?!1:!0}}
//# sourceMappingURL=module$node_modules$antd$lib$upload$utils.js.map
