{
"version":3,
"file":"module$node_modules$rc_table$lib$hooks$useFlattenRecords.js",
"lineCount":4,
"mappings":"AAAAA,cAAA,CAAA,wDAAA,CAA6E,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CASrHC,QAASA,yBAAwB,CAACC,CAAD,CAAI,CAAE,GAAI,UAAJ,EAAkB,MAAOC,QAAzB,CAAkC,MAAO,KAA3C,KAAqDC,EAAI,IAAID,OAA7D,CAAwEE,EAAI,IAAIF,OAAW,OAAO,CAACF,wBAAD,CAA4BA,QAAiC,CAACC,CAAD,CAAI,CAAE,MAAOA,EAAA,CAAIG,CAAJ,CAAQD,CAAjB,CAAjE,EAAwFF,CAAxF,CAAlG,CAGrCI,QAASA,YAAW,CAACC,IAAD,CAAOC,MAAP,CAAeC,MAAf,CAAuBC,kBAAvB,CAA2CC,YAA3C,CAAyDC,SAAzD,CAAoEC,KAApE,CAA2E,CAC7FN,IAAKO,CAAAA,IAAL,CAAU,CACAN,MADA,CAEAC,MAFA,CAGDI,KAHC,CAAV,CAKIE,MAAAA,CAAMH,SAAA,CAAUJ,MAAV,CACNQ,MAAAA,CAA4B,IAAjB,GAAAL,YAAA,EAA0C,IAAK,EAA/C,GAAyBA,YAAzB,CAAmD,IAAK,EAAxD,CAA4DA,YAAaM,CAAAA,GAAb,CAAiBF,KAAjB,CAC3E;GAAIP,MAAJ,EAAcU,KAAMC,CAAAA,OAAN,CAAcX,MAAA,CAAOE,kBAAP,CAAd,CAAd,EAA2DM,KAA3D,CAEE,IAASI,KAAT,CAAa,CAAb,CAAgBA,KAAhB,CAAoBZ,MAAA,CAAOE,kBAAP,CAA2BW,CAAAA,MAA/C,CAAuDD,KAAvD,EAA4D,CAA5D,CACEd,WAAA,CAAYC,IAAZ,CAAkBC,MAAA,CAAOE,kBAAP,CAAA,CAA2BU,KAA3B,CAAlB,CAAiDX,MAAjD,CAA0D,CAA1D,CAA6DC,kBAA7D,CAAiFC,YAAjF,CAA+FC,SAA/F,CAA0GQ,KAA1G,CAXyF,CAT/F,IAAIE,QAAUxB,OAAA,CAAQ,mDAAR,CACdyB,OAAOC,CAAAA,cAAP,CAAsBxB,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CyB,MAAO,CAAA,CADoC,CAA7C,CAGAzB,QAAQ0B,CAAAA,OAAR,CA+BAC,QAA0B,CAACC,IAAD,CAAOlB,kBAAP,CAA2BC,YAA3B,CAAyCC,SAAzC,CAAoD,CAsB5E,MArBUiB,MAAMC,CAAAA,OAANC,CAAc,QAAS,EAAG,CAClC,GAAqB,IAArB,GAAIpB,YAAJ,EAA8C,IAAK,EAAnD,GAA6BA,YAA7B;AAAwDA,YAAaqB,CAAAA,IAArE,CAA2E,CAIzE,IAHA,IAAIzB,KAAO,EAAX,CAGSa,EAAI,CAAb,CAAgBA,CAAhB,EAA8B,IAAT,GAAAQ,IAAA,EAA0B,IAAK,EAA/B,GAAiBA,IAAjB,CAAmC,IAAK,EAAxC,CAA4CA,IAAKP,CAAAA,MAAtE,EAA+ED,CAA/E,EAAoF,CAApF,CAIEd,WAAA,CAAYC,IAAZ,CAHaqB,IAAApB,CAAKY,CAALZ,CAGb,CAA0B,CAA1B,CAA6BE,kBAA7B,CAAiDC,YAAjD,CAA+DC,SAA/D,CAA0EQ,CAA1E,CAEF,OAAOb,KAVkE,CAY3E,MAAgB,KAAT,GAAAqB,IAAA,EAA0B,IAAK,EAA/B,GAAiBA,IAAjB,CAAmC,IAAK,EAAxC,CAA4CA,IAAKK,CAAAA,GAAL,CAAS,QAAS,CAACC,IAAD,CAAOrB,KAAP,CAAc,CACjF,MAAO,CACLL,OAAQ0B,IADH,CAELzB,OAAQ,CAFH,CAGEI,KAHF,CAD0E,CAAhC,CAbjB,CAA1BkB,CAoBP,CAACH,IAAD,CAAOlB,kBAAP,CAA2BC,YAA3B,CAAyCC,SAAzC,CApBOmB,CADkE,CA9B9E,KAAIF,MAEJM,QAAgC,CAACjC,CAAD,CAAIE,CAAJ,CAAO,CAAE,GAAI,CAACA,CAAL,EAAUF,CAAV,EAAeA,CAAEkC,CAAAA,UAAjB,CAA6B,MAAOlC,EAAG,IAAI,IAAJ,GAAaA,CAAb,EAAkB,QAAlB,EAA8BoB,OAAA,CAAQpB,CAAR,CAA9B,EAA4C,UAA5C,EAA0D,MAAOA,EAAjE,CAAoE,MAAO,CAAEwB,QAASxB,CAAX,CAAqD,KAAjCG,CAAiC,CAA7BJ,wBAAA,CAAyBG,CAAzB,CAA6B;AAASC,CAAEY,CAAAA,GAAF,CAAMf,CAAN,CAAT,CAAmB,MAAOG,EAAEgC,CAAAA,GAAF,CAAMnC,CAAN,CAAnM,KAAiNoC,EAAI,CAAEC,UAAW,IAAb,CAArN,CAA0OC,EAAIjB,MAAOC,CAAAA,cAAXgB,EAA6BjB,MAAOkB,CAAAA,wBAA9Q,CAAiTC,CAAT,KAASA,CAAT,GAAcxC,EAAd,CAAiB,GAAI,SAAJ,GAAkBwC,CAAlB,EAAuBnB,MAAOoB,CAAAA,SAAUC,CAAAA,cAAeC,CAAAA,IAAhC,CAAqC3C,CAArC,CAAwCwC,CAAxC,CAAvB,CAAmE,CAAE,IAAItB,EAAIoB,CAAA,CAAIjB,MAAOkB,CAAAA,wBAAP,CAAgCvC,CAAhC,CAAmCwC,CAAnC,CAAJ,CAA4C,IAAMtB,EAAA,GAAMA,CAAEiB,CAAAA,GAAR,EAAejB,CAAE0B,CAAAA,GAAjB,EAAwBvB,MAAOC,CAAAA,cAAP,CAAsBc,CAAtB,CAAyBI,CAAzB,CAA4BtB,CAA5B,CAAxB,CAAyDkB,CAAA,CAAEI,CAAF,CAAzD,CAAgExC,CAAA,CAAEwC,CAAF,CAA5H,CAAoI,MAAOJ,EAAEZ,CAAAA,OAAF,CAAYxB,CAAZ,CAAeG,CAAf,EAAoBA,CAAEyC,CAAAA,GAAF,CAAM5C,CAAN,CAASoC,CAAT,CAApB,CAAiCA,CAAxiB,CAF3B,CAAwBxC,OAAA,CAAQ,iCAAR,CAAxB,CARyG;",
"sources":["node_modules/rc-table/lib/hooks/useFlattenRecords.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_table$lib$hooks$useFlattenRecords\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useFlattenRecords;\nvar React = _interopRequireWildcard(require(\"react\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n// recursion (flat tree structure)\nfunction fillRecords(list, record, indent, childrenColumnName, expandedKeys, getRowKey, index) {\n  list.push({\n    record: record,\n    indent: indent,\n    index: index\n  });\n  var key = getRowKey(record);\n  var expanded = expandedKeys === null || expandedKeys === void 0 ? void 0 : expandedKeys.has(key);\n  if (record && Array.isArray(record[childrenColumnName]) && expanded) {\n    // expanded state, flat record\n    for (var i = 0; i < record[childrenColumnName].length; i += 1) {\n      fillRecords(list, record[childrenColumnName][i], indent + 1, childrenColumnName, expandedKeys, getRowKey, i);\n    }\n  }\n}\n/**\n * flat tree data on expanded state\n *\n * @export\n * @template T\n * @param {*} data : table data\n * @param {string} childrenColumnName : \u6307\u5b9a\u6811\u5f62\u7ed3\u6784\u7684\u5217\u540d\n * @param {Set<Key>} expandedKeys : \u5c55\u5f00\u7684\u884c\u5bf9\u5e94\u7684keys\n * @param {GetRowKey<T>} getRowKey  : \u83b7\u53d6\u5f53\u524drowKey\u7684\u65b9\u6cd5\n * @returns flattened data\n */\nfunction useFlattenRecords(data, childrenColumnName, expandedKeys, getRowKey) {\n  var arr = React.useMemo(function () {\n    if (expandedKeys !== null && expandedKeys !== void 0 && expandedKeys.size) {\n      var list = [];\n\n      // collect flattened record\n      for (var i = 0; i < (data === null || data === void 0 ? void 0 : data.length); i += 1) {\n        var record = data[i];\n\n        // using array.push or spread operator may cause \"Maximum call stack size exceeded\" exception if array size is big enough.\n        fillRecords(list, record, 0, childrenColumnName, expandedKeys, getRowKey, i);\n      }\n      return list;\n    }\n    return data === null || data === void 0 ? void 0 : data.map(function (item, index) {\n      return {\n        record: item,\n        indent: 0,\n        index: index\n      };\n    });\n  }, [data, childrenColumnName, expandedKeys, getRowKey]);\n  return arr;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","e","WeakMap","r","t","fillRecords","list","record","indent","childrenColumnName","expandedKeys","getRowKey","index","push","key","expanded","has","Array","isArray","i","length","_typeof","Object","defineProperty","value","default","useFlattenRecords","data","React","useMemo","arr","size","map","item","_interopRequireWildcard","__esModule","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","set"]
}
