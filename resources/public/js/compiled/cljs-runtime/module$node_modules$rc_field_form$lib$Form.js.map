{
"version":3,
"file":"module$node_modules$rc_field_form$lib$Form.js",
"lineCount":10,
"mappings":"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",
"sources":["node_modules/rc-field-form/lib/Form.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_field_form$lib$Form\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _useForm3 = _interopRequireDefault(require(\"./useForm\"));\nvar _FieldContext = _interopRequireWildcard(require(\"./FieldContext\"));\nvar _FormContext = _interopRequireDefault(require(\"./FormContext\"));\nvar _valueUtil = require(\"./utils/valueUtil\");\nvar _ListContext = _interopRequireDefault(require(\"./ListContext\"));\nvar _excluded = [\"name\", \"initialValues\", \"fields\", \"form\", \"preserve\", \"children\", \"component\", \"validateMessages\", \"validateTrigger\", \"onValuesChange\", \"onFieldsChange\", \"onFinish\", \"onFinishFailed\", \"clearOnDestroy\"];\nvar Form = function Form(_ref, ref) {\n  var name = _ref.name,\n    initialValues = _ref.initialValues,\n    fields = _ref.fields,\n    form = _ref.form,\n    preserve = _ref.preserve,\n    children = _ref.children,\n    _ref$component = _ref.component,\n    Component = _ref$component === void 0 ? 'form' : _ref$component,\n    validateMessages = _ref.validateMessages,\n    _ref$validateTrigger = _ref.validateTrigger,\n    validateTrigger = _ref$validateTrigger === void 0 ? 'onChange' : _ref$validateTrigger,\n    onValuesChange = _ref.onValuesChange,\n    _onFieldsChange = _ref.onFieldsChange,\n    _onFinish = _ref.onFinish,\n    onFinishFailed = _ref.onFinishFailed,\n    clearOnDestroy = _ref.clearOnDestroy,\n    restProps = (0, _objectWithoutProperties2.default)(_ref, _excluded);\n  var nativeElementRef = React.useRef(null);\n  var formContext = React.useContext(_FormContext.default);\n\n  // We customize handle event since Context will makes all the consumer re-render:\n  // https://reactjs.org/docs/context.html#contextprovider\n  var _useForm = (0, _useForm3.default)(form),\n    _useForm2 = (0, _slicedToArray2.default)(_useForm, 1),\n    formInstance = _useForm2[0];\n  var _getInternalHooks = formInstance.getInternalHooks(_FieldContext.HOOK_MARK),\n    useSubscribe = _getInternalHooks.useSubscribe,\n    setInitialValues = _getInternalHooks.setInitialValues,\n    setCallbacks = _getInternalHooks.setCallbacks,\n    setValidateMessages = _getInternalHooks.setValidateMessages,\n    setPreserve = _getInternalHooks.setPreserve,\n    destroyForm = _getInternalHooks.destroyForm;\n\n  // Pass ref with form instance\n  React.useImperativeHandle(ref, function () {\n    return (0, _objectSpread2.default)((0, _objectSpread2.default)({}, formInstance), {}, {\n      nativeElement: nativeElementRef.current\n    });\n  });\n\n  // Register form into Context\n  React.useEffect(function () {\n    formContext.registerForm(name, formInstance);\n    return function () {\n      formContext.unregisterForm(name);\n    };\n  }, [formContext, formInstance, name]);\n\n  // Pass props to store\n  setValidateMessages((0, _objectSpread2.default)((0, _objectSpread2.default)({}, formContext.validateMessages), validateMessages));\n  setCallbacks({\n    onValuesChange: onValuesChange,\n    onFieldsChange: function onFieldsChange(changedFields) {\n      formContext.triggerFormChange(name, changedFields);\n      if (_onFieldsChange) {\n        for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          rest[_key - 1] = arguments[_key];\n        }\n        _onFieldsChange.apply(void 0, [changedFields].concat(rest));\n      }\n    },\n    onFinish: function onFinish(values) {\n      formContext.triggerFormFinish(name, values);\n      if (_onFinish) {\n        _onFinish(values);\n      }\n    },\n    onFinishFailed: onFinishFailed\n  });\n  setPreserve(preserve);\n\n  // Set initial value, init store value when first mount\n  var mountRef = React.useRef(null);\n  setInitialValues(initialValues, !mountRef.current);\n  if (!mountRef.current) {\n    mountRef.current = true;\n  }\n  React.useEffect(function () {\n    return function () {\n      return destroyForm(clearOnDestroy);\n    };\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n\n  // Prepare children by `children` type\n  var childrenNode;\n  var childrenRenderProps = typeof children === 'function';\n  if (childrenRenderProps) {\n    var _values = formInstance.getFieldsValue(true);\n    childrenNode = children(_values, formInstance);\n  } else {\n    childrenNode = children;\n  }\n\n  // Not use subscribe when using render props\n  useSubscribe(!childrenRenderProps);\n\n  // Listen if fields provided. We use ref to save prev data here to avoid additional render\n  var prevFieldsRef = React.useRef();\n  React.useEffect(function () {\n    if (!(0, _valueUtil.isSimilar)(prevFieldsRef.current || [], fields || [])) {\n      formInstance.setFields(fields || []);\n    }\n    prevFieldsRef.current = fields;\n  }, [fields, formInstance]);\n  var formContextValue = React.useMemo(function () {\n    return (0, _objectSpread2.default)((0, _objectSpread2.default)({}, formInstance), {}, {\n      validateTrigger: validateTrigger\n    });\n  }, [formInstance, validateTrigger]);\n  var wrapperNode = /*#__PURE__*/React.createElement(_ListContext.default.Provider, {\n    value: null\n  }, /*#__PURE__*/React.createElement(_FieldContext.default.Provider, {\n    value: formContextValue\n  }, childrenNode));\n  if (Component === false) {\n    return wrapperNode;\n  }\n  return /*#__PURE__*/React.createElement(Component, (0, _extends2.default)({}, restProps, {\n    ref: nativeElementRef,\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      formInstance.submit();\n    },\n    onReset: function onReset(event) {\n      var _restProps$onReset;\n      event.preventDefault();\n      formInstance.resetFields();\n      (_restProps$onReset = restProps.onReset) === null || _restProps$onReset === void 0 || _restProps$onReset.call(restProps, event);\n    }\n  }), wrapperNode);\n};\nvar _default = exports.default = Form;\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","default","_interopRequireWildcard","Object","defineProperty","value","_extends2","_objectSpread2","_slicedToArray2","_objectWithoutProperties2","React","_useForm3","_FieldContext","_FormContext","_valueUtil","_ListContext","_excluded","Form","_ref","ref","name","initialValues","fields","form","preserve","children","_ref$component","component","Component","validateMessages","_ref$validateTrigger","validateTrigger","onValuesChange","_onFieldsChange","onFieldsChange","_onFinish","onFinish","onFinishFailed","clearOnDestroy","restProps","nativeElementRef","useRef","formContext","useContext","_useForm","formInstance","_useForm2","_getInternalHooks","getInternalHooks","HOOK_MARK","useSubscribe","setInitialValues","setCallbacks","setValidateMessages","setPreserve","destroyForm","useImperativeHandle","nativeElement","current","useEffect","registerForm","unregisterForm","changedFields","triggerFormChange","_len","arguments","length","rest","Array","_key","apply","concat","values","triggerFormFinish","mountRef","childrenRenderProps","_values","getFieldsValue","childrenNode","prevFieldsRef","isSimilar","setFields","formContextValue","useMemo","wrapperNode","createElement","Provider","onSubmit","event","preventDefault","stopPropagation","submit","onReset","_restProps$onReset","resetFields","call"]
}
