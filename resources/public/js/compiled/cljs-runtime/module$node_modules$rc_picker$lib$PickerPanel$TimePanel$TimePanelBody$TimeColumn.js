shadow$provide.module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$TimeColumn=function(global,require,module,exports){function flattenUnits(units){return units.map(function(_ref){return[_ref.value,_ref.label,_ref.disabled].join()}).join(";")}global=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=
function(props){var units=props.units,value=props.value,optionalValue=props.optionalValue,type=props.type,onChange=props.onChange,onHover=props.onHover,onDblClick=props.onDblClick,changeOnScroll=props.changeOnScroll;props=(0,_context.usePanelContext)();var prefixCls=props.prefixCls,cellRender=props.cellRender,now=props.now,locale=props.locale;props="".concat(prefixCls,"-time-panel");var cellPrefixCls="".concat(prefixCls,"-time-panel-cell"),ulRef=React.useRef(null),checkDelayRef=React.useRef(),_useScrollTo=
(0,_useScrollTo3.default)(ulRef,null!==value&&void 0!==value?value:optionalValue);_useScrollTo=(0,_slicedToArray2.default)(_useScrollTo,3);var syncScroll=_useScrollTo[0],stopScroll=_useScrollTo[1],isScrolling=_useScrollTo[2];(0,_useLayoutEffect.default)(function(){syncScroll();clearTimeout(checkDelayRef.current);return function(){stopScroll();clearTimeout(checkDelayRef.current)}},[value,optionalValue,flattenUnits(units)]);optionalValue="".concat(props,"-column");return React.createElement("ul",{className:optionalValue,
ref:ulRef,"data-type":type,onScroll:function(event){clearTimeout(checkDelayRef.current);var target=event.target;!isScrolling()&&changeOnScroll&&(checkDelayRef.current=setTimeout(function(){var ul=ulRef.current,firstLiTop=ul.querySelector("li").offsetTop;ul=Array.from(ul.querySelectorAll("li")).map(function(li){return li.offsetTop-firstLiTop}).map(function(top,index){return units[index].disabled?Number.MAX_SAFE_INTEGER:Math.abs(top-target.scrollTop)});var minDist=Math.min.apply(Math,(0,_toConsumableArray2.default)(ul));
ul=ul.findIndex(function(dist){return dist===minDist});(ul=units[ul])&&!ul.disabled&&onChange(ul.value)},SCROLL_DELAY))}},units.map(function(_ref2){var label=_ref2.label,unitValue=_ref2.value,disabled=_ref2.disabled;_ref2=React.createElement("div",{className:"".concat(cellPrefixCls,"-inner")},label);return React.createElement("li",{key:unitValue,className:(0,_classnames.default)(cellPrefixCls,(0,_defineProperty2.default)((0,_defineProperty2.default)({},"".concat(cellPrefixCls,"-selected"),value===
unitValue),"".concat(cellPrefixCls,"-disabled"),disabled)),onClick:function(){disabled||onChange(unitValue)},onDoubleClick:function(){!disabled&&onDblClick&&onDblClick()},onMouseEnter:function(){onHover(unitValue)},onMouseLeave:function(){onHover(null)},"data-value":unitValue},cellRender?cellRender(unitValue,{prefixCls,originNode:_ref2,today:now,type:"time",subType:type,locale}):_ref2)}))};var _defineProperty2=module(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_toConsumableArray2=
module(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_slicedToArray2=module(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_classnames=module(require("module$node_modules$classnames$index")),_useLayoutEffect=module(require("module$node_modules$rc_util$lib$hooks$useLayoutEffect")),React=global(require("module$node_modules$react$index")),_context=require("module$node_modules$rc_picker$lib$PickerPanel$context"),_useScrollTo3=module(require("module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$useScrollTo")),
SCROLL_DELAY=300}
//# sourceMappingURL=module$node_modules$rc_picker$lib$PickerPanel$TimePanel$TimePanelBody$TimeColumn.js.map
