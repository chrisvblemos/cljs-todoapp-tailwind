{
"version":3,
"file":"module$node_modules$rc_tree_select$lib$utils$legacyUtil.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/rc-tree-select/lib/utils/legacyUtil.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_tree_select$lib$utils$legacyUtil\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertChildrenToData = convertChildrenToData;\nexports.fillAdditionalInfo = fillAdditionalInfo;\nexports.fillLegacyProps = fillLegacyProps;\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _toArray = _interopRequireDefault(require(\"rc-util/lib/Children/toArray\"));\nvar _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\nvar _TreeNode = _interopRequireDefault(require(\"../TreeNode\"));\nvar _excluded = [\"children\", \"value\"];\nfunction convertChildrenToData(nodes) {\n  return (0, _toArray.default)(nodes).map(function (node) {\n    if (! /*#__PURE__*/React.isValidElement(node) || !node.type) {\n      return null;\n    }\n    var _ref = node,\n      key = _ref.key,\n      _ref$props = _ref.props,\n      children = _ref$props.children,\n      value = _ref$props.value,\n      restProps = (0, _objectWithoutProperties2.default)(_ref$props, _excluded);\n    var data = (0, _objectSpread2.default)({\n      key: key,\n      value: value\n    }, restProps);\n    var childData = convertChildrenToData(children);\n    if (childData.length) {\n      data.children = childData;\n    }\n    return data;\n  }).filter(function (data) {\n    return data;\n  });\n}\nfunction fillLegacyProps(dataNode) {\n  if (!dataNode) {\n    return dataNode;\n  }\n  var cloneNode = (0, _objectSpread2.default)({}, dataNode);\n  if (!('props' in cloneNode)) {\n    Object.defineProperty(cloneNode, 'props', {\n      get: function get() {\n        (0, _warning.default)(false, 'New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access.');\n        return cloneNode;\n      }\n    });\n  }\n  return cloneNode;\n}\nfunction fillAdditionalInfo(extra, triggerValue, checkedValues, treeData, showPosition, fieldNames) {\n  var triggerNode = null;\n  var nodeList = null;\n  function generateMap() {\n    function dig(list) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';\n      var parentIncluded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return list.map(function (option, index) {\n        var pos = \"\".concat(level, \"-\").concat(index);\n        var value = option[fieldNames.value];\n        var included = checkedValues.includes(value);\n        var children = dig(option[fieldNames.children] || [], pos, included);\n        var node = /*#__PURE__*/React.createElement(_TreeNode.default, option, children.map(function (child) {\n          return child.node;\n        }));\n\n        // Link with trigger node\n        if (triggerValue === value) {\n          triggerNode = node;\n        }\n        if (included) {\n          var checkedNode = {\n            pos: pos,\n            node: node,\n            children: children\n          };\n          if (!parentIncluded) {\n            nodeList.push(checkedNode);\n          }\n          return checkedNode;\n        }\n        return null;\n      }).filter(function (node) {\n        return node;\n      });\n    }\n    if (!nodeList) {\n      nodeList = [];\n      dig(treeData);\n\n      // Sort to keep the checked node length\n      nodeList.sort(function (_ref2, _ref3) {\n        var val1 = _ref2.node.props.value;\n        var val2 = _ref3.node.props.value;\n        var index1 = checkedValues.indexOf(val1);\n        var index2 = checkedValues.indexOf(val2);\n        return index1 - index2;\n      });\n    }\n  }\n  Object.defineProperty(extra, 'triggerNode', {\n    get: function get() {\n      (0, _warning.default)(false, '`triggerNode` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      return triggerNode;\n    }\n  });\n  Object.defineProperty(extra, 'allCheckedNodes', {\n    get: function get() {\n      (0, _warning.default)(false, '`allCheckedNodes` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      if (showPosition) {\n        return nodeList;\n      }\n      return nodeList.map(function (_ref4) {\n        var node = _ref4.node;\n        return node;\n      });\n    }\n  });\n}\n};"],
"names":["shadow$provide","global","require","module","exports","convertChildrenToData","nodes","_toArray","default","map","node","React","isValidElement","type","key","_ref$props","props","children","value","restProps","_objectWithoutProperties2","_excluded","data","_objectSpread2","childData","length","filter","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","fillAdditionalInfo","extra","triggerValue","checkedValues","treeData","showPosition","fieldNames","generateMap","dig","list","level","arguments","undefined","parentIncluded","option","index","pos","concat","included","includes","createElement","_TreeNode","child","triggerNode","checkedNode","nodeList","push","sort","_ref2","_ref3","val2","index1","indexOf","index2","get","_warning","_ref4","fillLegacyProps","dataNode","cloneNode"]
}
