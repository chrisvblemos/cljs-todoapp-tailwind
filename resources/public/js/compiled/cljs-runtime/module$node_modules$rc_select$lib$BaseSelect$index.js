shadow$provide.module$node_modules$rc_select$lib$BaseSelect$index=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.isMultiple=
exports.default=void 0;var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_slicedToArray2=global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_objectWithoutProperties2=
global(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),_classnames=global(require("module$node_modules$classnames$index")),_useLayoutEffect=global(require("module$node_modules$rc_util$lib$hooks$useLayoutEffect")),_useMergedState3=global(require("module$node_modules$rc_util$lib$hooks$useMergedState")),_isMobile=global(require("module$node_modules$rc_util$lib$isMobile")),_ref2=require("module$node_modules$rc_util$lib$ref"),React=function(e,r){if(!r&&e&&e.__esModule)return e;
if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),_useAllowClear2=require("module$node_modules$rc_select$lib$hooks$useAllowClear"),
_useBaseProps=require("module$node_modules$rc_select$lib$hooks$useBaseProps"),_useDelayReset3=global(require("module$node_modules$rc_select$lib$hooks$useDelayReset")),_useLock3=global(require("module$node_modules$rc_select$lib$hooks$useLock")),_useSelectTriggerControl=global(require("module$node_modules$rc_select$lib$hooks$useSelectTriggerControl")),_Selector=global(require("module$node_modules$rc_select$lib$Selector$index")),_SelectTrigger=global(require("module$node_modules$rc_select$lib$SelectTrigger")),
_TransBtn=global(require("module$node_modules$rc_select$lib$TransBtn")),_valueUtil=require("module$node_modules$rc_select$lib$utils$valueUtil"),_SelectContext=global(require("module$node_modules$rc_select$lib$SelectContext")),_Polite=global(require("module$node_modules$rc_select$lib$BaseSelect$Polite")),_excluded="id prefixCls className showSearch tagRender direction omitDomProps displayValues onDisplayValuesChange emptyOptions notFoundContent onClear mode disabled loading getInputElement getRawInputElement open defaultOpen onDropdownVisibleChange activeValue onActiveValueChange activeDescendantId searchValue autoClearSearchValue onSearch onSearchSplit tokenSeparators allowClear prefix suffixIcon clearIcon OptionList animation transitionName dropdownStyle dropdownClassName dropdownMatchSelectWidth dropdownRender dropdownAlign placement builtinPlacements getPopupContainer showAction onFocus onBlur onKeyUp onKeyDown onMouseDown".split(" "),
DEFAULT_OMIT_PROPS="value onChange removeIcon placeholder autoFocus maxTagCount maxTagTextLength maxTagPlaceholder choiceTransitionName onInputKeyDown onPopupScroll tabIndex".split(" "),isMultiple=exports.isMultiple=function(mode){return"tags"===mode||"multiple"===mode};require=React.forwardRef(function(props,ref){var _customizeRawInputEle,id=props.id,prefixCls=props.prefixCls,className=props.className,showSearch=props.showSearch,tagRender=props.tagRender,direction=props.direction,omitDomProps=props.omitDomProps,
displayValues=props.displayValues,onDisplayValuesChange=props.onDisplayValuesChange,emptyOptions=props.emptyOptions,_props$notFoundConten=props.notFoundContent,notFoundContent=void 0===_props$notFoundConten?"Not Found":_props$notFoundConten,onClear=props.onClear,mode=props.mode,disabled=props.disabled,loading=props.loading,getInputElement=props.getInputElement,getRawInputElement=props.getRawInputElement,open=props.open,defaultOpen=props.defaultOpen,onDropdownVisibleChange=props.onDropdownVisibleChange,
activeValue=props.activeValue,onActiveValueChange=props.onActiveValueChange,activeDescendantId=props.activeDescendantId,searchValue=props.searchValue,autoClearSearchValue=props.autoClearSearchValue,onSearch=props.onSearch,onSearchSplit=props.onSearchSplit,tokenSeparators=props.tokenSeparators,allowClear=props.allowClear,prefix=props.prefix,suffixIcon=props.suffixIcon,clearIcon=props.clearIcon,OptionList=props.OptionList,animation=props.animation,transitionName=props.transitionName,dropdownStyle=props.dropdownStyle,
dropdownClassName=props.dropdownClassName,dropdownMatchSelectWidth=props.dropdownMatchSelectWidth,dropdownRender=props.dropdownRender,dropdownAlign=props.dropdownAlign,placement=props.placement,builtinPlacements=props.builtinPlacements,getPopupContainer=props.getPopupContainer,_props$showAction=props.showAction,showAction=void 0===_props$showAction?[]:_props$showAction,onFocus=props.onFocus,onBlur=props.onBlur,onKeyUp=props.onKeyUp,onKeyDown=props.onKeyDown,onMouseDown=props.onMouseDown,restProps=
(0,_objectWithoutProperties2.default)(props,_excluded),multiple=isMultiple(mode),mergedShowSearch=(void 0!==showSearch?showSearch:multiple)||"combobox"===mode,domProps=(0,_objectSpread2.default)({},restProps);DEFAULT_OMIT_PROPS.forEach(function(propName){delete domProps[propName]});null===omitDomProps||void 0===omitDomProps||omitDomProps.forEach(function(propName){delete domProps[propName]});var _React$useState=React.useState(!1),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),mobile=
_React$useState2[0],setMobile=_React$useState2[1];React.useEffect(function(){setMobile((0,_isMobile.default)())},[]);var containerRef=React.useRef(null),selectorDomRef=React.useRef(null),triggerRef=React.useRef(null),selectorRef=React.useRef(null),listRef=React.useRef(null),blurRef=React.useRef(!1),_useDelayReset=(0,_useDelayReset3.default)(),_useDelayReset2=(0,_slicedToArray2.default)(_useDelayReset,3),mockFocused=_useDelayReset2[0],setMockFocused=_useDelayReset2[1],cancelSetMockFocused=_useDelayReset2[2];
React.useImperativeHandle(ref,function(){var _selectorRef$current,_selectorRef$current2;return{focus:null===(_selectorRef$current=selectorRef.current)||void 0===_selectorRef$current?void 0:_selectorRef$current.focus,blur:null===(_selectorRef$current2=selectorRef.current)||void 0===_selectorRef$current2?void 0:_selectorRef$current2.blur,scrollTo:function(arg){var _listRef$current;return null===(_listRef$current=listRef.current)||void 0===_listRef$current?void 0:_listRef$current.scrollTo(arg)},nativeElement:containerRef.current||
selectorDomRef.current}});var mergedSearchValue=React.useMemo(function(){var _displayValues$;if("combobox"!==mode)return searchValue;var val=null===(_displayValues$=displayValues[0])||void 0===_displayValues$?void 0:_displayValues$.value;return"string"===typeof val||"number"===typeof val?String(val):""},[searchValue,mode,displayValues]),customizeInputElement="combobox"===mode&&"function"===typeof getInputElement&&getInputElement()||null,customizeRawInputElement="function"===typeof getRawInputElement&&
getRawInputElement(),customizeRawInputRef=(0,_ref2.useComposeRef)(selectorDomRef,null===customizeRawInputElement||void 0===customizeRawInputElement||null===(_customizeRawInputEle=customizeRawInputElement.props)||void 0===_customizeRawInputEle?void 0:_customizeRawInputEle.ref),_React$useState3=React.useState(!1),_React$useState4=(0,_slicedToArray2.default)(_React$useState3,2),rendered=_React$useState4[0],setRendered=_React$useState4[1];(0,_useLayoutEffect.default)(function(){setRendered(!0)},[]);var _useMergedState=
(0,_useMergedState3.default)(!1,{defaultValue:defaultOpen,value:open}),_useMergedState2=(0,_slicedToArray2.default)(_useMergedState,2),innerOpen=_useMergedState2[0],setInnerOpen=_useMergedState2[1],mergedOpen=rendered?innerOpen:!1,emptyListContent=!notFoundContent&&emptyOptions;if(disabled||emptyListContent&&mergedOpen&&"combobox"===mode)mergedOpen=!1;var triggerOpen=emptyListContent?!1:mergedOpen,onToggleOpen=React.useCallback(function(newOpen){newOpen=void 0!==newOpen?newOpen:!mergedOpen;disabled||
(setInnerOpen(newOpen),mergedOpen===newOpen||null!==onDropdownVisibleChange&&void 0!==onDropdownVisibleChange&&onDropdownVisibleChange(newOpen))},[disabled,mergedOpen,setInnerOpen,onDropdownVisibleChange]),tokenWithEnter=React.useMemo(function(){return(tokenSeparators||[]).some(function(tokenSeparator){return["\n","\r\n"].includes(tokenSeparator)})},[tokenSeparators]),_ref=React.useContext(_SelectContext.default)||{},maxCount=_ref.maxCount,rawValues=_ref.rawValues,onInternalSearch=function(searchText,
fromTyping,isCompositing){if(!(multiple&&(0,_valueUtil.isValidCount)(maxCount)&&(null===rawValues||void 0===rawValues?void 0:rawValues.size)>=maxCount)){var ret=!0,newSearchText=searchText;null===onActiveValueChange||void 0===onActiveValueChange||onActiveValueChange(null);searchText=(0,_valueUtil.getSeparatedContent)(searchText,tokenSeparators,(0,_valueUtil.isValidCount)(maxCount)?maxCount-rawValues.size:void 0);isCompositing=isCompositing?null:searchText;"combobox"!==mode&&isCompositing&&(newSearchText=
"",null===onSearchSplit||void 0===onSearchSplit||onSearchSplit(isCompositing),onToggleOpen(!1),ret=!1);onSearch&&mergedSearchValue!==newSearchText&&onSearch(newSearchText,{source:fromTyping?"typing":"effect"});return ret}},onInternalSearchSubmit=function(searchText){searchText&&searchText.trim()&&onSearch(searchText,{source:"submit"})};React.useEffect(function(){mergedOpen||multiple||"combobox"===mode||onInternalSearch("",!1,!1)},[mergedOpen]);React.useEffect(function(){innerOpen&&disabled&&setInnerOpen(!1);
disabled&&!blurRef.current&&setMockFocused(!1)},[disabled]);var _useLock=(0,_useLock3.default)(),_useLock2=(0,_slicedToArray2.default)(_useLock,2),getClearLock=_useLock2[0],setClearLock=_useLock2[1],keyLockRef=React.useRef(!1),onInternalKeyDown=function(event){var clearLock=getClearLock(),key=event.key,isEnterKey="Enter"===key;isEnterKey&&("combobox"!==mode&&event.preventDefault(),mergedOpen||onToggleOpen(!0));setClearLock(!!mergedSearchValue);if("Backspace"===key&&!clearLock&&multiple&&!mergedSearchValue&&
displayValues.length){clearLock=(0,_toConsumableArray2.default)(displayValues);key=null;for(var i=clearLock.length-1;0<=i;--i){var current=clearLock[i];if(!current.disabled){clearLock.splice(i,1);key=current;break}}key&&onDisplayValuesChange(clearLock,{type:"remove",values:[key]})}clearLock=arguments.length;key=Array(1<clearLock?clearLock-1:0);for(i=1;i<clearLock;i++)key[i-1]=arguments[i];if(mergedOpen&&(!isEnterKey||!keyLockRef.current)){var _listRef$current2;isEnterKey&&(keyLockRef.current=!0);
null===(_listRef$current2=listRef.current)||void 0===_listRef$current2||_listRef$current2.onKeyDown.apply(_listRef$current2,[event].concat(key))}null===onKeyDown||void 0===onKeyDown||onKeyDown.apply(void 0,[event].concat(key))},onInternalKeyUp=function(event){for(var _len2=arguments.length,rest=Array(1<_len2?_len2-1:0),_key2=1;_key2<_len2;_key2++)rest[_key2-1]=arguments[_key2];if(mergedOpen){var _listRef$current3;null===(_listRef$current3=listRef.current)||void 0===_listRef$current3||_listRef$current3.onKeyUp.apply(_listRef$current3,
[event].concat(rest))}"Enter"===event.key&&(keyLockRef.current=!1);null===onKeyUp||void 0===onKeyUp||onKeyUp.apply(void 0,[event].concat(rest))},onSelectorRemove=function(val){var newValues=displayValues.filter(function(i){return i!==val});onDisplayValuesChange(newValues,{type:"remove",values:[val]})},onInputBlur=function(){keyLockRef.current=!1},focusRef=React.useRef(!1),onContainerFocus=function(){setMockFocused(!0);disabled||(onFocus&&!focusRef.current&&onFocus.apply(void 0,arguments),showAction.includes("focus")&&
onToggleOpen(!0));focusRef.current=!0},onContainerBlur=function(){blurRef.current=!0;setMockFocused(!1,function(){focusRef.current=!1;blurRef.current=!1;onToggleOpen(!1)});disabled||(mergedSearchValue&&("tags"===mode?onSearch(mergedSearchValue,{source:"submit"}):"multiple"===mode&&onSearch("",{source:"blur"})),onBlur&&onBlur.apply(void 0,arguments))},activeTimeoutIds=[];React.useEffect(function(){return function(){activeTimeoutIds.forEach(function(timeoutId){return clearTimeout(timeoutId)});activeTimeoutIds.splice(0,
activeTimeoutIds.length)}},[]);var onInternalMouseDown=function(event){var _triggerRef$current,target=event.target,popupElement=null===(_triggerRef$current=triggerRef.current)||void 0===_triggerRef$current?void 0:_triggerRef$current.getPopupElement();if(popupElement&&popupElement.contains(target)){var timeoutId=setTimeout(function(){var index=activeTimeoutIds.indexOf(timeoutId);-1!==index&&activeTimeoutIds.splice(index,1);cancelSetMockFocused();if(!mobile&&!popupElement.contains(document.activeElement)){var _selectorRef$current3;
null===(_selectorRef$current3=selectorRef.current)||void 0===_selectorRef$current3||_selectorRef$current3.focus()}});activeTimeoutIds.push(timeoutId)}_triggerRef$current=arguments.length;target=Array(1<_triggerRef$current?_triggerRef$current-1:0);for(var _key3=1;_key3<_triggerRef$current;_key3++)target[_key3-1]=arguments[_key3];null===onMouseDown||void 0===onMouseDown||onMouseDown.apply(void 0,[event].concat(target))},_React$useState5=React.useState({}),forceUpdate=(0,_slicedToArray2.default)(_React$useState5,
2)[1],onTriggerVisibleChange;customizeRawInputElement&&(onTriggerVisibleChange=function(newOpen){onToggleOpen(newOpen)});(0,_useSelectTriggerControl.default)(function(){var _triggerRef$current2;return[containerRef.current,null===(_triggerRef$current2=triggerRef.current)||void 0===_triggerRef$current2?void 0:_triggerRef$current2.getPopupElement()]},triggerOpen,onToggleOpen,!!customizeRawInputElement);var baseSelectContext=React.useMemo(function(){return(0,_objectSpread2.default)((0,_objectSpread2.default)({},
props),{},{notFoundContent,open:mergedOpen,triggerOpen,id,showSearch:mergedShowSearch,multiple,toggleOpen:onToggleOpen})},[props,notFoundContent,triggerOpen,mergedOpen,id,mergedShowSearch,multiple,onToggleOpen]),showSuffixIcon=!!suffixIcon||loading,arrowNode;showSuffixIcon&&(arrowNode=React.createElement(_TransBtn.default,{className:(0,_classnames.default)("".concat(prefixCls,"-arrow"),(0,_defineProperty2.default)({},"".concat(prefixCls,"-arrow-loading"),loading)),customizeIcon:suffixIcon,customizeIconProps:{loading,
searchValue:mergedSearchValue,open:mergedOpen,focused:mockFocused,showSearch:mergedShowSearch}}));var _useAllowClear=(0,_useAllowClear2.useAllowClear)(prefixCls,function(){var _selectorRef$current4;null===onClear||void 0===onClear||onClear();null===(_selectorRef$current4=selectorRef.current)||void 0===_selectorRef$current4||_selectorRef$current4.focus();onDisplayValuesChange([],{type:"clear",values:displayValues});onInternalSearch("",!1,!1)},displayValues,allowClear,clearIcon,disabled,mergedSearchValue,
mode),mergedAllowClear=_useAllowClear.allowClear,clearNode=_useAllowClear.clearIcon,optionList=React.createElement(OptionList,{ref:listRef}),mergedClassName=(0,_classnames.default)(prefixCls,className,(0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)({},"".concat(prefixCls,
"-focused"),mockFocused),"".concat(prefixCls,"-multiple"),multiple),"".concat(prefixCls,"-single"),!multiple),"".concat(prefixCls,"-allow-clear"),allowClear),"".concat(prefixCls,"-show-arrow"),showSuffixIcon),"".concat(prefixCls,"-disabled"),disabled),"".concat(prefixCls,"-loading"),loading),"".concat(prefixCls,"-open"),mergedOpen),"".concat(prefixCls,"-customize-input"),customizeInputElement),"".concat(prefixCls,"-show-search"),mergedShowSearch)),selectorNode=React.createElement(_SelectTrigger.default,
{ref:triggerRef,disabled,prefixCls,visible:triggerOpen,popupElement:optionList,animation,transitionName,dropdownStyle,dropdownClassName,direction,dropdownMatchSelectWidth,dropdownRender,dropdownAlign,placement,builtinPlacements,getPopupContainer,empty:emptyOptions,getTriggerDOMNode:function(node){return selectorDomRef.current||node},onPopupVisibleChange:onTriggerVisibleChange,onPopupMouseEnter:function(){forceUpdate({})}},customizeRawInputElement?React.cloneElement(customizeRawInputElement,{ref:customizeRawInputRef}):
React.createElement(_Selector.default,(0,_extends2.default)({},props,{domRef:selectorDomRef,prefixCls,inputElement:customizeInputElement,ref:selectorRef,id,prefix,showSearch:mergedShowSearch,autoClearSearchValue,mode,activeDescendantId,tagRender,values:displayValues,open:mergedOpen,onToggleOpen,activeValue,searchValue:mergedSearchValue,onSearch:onInternalSearch,onSearchSubmit:onInternalSearchSubmit,onRemove:onSelectorRemove,tokenWithEnter,onInputBlur})));var renderNode=customizeRawInputElement?selectorNode:
React.createElement("div",(0,_extends2.default)({className:mergedClassName},domProps,{ref:containerRef,onMouseDown:onInternalMouseDown,onKeyDown:onInternalKeyDown,onKeyUp:onInternalKeyUp,onFocus:onContainerFocus,onBlur:onContainerBlur}),React.createElement(_Polite.default,{visible:mockFocused&&!mergedOpen,values:displayValues}),selectorNode,arrowNode,mergedAllowClear&&clearNode);return React.createElement(_useBaseProps.BaseSelectContext.Provider,{value:baseSelectContext},renderNode)});require.displayName=
"BaseSelect";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_select$lib$BaseSelect$index.js.map
