{
"version":3,
"file":"module$node_modules$rc_dropdown$lib$hooks$useAccessibility.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/rc-dropdown/lib/hooks/useAccessibility.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_dropdown$lib$hooks$useAccessibility\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useAccessibility;\nvar _KeyCode = _interopRequireDefault(require(\"rc-util/lib/KeyCode\"));\nvar _raf = _interopRequireDefault(require(\"rc-util/lib/raf\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar ESC = _KeyCode.default.ESC,\n  TAB = _KeyCode.default.TAB;\nfunction useAccessibility(_ref) {\n  var visible = _ref.visible,\n    triggerRef = _ref.triggerRef,\n    onVisibleChange = _ref.onVisibleChange,\n    autoFocus = _ref.autoFocus,\n    overlayRef = _ref.overlayRef;\n  var focusMenuRef = React.useRef(false);\n  var handleCloseMenuAndReturnFocus = function handleCloseMenuAndReturnFocus() {\n    if (visible) {\n      var _triggerRef$current, _triggerRef$current$f;\n      (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 || (_triggerRef$current$f = _triggerRef$current.focus) === null || _triggerRef$current$f === void 0 || _triggerRef$current$f.call(_triggerRef$current);\n      onVisibleChange === null || onVisibleChange === void 0 || onVisibleChange(false);\n    }\n  };\n  var focusMenu = function focusMenu() {\n    var _overlayRef$current;\n    if ((_overlayRef$current = overlayRef.current) !== null && _overlayRef$current !== void 0 && _overlayRef$current.focus) {\n      overlayRef.current.focus();\n      focusMenuRef.current = true;\n      return true;\n    }\n    return false;\n  };\n  var handleKeyDown = function handleKeyDown(event) {\n    switch (event.keyCode) {\n      case ESC:\n        handleCloseMenuAndReturnFocus();\n        break;\n      case TAB:\n        {\n          var focusResult = false;\n          if (!focusMenuRef.current) {\n            focusResult = focusMenu();\n          }\n          if (focusResult) {\n            event.preventDefault();\n          } else {\n            handleCloseMenuAndReturnFocus();\n          }\n          break;\n        }\n    }\n  };\n  React.useEffect(function () {\n    if (visible) {\n      window.addEventListener(\"keydown\", handleKeyDown);\n      if (autoFocus) {\n        // FIXME: hack with raf\n        (0, _raf.default)(focusMenu, 3);\n      }\n      return function () {\n        window.removeEventListener(\"keydown\", handleKeyDown);\n        focusMenuRef.current = false;\n      };\n    }\n    return function () {\n      focusMenuRef.current = false;\n    };\n  }, [visible]); // eslint-disable-line react-hooks/exhaustive-deps\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","value","useAccessibility","_ref","visible","triggerRef","onVisibleChange","autoFocus","overlayRef","focusMenuRef","React","useRef","handleCloseMenuAndReturnFocus","_triggerRef$current","_triggerRef$current$f","current","focus","call","focusMenu","_overlayRef$current","handleKeyDown","event","keyCode","ESC","TAB","focusResult","preventDefault","useEffect","window","addEventListener","_raf","removeEventListener","_KeyCode"]
}
