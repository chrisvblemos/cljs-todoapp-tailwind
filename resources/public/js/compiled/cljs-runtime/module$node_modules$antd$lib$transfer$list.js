shadow$provide.module$node_modules$antd$lib$transfer$list=function(global,require,module,exports){function getEnabledItemKeys(items){return items.filter(data=>!data.disabled).map(data=>data.key)}"use client";global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault").default;module=require("module$node_modules$$babel$runtime$helpers$interopRequireWildcard").default;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _react=module(require("module$node_modules$react$index")),
_DownOutlined=global(require("module$node_modules$$ant_design$icons$DownOutlined")),_classnames=global(require("module$node_modules$classnames$index")),_omit=global(require("module$node_modules$rc_util$lib$omit")),_transKeys=require("module$node_modules$antd$lib$_util$transKeys"),_checkbox=global(require("module$node_modules$antd$lib$checkbox$index")),_dropdown=global(require("module$node_modules$antd$lib$dropdown$index")),_ListBody=module(require("module$node_modules$antd$lib$transfer$ListBody")),
_search=global(require("module$node_modules$antd$lib$transfer$search"));const defaultRender=()=>null;require=props=>{const {prefixCls,dataSource=[],titleText="",checkedKeys,disabled,showSearch=!1,style,searchPlaceholder,notFoundContent,selectAll,deselectAll,selectCurrent,selectInvert,removeAll,removeCurrent,showSelectAll=!0,showRemove,pagination,direction,itemsUnit,itemUnit,selectAllLabel,selectionsIcon,footer,renderList,onItemSelectAll,onItemRemove,handleFilter,handleClear,filterOption,render=defaultRender}=
props;var JSCompiler_inline_result=showSearch&&"object"===typeof showSearch?Object.assign(Object.assign({},showSearch),{defaultValue:showSearch.defaultValue||""}):{defaultValue:"",placeholder:""};const [filterValue,setFilterValue]=(0,_react.useState)(JSCompiler_inline_result.defaultValue),listBodyRef=(0,_react.useRef)({}),internalHandleFilter=e=>{setFilterValue(e.target.value);handleFilter(e)},internalHandleClear=()=>{setFilterValue("");handleClear()},renderListBody=listProps=>{let bodyContent=renderList?
renderList(Object.assign(Object.assign({},listProps),{onItemSelect:(key,check)=>listProps.onItemSelect(key,check)})):null;const customize=!!bodyContent;customize||(bodyContent=_react.default.createElement(_ListBody.default,Object.assign({ref:listBodyRef},listProps)));return{customize,bodyContent}},notFoundContentEle=(0,_react.useMemo)(()=>Array.isArray(notFoundContent)?notFoundContent["left"===direction?0:1]:notFoundContent,[notFoundContent,direction]),[filteredItems,filteredRenderItems]=(0,_react.useMemo)(()=>
{const filterItems=[],filterRenderItems=[];dataSource.forEach(item=>{var JSCompiler_inline_result=render(item);var isRenderResultPlain=!(!JSCompiler_inline_result||_react.default.isValidElement(JSCompiler_inline_result)||"[object Object]"!==Object.prototype.toString.call(JSCompiler_inline_result));JSCompiler_inline_result={item,renderedEl:isRenderResultPlain?JSCompiler_inline_result.label:JSCompiler_inline_result,renderedText:isRenderResultPlain?JSCompiler_inline_result.value:JSCompiler_inline_result};
if(isRenderResultPlain=filterValue)isRenderResultPlain=JSCompiler_inline_result.renderedText,isRenderResultPlain=filterOption?filterOption(filterValue,item,direction):isRenderResultPlain.includes(filterValue),isRenderResultPlain=!isRenderResultPlain;isRenderResultPlain||(filterItems.push(item),filterRenderItems.push(JSCompiler_inline_result))});return[filterItems,filterRenderItems]},[dataSource,filterValue]),checkedActiveItems=(0,_react.useMemo)(()=>filteredItems.filter(item=>checkedKeys.includes(item.key)&&
!item.disabled),[checkedKeys,filteredItems]),checkStatus=(0,_react.useMemo)(()=>{if(0===checkedActiveItems.length)return"none";const checkedKeysMap=(0,_transKeys.groupKeysMap)(checkedKeys);return filteredItems.every(item=>checkedKeysMap.has(item.key)||!!item.disabled)?"all":"part"},[checkedKeys,checkedActiveItems]),listBody=(0,_react.useMemo)(()=>{const search=showSearch?_react.default.createElement("div",{className:`${prefixCls}-body-search-wrapper`},_react.default.createElement(_search.default,
{prefixCls:`${prefixCls}-search`,onChange:internalHandleFilter,handleClear:internalHandleClear,placeholder:JSCompiler_inline_result.placeholder||searchPlaceholder,value:filterValue,disabled})):null,{customize,bodyContent}=renderListBody(Object.assign(Object.assign({},(0,_omit.default)(props,_ListBody.OmitProps)),{filteredItems,filteredRenderItems,selectedKeys:checkedKeys}));let bodyNode;bodyNode=customize?_react.default.createElement("div",{className:`${prefixCls}-body-customize-wrapper`},bodyContent):
filteredItems.length?bodyContent:_react.default.createElement("div",{className:`${prefixCls}-body-not-found`},notFoundContentEle);return _react.default.createElement("div",{className:(0,_classnames.default)(`${prefixCls}-body`,{[`${prefixCls}-body-with-search`]:showSearch})},search,bodyNode)},[showSearch,prefixCls,searchPlaceholder,filterValue,disabled,checkedKeys,filteredItems,filteredRenderItems,notFoundContentEle]);var checkBox=_react.default.createElement(_checkbox.default,{disabled:0===dataSource.filter(d=>
!d.disabled).length||disabled,checked:"all"===checkStatus,indeterminate:"part"===checkStatus,className:`${prefixCls}-checkbox`,onChange:()=>{null===onItemSelectAll||void 0===onItemSelectAll?void 0:onItemSelectAll(filteredItems.filter(item=>!item.disabled).map(_ref=>{({key:_ref}=_ref);return _ref}),"all"!==checkStatus)}}),footerDom=footer&&(2>footer.length?footer(props):footer(props,{direction}));const listCls=(0,_classnames.default)(prefixCls,{[`${prefixCls}-with-pagination`]:!!pagination,[`${prefixCls}-with-footer`]:!!footerDom});
footerDom=footerDom?_react.default.createElement("div",{className:`${prefixCls}-footer`},footerDom):null;checkBox=!showRemove&&!pagination&&checkBox;var items=showRemove?[pagination?{key:"removeCurrent",label:removeCurrent,onClick(){var _a;const pageKeys=getEnabledItemKeys(((null===(_a=listBodyRef.current)||void 0===_a?void 0:_a.items)||[]).map(entity=>entity.item));null===onItemRemove||void 0===onItemRemove?void 0:onItemRemove(pageKeys)}}:null,{key:"removeAll",label:removeAll,onClick(){null===onItemRemove||
void 0===onItemRemove?void 0:onItemRemove(getEnabledItemKeys(filteredItems))}}].filter(Boolean):[{key:"selectAll",label:"all"===checkStatus?deselectAll:selectAll,onClick(){const keys=getEnabledItemKeys(filteredItems);null===onItemSelectAll||void 0===onItemSelectAll?void 0:onItemSelectAll(keys,keys.length!==checkedKeys.length)}},pagination?{key:"selectCurrent",label:selectCurrent,onClick(){var _a;const pageItems=(null===(_a=listBodyRef.current)||void 0===_a?void 0:_a.items)||[];null===onItemSelectAll||
void 0===onItemSelectAll?void 0:onItemSelectAll(getEnabledItemKeys(pageItems.map(entity=>entity.item)),!0)}}:null,{key:"selectInvert",label:selectInvert,onClick(){var _a;const availablePageItemKeys=getEnabledItemKeys(((null===(_a=listBodyRef.current)||void 0===_a?void 0:_a.items)||[]).map(entity=>entity.item)),checkedKeySet=new Set(checkedKeys),newCheckedKeysSet=new Set(checkedKeySet);availablePageItemKeys.forEach(key=>{checkedKeySet.has(key)?newCheckedKeysSet.delete(key):newCheckedKeysSet.add(key)});
null===onItemSelectAll||void 0===onItemSelectAll?void 0:onItemSelectAll(Array.from(newCheckedKeysSet),"replace")}}];items=_react.default.createElement(_dropdown.default,{className:`${prefixCls}-header-dropdown`,menu:{items},disabled},void 0!==selectionsIcon?selectionsIcon:_react.default.createElement(_DownOutlined.default,null));return _react.default.createElement("div",{className:listCls,style},_react.default.createElement("div",{className:`${prefixCls}-header`},showSelectAll?_react.default.createElement(_react.default.Fragment,
null,checkBox,items):null,_react.default.createElement("span",{className:`${prefixCls}-header-selected`},((selectedCount,totalCount)=>selectAllLabel?"function"===typeof selectAllLabel?selectAllLabel({selectedCount,totalCount}):selectAllLabel:_react.default.createElement(_react.default.Fragment,null,(0<selectedCount?`${selectedCount}/`:"")+totalCount," ",1<totalCount?itemsUnit:itemUnit))(checkedActiveItems.length,filteredItems.length)),_react.default.createElement("span",{className:`${prefixCls}-header-title`},
titleText)),listBody,footerDom)};require.displayName="TransferList";exports.default=require}
//# sourceMappingURL=module$node_modules$antd$lib$transfer$list.js.map
