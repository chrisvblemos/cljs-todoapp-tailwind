{
"version":3,
"file":"module$node_modules$$ant_design$cssinjs$lib$hooks$useGlobalCache.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/@ant-design/cssinjs/lib/hooks/useGlobalCache.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$ant_design$cssinjs$lib$hooks$useGlobalCache\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useGlobalCache;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _Cache = require(\"../Cache\");\nvar _StyleContext = _interopRequireDefault(require(\"../StyleContext\"));\nvar _useCompatibleInsertionEffect = _interopRequireDefault(require(\"./useCompatibleInsertionEffect\"));\nvar _useEffectCleanupRegister = _interopRequireDefault(require(\"./useEffectCleanupRegister\"));\nvar _useHMR = _interopRequireDefault(require(\"./useHMR\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction useGlobalCache(prefix, keyPath, cacheFn, onCacheRemove,\n// Add additional effect trigger by `useInsertionEffect`\nonCacheEffect) {\n  var _React$useContext = React.useContext(_StyleContext.default),\n    globalCache = _React$useContext.cache;\n  var fullPath = [prefix].concat((0, _toConsumableArray2.default)(keyPath));\n  var fullPathStr = (0, _Cache.pathKey)(fullPath);\n  var register = (0, _useEffectCleanupRegister.default)([fullPathStr]);\n  var HMRUpdate = (0, _useHMR.default)();\n  var buildCache = function buildCache(updater) {\n    globalCache.opUpdate(fullPathStr, function (prevCache) {\n      var _ref = prevCache || [undefined, undefined],\n        _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n        _ref2$ = _ref2[0],\n        times = _ref2$ === void 0 ? 0 : _ref2$,\n        cache = _ref2[1];\n\n      // HMR should always ignore cache since developer may change it\n      var tmpCache = cache;\n      if (process.env.NODE_ENV !== 'production' && cache && HMRUpdate) {\n        onCacheRemove === null || onCacheRemove === void 0 || onCacheRemove(tmpCache, HMRUpdate);\n        tmpCache = null;\n      }\n      var mergedCache = tmpCache || cacheFn();\n      var data = [times, mergedCache];\n\n      // Call updater if need additional logic\n      return updater ? updater(data) : data;\n    });\n  };\n\n  // Create cache\n  React.useMemo(function () {\n    buildCache();\n  }, /* eslint-disable react-hooks/exhaustive-deps */\n  [fullPathStr]\n  /* eslint-enable */);\n\n  var cacheEntity = globalCache.opGet(fullPathStr);\n\n  // HMR clean the cache but not trigger `useMemo` again\n  // Let's fallback of this\n  // ref https://github.com/ant-design/cssinjs/issues/127\n  if (process.env.NODE_ENV !== 'production' && !cacheEntity) {\n    buildCache();\n    cacheEntity = globalCache.opGet(fullPathStr);\n  }\n  var cacheContent = cacheEntity[1];\n\n  // Remove if no need anymore\n  (0, _useCompatibleInsertionEffect.default)(function () {\n    onCacheEffect === null || onCacheEffect === void 0 || onCacheEffect(cacheContent);\n  }, function (polyfill) {\n    // It's bad to call build again in effect.\n    // But we have to do this since StrictMode will call effect twice\n    // which will clear cache on the first time.\n    buildCache(function (_ref3) {\n      var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n        times = _ref4[0],\n        cache = _ref4[1];\n      if (polyfill && times === 0) {\n        onCacheEffect === null || onCacheEffect === void 0 || onCacheEffect(cacheContent);\n      }\n      return [times + 1, cache];\n    });\n    return function () {\n      globalCache.opUpdate(fullPathStr, function (prevCache) {\n        var _ref5 = prevCache || [],\n          _ref6 = (0, _slicedToArray2.default)(_ref5, 2),\n          _ref6$ = _ref6[0],\n          times = _ref6$ === void 0 ? 0 : _ref6$,\n          cache = _ref6[1];\n        var nextCount = times - 1;\n        if (nextCount === 0) {\n          // Always remove styles in useEffect callback\n          register(function () {\n            // With polyfill, registered callback will always be called synchronously\n            // But without polyfill, it will be called in effect clean up,\n            // And by that time this cache is cleaned up.\n            if (polyfill || !globalCache.opGet(fullPathStr)) {\n              onCacheRemove === null || onCacheRemove === void 0 || onCacheRemove(cache, false);\n            }\n          });\n          return null;\n        }\n        return [times - 1, cache];\n      });\n    };\n  }, [fullPathStr]);\n  return cacheContent;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","e","WeakMap","r","t","_interopRequireDefault","_typeof","Object","defineProperty","value","default","useGlobalCache","prefix","keyPath","cacheFn","onCacheRemove","onCacheEffect","globalCache","React","useContext","_React$useContext","_StyleContext","cache","fullPath","concat","_toConsumableArray2","fullPathStr","_Cache","pathKey","register","_useEffectCleanupRegister","HMRUpdate","_useHMR","buildCache","updater","opUpdate","prevCache","_ref2","_slicedToArray2","undefined","_ref2$","times","tmpCache","mergedCache","data","useMemo","cacheEntity","opGet","cacheContent","_useCompatibleInsertionEffect","polyfill","_ref3","_ref4","_ref6","_ref6$","_interopRequireWildcard","__esModule","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set"]
}
