shadow$provide.module$node_modules$rc_notification$lib$NoticeList=function(global,require,module,exports){function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");var _typeof=require("module$node_modules$$babel$runtime$helpers$typeof");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=
void 0;var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),_toConsumableArray2=global(require("module$node_modules$$babel$runtime$helpers$toConsumableArray")),_objectSpread2=global(require("module$node_modules$$babel$runtime$helpers$objectSpread2")),_objectWithoutProperties2=global(require("module$node_modules$$babel$runtime$helpers$objectWithoutProperties")),_defineProperty2=global(require("module$node_modules$$babel$runtime$helpers$defineProperty")),_slicedToArray2=
global(require("module$node_modules$$babel$runtime$helpers$slicedToArray")),_react=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};if((r=_getRequireWildcardCache(r))&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,
u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}(require("module$node_modules$react$index")),_classnames=global(require("module$node_modules$classnames$index")),_rcMotion=require("module$node_modules$rc_motion$lib$index"),_Notice=global(require("module$node_modules$rc_notification$lib$Notice")),_NotificationProvider=require("module$node_modules$rc_notification$lib$NotificationProvider"),_useStack3=global(require("module$node_modules$rc_notification$lib$hooks$useStack")),_excluded=["className","style",
"classNames","styles"];require=function(props){var configList=props.configList,placement=props.placement,prefixCls=props.prefixCls,className=props.className,style=props.style,motion=props.motion,onAllNoticeRemoved=props.onAllNoticeRemoved,onNoticeClose=props.onNoticeClose;props=props.stack;var ctxCls=(0,_react.useContext)(_NotificationProvider.NotificationContext).classNames,dictRef=(0,_react.useRef)({}),_useState=(0,_react.useState)(null);_useState=(0,_slicedToArray2.default)(_useState,2);var latestNotice=
_useState[0],setLatestNotice=_useState[1];_useState=(0,_react.useState)([]);_useState=(0,_slicedToArray2.default)(_useState,2);var hoverKeys=_useState[0],setHoverKeys=_useState[1],keys=configList.map(function(config){return{config,key:String(config.key)}});configList=(0,_useStack3.default)(props);configList=(0,_slicedToArray2.default)(configList,2);var stack=configList[0];configList=configList[1];var offset=configList.offset;props=configList.threshold;var gap=configList.gap,expanded=stack&&(0<hoverKeys.length||
keys.length<=props);motion="function"===typeof motion?motion(placement):motion;(0,_react.useEffect)(function(){stack&&1<hoverKeys.length&&setHoverKeys(function(prev){return prev.filter(function(key){return keys.some(function(_ref){return key===_ref.key})})})},[hoverKeys,keys,stack]);(0,_react.useEffect)(function(){var _keys;if(stack&&dictRef.current[null===(_keys=keys[keys.length-1])||void 0===_keys?void 0:_keys.key]){var _keys2;setLatestNotice(dictRef.current[null===(_keys2=keys[keys.length-1])||
void 0===_keys2?void 0:_keys2.key])}},[keys,stack]);return _react.default.createElement(_rcMotion.CSSMotionList,(0,_extends2.default)({key:placement,className:(0,_classnames.default)(prefixCls,"".concat(prefixCls,"-").concat(placement),null===ctxCls||void 0===ctxCls?void 0:ctxCls.list,className,(0,_defineProperty2.default)((0,_defineProperty2.default)({},"".concat(prefixCls,"-stack"),!!stack),"".concat(prefixCls,"-stack-expanded"),expanded)),style,keys,motionAppear:!0},motion,{onAllRemoved:function(){onAllNoticeRemoved(placement)}}),
function(_ref2,nodeRef){var config=_ref2.config,motionClassName=_ref2.className,motionStyle=_ref2.style,motionIndex=_ref2.index;_ref2=config.key;var times=config.times,strKey=String(_ref2),configClassName=config.className,configStyle=config.style,configClassNames=config.classNames,configStyles=config.styles;config=(0,_objectWithoutProperties2.default)(config,_excluded);var dataIndex=keys.findIndex(function(item){return item.key===strKey}),stackStyle={};if(stack){motionIndex=keys.length-1-(-1<dataIndex?
dataIndex:motionIndex-1);var transformX="top"===placement||"bottom"===placement?"-50%":"0";if(0<motionIndex){var _dictRef$current$strK,_dictRef$current$strK2,_dictRef$current$strK3;stackStyle.height=expanded?null===(_dictRef$current$strK=dictRef.current[strKey])||void 0===_dictRef$current$strK?void 0:_dictRef$current$strK.offsetHeight:null===latestNotice||void 0===latestNotice?void 0:latestNotice.offsetHeight;for(var i=_dictRef$current$strK=0;i<motionIndex;i++){var _dictRef$current$keys;_dictRef$current$strK+=
(null===(_dictRef$current$keys=dictRef.current[keys[keys.length-1-i].key])||void 0===_dictRef$current$keys?void 0:_dictRef$current$keys.offsetHeight)+gap}_dictRef$current$keys=(expanded?_dictRef$current$strK:motionIndex*offset)*(placement.startsWith("top")?1:-1);_dictRef$current$strK=!expanded&&null!==latestNotice&&void 0!==latestNotice&&latestNotice.offsetWidth&&null!==(_dictRef$current$strK2=dictRef.current[strKey])&&void 0!==_dictRef$current$strK2&&_dictRef$current$strK2.offsetWidth?((null===latestNotice||
void 0===latestNotice?NaN:latestNotice.offsetWidth)-2*offset*(3>motionIndex?motionIndex:3))/(null===(_dictRef$current$strK3=dictRef.current[strKey])||void 0===_dictRef$current$strK3?NaN:_dictRef$current$strK3.offsetWidth):1;stackStyle.transform="translate3d(".concat(transformX,", ").concat(_dictRef$current$keys,"px, 0) scaleX(").concat(_dictRef$current$strK,")")}else stackStyle.transform="translate3d(".concat(transformX,", 0, 0)")}return _react.default.createElement("div",{ref:nodeRef,className:(0,_classnames.default)("".concat(prefixCls,
"-notice-wrapper"),motionClassName,null===configClassNames||void 0===configClassNames?void 0:configClassNames.wrapper),style:(0,_objectSpread2.default)((0,_objectSpread2.default)((0,_objectSpread2.default)({},motionStyle),stackStyle),null===configStyles||void 0===configStyles?void 0:configStyles.wrapper),onMouseEnter:function(){return setHoverKeys(function(prev){return prev.includes(strKey)?prev:[].concat((0,_toConsumableArray2.default)(prev),[strKey])})},onMouseLeave:function(){return setHoverKeys(function(prev){return prev.filter(function(k){return k!==
strKey})})}},_react.default.createElement(_Notice.default,(0,_extends2.default)({},config,{ref:function(node){-1<dataIndex?dictRef.current[strKey]=node:delete dictRef.current[strKey]},prefixCls,classNames:configClassNames,styles:configStyles,className:(0,_classnames.default)(configClassName,null===ctxCls||void 0===ctxCls?void 0:ctxCls.notice),style:configStyle,times,key:_ref2,eventKey:_ref2,onNoticeClose,hovering:stack&&0<hoverKeys.length})))})};require.displayName="NoticeList";exports.default=require}
//# sourceMappingURL=module$node_modules$rc_notification$lib$NoticeList.js.map
