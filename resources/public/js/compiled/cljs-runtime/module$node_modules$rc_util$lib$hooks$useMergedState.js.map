{
"version":3,
"file":"module$node_modules$rc_util$lib$hooks$useMergedState.js",
"lineCount":4,
"mappings":"AAAAA,cAAA,CAAA,oDAAA,CAAyE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAG7GC,MAAAA,CAAyBH,OAAA,CAAQ,kEAAR,CAAwDI,CAAAA,OACrFC,OAAOC,CAAAA,cAAP,CAAsBJ,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CK,MAAO,CAAA,CADoC,CAA7C,CAGAL,QAAQE,CAAAA,OAAR,CAcAI,QAAuB,CAACC,iBAAD,CAAoBC,MAApB,CAA4B,CAAA,IAC7CC,KAAOD,MAAPC,EAAiB,EAD4B,CAE/CC,aAAeD,IAAKC,CAAAA,YAF2B,CAG/CL,MAAQI,IAAKJ,CAAAA,KACbM,OAAAA,CAAWF,IAAKE,CAAAA,QAChBC,KAAAA,CAAYH,IAAKG,CAAAA,SAL8B,KAQ7CC,UAAY,GAAIC,UAAWZ,CAAAA,OAAf,EAAwB,QAAS,EAAG,CAChD,MAhBaa,KAAAA,EAgBb,GAAaV,KAAb,CACSA,KADT,CAhBaU,IAAAA,EAkBN,GAAaL,YAAb;AAC0B,UAAxB,GAAA,MAAOA,aAAP,CAAqCA,YAAA,EAArC,CAAsDA,YADxD,CAG+B,UAA7B,GAAA,MAAOH,kBAAP,CAA0CA,iBAAA,EAA1C,CAAgEA,iBANzB,CAApC,CASdS,UAAAA,CAAa,GAAIC,eAAgBf,CAAAA,OAApB,EAA6BW,SAA7B,CAAwC,CAAxC,CAjBkC,KAkB/CK,WAAaF,SAAA,CAAW,CAAX,CAlBkC,CAmB/CG,cAAgBH,SAAA,CAAW,CAAX,CAnB+B,CAoB7CI,YAAwBL,IAAAA,EAAV,GAAAV,KAAA,CAAsBA,KAAtB,CAA8Ba,UAC5CG,KAAAA,CAAkBT,IAAA,CAAYA,IAAA,CAAUQ,WAAV,CAAZ,CAAqCA,WAG3D,KAAIE,WAAa,GAAIC,SAAUrB,CAAAA,OAAd,EAAuBS,MAAvB,CACba,OAAAA,CAAa,GAAIV,UAAWZ,CAAAA,OAAf,EAAwB,CAACkB,WAAD,CAAxB,CACfK,OAAAA,CAAa,GAAIR,eAAgBf,CAAAA,OAApB,EAA6BsB,MAA7B,CAAyC,CAAzC,CA1BkC,KA2B/CE,UAAYD,MAAA,CAAW,CAAX,CA3BmC,CA4B/CE;AAAeF,MAAA,CAAW,CAAX,CACjB,IAAIG,gBAAiBC,CAAAA,qBAArB,EAA4C,QAAS,EAAG,CACtD,IAAIC,KAAOJ,SAAA,CAAU,CAAV,CACPR,WAAJ,GAAmBY,IAAnB,EACER,UAAA,CAAWJ,UAAX,CAAuBY,IAAvB,CAHoD,CAAxD,CAKG,CAACJ,SAAD,CALH,CAQA,IAAIE,gBAAiBC,CAAAA,qBAArB,EAA4C,QAAS,EAAG,CA5CvCd,IAAAA,EA6Cf,GAAcV,KAAd,EACEc,aAAA,CAAcd,KAAd,CAFoD,CAAxD,CAIG,CAACA,KAAD,CAJH,CAOI0B,OAAAA,CAAgB,GAAIR,SAAUrB,CAAAA,OAAd,EAAuB,QAAS,CAAC8B,OAAD,CAAUC,aAAV,CAAyB,CAC3Ed,aAAA,CAAca,OAAd,CAAuBC,aAAvB,CACAN,aAAA,CAAa,CAACP,WAAD,CAAb,CAA4Ba,aAA5B,CAF2E,CAAzD,CAIpB,OAAO,CAACZ,IAAD,CAAkBU,MAAlB,CAhD0C,CAbnD,KAAId,gBAAkBhB,MAAA,CAAuBH,OAAA,CAAQ,0DAAR,CAAvB,CAAtB;AACIyB,UAAYtB,MAAA,CAAuBH,OAAA,CAAQ,gDAAR,CAAvB,CADhB,CAEI8B,iBAAmB9B,OAAA,CAAQ,uDAAR,CAFvB,CAGIgB,WAAab,MAAA,CAAuBH,OAAA,CAAQ,gDAAR,CAAvB,CAXgG;",
"sources":["node_modules/rc-util/lib/hooks/useMergedState.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$rc_util$lib$hooks$useMergedState\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useMergedState;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _useEvent = _interopRequireDefault(require(\"./useEvent\"));\nvar _useLayoutEffect = require(\"./useLayoutEffect\");\nvar _useState5 = _interopRequireDefault(require(\"./useState\"));\n/** We only think `undefined` is empty */\nfunction hasValue(value) {\n  return value !== undefined;\n}\n\n/**\n * Similar to `useState` but will use props value if provided.\n * Note that internal use rc-util `useState` hook.\n */\nfunction useMergedState(defaultStateValue, option) {\n  var _ref = option || {},\n    defaultValue = _ref.defaultValue,\n    value = _ref.value,\n    onChange = _ref.onChange,\n    postState = _ref.postState;\n\n  // ======================= Init =======================\n  var _useState = (0, _useState5.default)(function () {\n      if (hasValue(value)) {\n        return value;\n      } else if (hasValue(defaultValue)) {\n        return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n      } else {\n        return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n      }\n    }),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    innerValue = _useState2[0],\n    setInnerValue = _useState2[1];\n  var mergedValue = value !== undefined ? value : innerValue;\n  var postMergedValue = postState ? postState(mergedValue) : mergedValue;\n\n  // ====================== Change ======================\n  var onChangeFn = (0, _useEvent.default)(onChange);\n  var _useState3 = (0, _useState5.default)([mergedValue]),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    prevValue = _useState4[0],\n    setPrevValue = _useState4[1];\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\n    var prev = prevValue[0];\n    if (innerValue !== prev) {\n      onChangeFn(innerValue, prev);\n    }\n  }, [prevValue]);\n\n  // Sync value back to `undefined` when it from control to un-control\n  (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\n    if (!hasValue(value)) {\n      setInnerValue(value);\n    }\n  }, [value]);\n\n  // ====================== Update ======================\n  var triggerChange = (0, _useEvent.default)(function (updater, ignoreDestroy) {\n    setInnerValue(updater, ignoreDestroy);\n    setPrevValue([mergedValue], ignoreDestroy);\n  });\n  return [postMergedValue, triggerChange];\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","default","Object","defineProperty","value","useMergedState","defaultStateValue","option","_ref","defaultValue","onChange","postState","_useState","_useState5","undefined","_useState2","_slicedToArray2","innerValue","setInnerValue","mergedValue","postMergedValue","onChangeFn","_useEvent","_useState3","_useState4","prevValue","setPrevValue","_useLayoutEffect","useLayoutUpdateEffect","prev","triggerChange","updater","ignoreDestroy"]
}
